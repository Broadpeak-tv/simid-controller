!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("baseSmartLibModule",[],t):"object"==typeof exports?exports.baseSmartLibModule=t():e.baseSmartLibModule=t()}("undefined"!=typeof self?self:global,(function(){return function(){"use strict";var __webpack_modules__={4221:function(e,t,n){n.d(t,{Z:function(){return s}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var s=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));o(s,"CLICK","click"),o(s,"INVITATION_ACCEPTED","invitationAccept")},5911:function(e,t,n){n.d(t,{Z:function(){return he}});n(429),n(752),n(228),n(1694),n(1090),n(6265),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(9393);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,(n=[{key:"log",value:function(e,t,n){var i=r.ED.formatDate();switch(e){case 0:console.log(i+" V/"+t+": "+n);break;case 1:console.log(i+" D/"+t+": "+n);break;case 2:console.log(i+" I/"+t+": "+n);break;case 3:console.log(i+" W/"+t+": "+n);break;case 4:console.log(i+" E/"+t+": "+n);break;default:console.log(i+" ?/"+t+": "+n)}}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(4043),n(9873),n(8436),n(7522);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var s="BpkRequestHandler",u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"get",value:function(e,t,n,i){var o=new XMLHttpRequest,a=!1,u={};for(var l in o.onreadystatechange=function(){if(o.readyState===o.DONE){var e,t=null===(e=o.getAllResponseHeaders())||void 0===e?void 0:e.trim().split(/[\r\n]+/);null==t||t.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase();u[n]=t.join(": ")})),o.status>=200&&o.status<300?i({body:o.responseText,headers:u,statusCode:o.status,message:o.statusText}):0!==o.status&&i({body:"",headers:u,statusCode:o.status,message:o.statusText})}},o.onerror=function(){a||(o.status<=0&&r.oR.e(s,"Request ended with error (CORS error, connection error...)"),i({body:"",headers:u,statusCode:o.status,message:o.statusText}))},o.ontimeout=function(){r.oR.d(s,"Request ended with timeout (xhr)"),i({body:"",headers:u,statusCode:o.status,message:o.statusText})},o.open("GET",e,!0),o.timeout=n,this.deleteUnsafeHeaders(t),t)o.setRequestHeader(l,t[l]);o.send(),setTimeout((function(){o.readyState!==o.DONE&&(a=!0,o.abort(),r.oR.d(s,"Request ended with timeout (setTimeout)"),i({body:"",headers:u,statusCode:o.status,message:o.statusText}))}),n+100)}},{key:"post",value:function(e,t,n,i,o){var a=new XMLHttpRequest,u=!1,l={};for(var c in a.onreadystatechange=function(){if(a.readyState===a.DONE){var e,t=null===(e=a.getAllResponseHeaders())||void 0===e?void 0:e.trim().split(/[\r\n]+/);null==t||t.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase();l[n]=t.join(": ")})),a.status>=200&&a.status<300?o({body:a.responseText,headers:l,statusCode:a.status,message:a.statusText}):0!==a.status&&o({body:"",headers:l,statusCode:a.status,message:a.statusText})}},a.onerror=function(){u||(a.status<=0&&r.oR.e(s,"Request ended with error (CORS error, connection error...)"),o({body:"",headers:l,statusCode:a.status,message:a.statusText}))},a.ontimeout=function(){r.oR.d(s,"Request ended with timeout (xhr)"),o({body:"",headers:l,statusCode:a.status,message:a.statusText})},a.open("POST",e,!0),a.timeout=i,this.deleteUnsafeHeaders(t),t)a.setRequestHeader(c,t[c]);a.send(n),setTimeout((function(){a.readyState!==a.DONE&&(u=!0,a.abort(),r.oR.d(s,"Request ended with timeout (setTimeout)"),o({body:"",headers:l,statusCode:a.status,message:a.statusText}))}),i+100)}},{key:"deleteUnsafeHeaders",value:function(e){"object"!=typeof window&&"function"!=typeof XMLHttpRequest||(delete e["User-Agent"],delete e["Accept-Charset"],delete e["Accept-Encoding"],delete e["Access-Control-Request-Headers"],delete e["Access-Control-Request-Method"],delete e.Connection,delete e["Content-Length"],delete e.Cookie,delete e.Cookie2,delete e.Date,delete e.DNT,delete e.Expect,delete e.Host,delete e["Keep-Alive"],delete e.Origin,delete e.Referer,delete e.TE,delete e.Trailer,delete e["Transfer-Encoding"],delete e.Upgrade,delete e.Via)}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),l=n(9550);n(7267);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var v="BpkBrowserAppStateMgr",h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"initialized",void 0),d(this,"listeners",void 0)}var t,n,i;return t=e,(n=[{key:"init",value:function(){r.oR.d(v,"Initializing browser app state manager..."),this.initialized||(r.OT.getInstance().setDeviceInfo(this.getOSName(),this.getOSVersion(),this.getDeviceType()),r.OT.getInstance().bind(),this.listeners={},"undefined"!=typeof window&&void 0===window.addEventListener&&r.oR.w(v,"Are you running a React Native app? If yes, please import module '@broadpeak/smartlib-react-native'"),this.registerNetworkObserver(),this.initialized=!0)}},{key:"getOSName",value:function(){return"undefined"!=typeof device&&void 0!==device.platform?device.platform:"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.platform?window.navigator.platform:"NA"}},{key:"getOSVersion",value:function(){var e;"undefined"!=typeof device&&void 0!==device.version?e=device.version:"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.appVersion&&(e=window.navigator.appVersion),void 0===e&&(e="");var t=e.replace(/ /g,"_").replace(/;/g,"_");return t.length>=30?t.substring(0,30):0===t.length?"NA":t}},{key:"getDeviceType",value:function(){return"undefined"!=typeof cast&&void 0!==cast.receiver?"chromecast":"browser"}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"registerNetworkObserver",value:function(){this.listeners[0]=this.onNetworkOnline.bind(this),this.listeners[1]=this.onNetworkOffline.bind(this),"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.onLine&&(!0===window.navigator.onLine?r.OT.getInstance().notifyNetworkAvailable(1):r.OT.getInstance().notifyNetworkLost()),window.addEventListener("online",this.listeners[0]),window.addEventListener("offline",this.listeners[1])}},{key:"unregisterNetworkObserver",value:function(){window.removeEventListener("online",this.listeners[0]),window.removeEventListener("offline",this.listeners[1]),this.listeners[0]=void 0,this.listeners[1]=void 0}},{key:"onNetworkOnline",value:function(){r.OT.getInstance().notifyNetworkAvailable(1)}},{key:"onNetworkOffline",value:function(){r.OT.getInstance().notifyNetworkLost()}},{key:"registerLifecycleEvents",value:function(){this.listeners[2]=this.onMoveToForeground.bind(this),this.listeners[3]=this.onMoveToBackground.bind(this),window.addEventListener("focus",this.listeners[2]),window.addEventListener("blur",this.listeners[3])}},{key:"unregisterLifecycleEvents",value:function(){window.removeEventListener("focus",this.listeners[2]),window.removeEventListener("blur",this.listeners[3]),this.listeners[2]=void 0,this.listeners[3]=void 0}},{key:"onMoveToForeground",value:function(){r.OT.getInstance().notifyForeground()}},{key:"onMoveToBackground",value:function(){r.OT.getInstance().notifyBackground()}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(8324),n(268);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function y(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var E="BpkWebOSAppStateMgr",S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"initialized",void 0),y(this,"subscriptionHandle",void 0),y(this,"webOSVersion",void 0)}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;r.oR.d(E,"Initializing webOS app state manager..."),this.initialized||(this.webOSVersion="",webOS.deviceInfo((function(t){e.webOSVersion=t.sdkVersion,void 0!==e.webOSVersion?(r.oR.d(E,"Receiving sdk version through deviceInfo: "+e.webOSVersion),e.registerNetworkObserver(),r.OT.getInstance().setDeviceInfo("webOS",e.webOSVersion,"tv"),r.OT.getInstance().bind()):webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion"]},onSuccess:function(t){void 0!==t.sdkVersion&&(e.webOSVersion=t.sdkVersion,r.oR.d(E,"Receiving sdk version through luna API: "+e.webOSVersion),e.registerNetworkObserver(),r.OT.getInstance().setDeviceInfo("webOS",e.webOSVersion,"tv"),r.OT.getInstance().bind())},onFailure:function(e){r.oR.d(E,"Error while receiving webOS version ("+JSON.stringify(e)+")")}})})),this.initialized=!0)}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"updateNetworkState",value:function(e){var t,n,i="yes"===(null===(t=e.wifi)||void 0===t?void 0:t.onInternet);!0==("yes"===(null===(n=e.wired)||void 0===n?void 0:n.onInternet))?r.OT.getInstance().notifyNetworkAvailable(30):!0===i?r.OT.getInstance().notifyNetworkAvailable(10):r.OT.getInstance().notifyNetworkLost()}},{key:"registerNetworkObserver",value:function(){var e=this.webOSVersion.startsWith("3")?"luna://com.webos.service.connectionmanager":"luna://com.palm.connectionmanager",t=this;webOS.service.request(e,{method:"getStatus",onSuccess:function(e){t.updateNetworkState(e)},onFailure:function(e){r.oR.e(E,"Failed to get network state"),r.oR.e(E,"["+e.errorCode+"]: "+e.errorText)}}),this.subscriptionHandle=webOS.service.request(e,{method:"getStatus",parameters:{subscribe:!0},onSuccess:function(e){void 0===e.subscribed||e.subscribed?t.updateNetworkState(e):r.oR.e(E,"Failed to subscribe network state")},onFailure:function(e){r.oR.e(E,"Failed to get network state"),r.oR.e(E,"["+e.errorCode+"]: "+e.errorText)}})}},{key:"unregisterNetworkObserver",value:function(){void 0!==this.subscriptionHandle&&(this.subscriptionHandle.cancel(),this.subscriptionHandle=void 0)}}])&&p(t.prototype,n),i&&p(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R="BpkTizenAppStateMgr",N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"initialized",void 0),b(this,"networkInitializer",void 0),b(this,"networkInitializerNumber",void 0),b(this,"listeners",void 0)}var t,n,i;return t=e,(n=[{key:"init",value:function(){r.oR.d(R,"Initializing tizen app state manager..."),this.initialized||(r.OT.getInstance().setDeviceInfo("Tizen",this.getOSVersion(),"tv"),r.OT.getInstance().bind(),this.listeners={},this.startNetworkInitializer(),this.initialized=!0)}},{key:"getOSVersion",value:function(){return"undefined"!=typeof tizen&&void 0!==tizen.systeminfo?tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"):"NA"}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"onNetworkChange",value:function(e){var t=null;try{t=webapis.network.getActiveConnectionType()}catch(e){r.oR.e(R,"getActiveConnectionType exception ["+e.code+"] message: "+e.message)}if(null!=t){switch(t){case webapis.network.NetworkActiveConnectionType.DISCONNECTED:r.OT.getInstance().notifyNetworkLost();break;case webapis.network.NetworkActiveConnectionType.WIFI:r.OT.getInstance().notifyNetworkAvailable(10);break;case webapis.network.NetworkActiveConnectionType.ETHERNET:r.OT.getInstance().notifyNetworkAvailable(30)}r.oR.d(R,"Active connection type: "+t)}}},{key:"startNetworkInitializer",value:function(){var e=this;void 0!==this.networkInitializer&&clearInterval(this.networkInitializer),this.networkInitializerNumber=0,this.networkInitializer=setInterval((function(){void 0!==webapis.network?(r.oR.d(R,"Network API is now available"),clearInterval(e.networkInitializer),e.networkInitializer=void 0,e.registerNetworkObserver()):e.networkInitializerNumber>30?(r.oR.e(R,"The webapis.js script is required in order to get the network type."),clearInterval(e.networkInitializer),e.networkInitializer=void 0):e.networkInitializerNumber++}),100)}},{key:"registerNetworkObserver",value:function(){void 0===webapis.network&&r.oR.e(R,"The webapis.js script is required in order to get the network type."),this.onNetworkChange(void 0);try{this.listeners[0]=webapis.network.addNetworkStateChangeListener(this.onNetworkChange)}catch(e){r.oR.e(R,"addNetworkStateChangeListener exception ["+e.code+"] name: "+e.name+" message: "+e.message)}}},{key:"unregisterNetworkObserver",value:function(){try{webapis.network.removeNetworkStateChangeListener(this.listeners[0])}catch(e){r.oR.e(R,"removeNetworkStateChangeListener exception ["+e.code+"] name: "+e.name+" message: "+e.message)}this.listeners[0]=void 0}}])&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(8052),n(6034),n(50);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function A(e,t){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},A(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function k(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(o,e);var t,n,r,i=O(o);function o(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=i.call(this),n=w(t),a=void 0,(r=k(r="nonceManager"))in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.nonceManager=e,t}return t=o,(n=[{key:"getNonce",value:function(){return this.nonceManager.getNonce()}},{key:"sendAdClick",value:function(){this.nonceManager.sendAdClick()}},{key:"sendAdImpression",value:function(){this.nonceManager.sendAdImpression()}},{key:"sendPlaybackStart",value:function(){}},{key:"sendPlaybackEnd",value:function(){}}])&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.xu);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var i=U(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,n)}}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function x(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var B="BpkBrowserAdPalManager",G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,i,o=C(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),x(L(e=o.call(this)),"palSDK",void 0),x(L(e),"consentSettings",void 0),x(L(e),"nonceLoader",void 0),x(L(e),"descriptionURL",void 0),x(L(e),"partnerName",void 0),x(L(e),"partnerVersion",void 0),x(L(e),"omidVersion",void 0),x(L(e),"playerType",void 0),x(L(e),"playerVersion",void 0),x(L(e),"ppid",void 0),x(L(e),"videoPlayerHeight",void 0),x(L(e),"videoPlayerWidth",void 0),x(L(e),"willAdAutoPlay",void 0),x(L(e),"willAdPlayMuted",void 0),e}return t=a,(n=[{key:"loadPALSDK",value:function(){this.palSDK=r.Vv.getInstance().palSDK}},{key:"setConsentSettings",value:function(e){this.loadPALSDK(),void 0!==this.palSDK?(this.consentSettings=e,this.nonceLoader=new this.palSDK.pal.NonceLoader(e)):r.oR.e(B,"PAL SDK not attached, please set it through AdManager.getInstance().attachPALSDK(...)")}},{key:"generateAdPalSession",value:function(e){if(void 0===this.nonceLoader||void 0===this.consentSettings)return r.oR.e(B,"Cannot generate a nonce, please set a ConsentSettings through AdManager.getInstance().setConsentSettings(...)"),void e(void 0);var t=new this.palSDK.pal.NonceRequest;void 0!==this.descriptionURL&&(t.descriptionUrl=this.descriptionURL),void 0!==this.partnerName&&(t.omidPartnerName=this.partnerName),void 0!==this.partnerVersion&&(t.omidPartnerVersion=this.partnerVersion),void 0!==this.omidVersion&&(t.omidVersion=this.omidVersion),void 0!==this.playerType&&(t.playerType=this.playerType),void 0!==this.playerVersion&&(t.playerVersion=this.playerVersion),void 0!==this.ppid&&(t.ppid=this.ppid),void 0!==this.videoPlayerHeight&&(t.videoHeight=this.videoPlayerHeight),void 0!==this.videoPlayerWidth&&(t.videoWidth=this.videoPlayerWidth),void 0!==this.willAdAutoPlay&&(t.adWillAutoPlay=this.willAdAutoPlay),void 0!==this.willAdPlayMuted&&(t.adWillPlayMuted=this.willAdPlayMuted),this.nonceLoader.loadNonceManager(t).then((function(t){var n=new M(t);e(n)})).catch((function(t){r.oR.e(B,"Error when generating the nonce"),console.log(t),e(void 0)}))}},{key:"reset",value:function(){}},{key:"release",value:function(){this.consentSettings=void 0,this.nonceLoader=void 0}},{key:"setDescriptionURL",value:function(e){this.descriptionURL=e}},{key:"setOmidPartner",value:function(e,t){this.partnerName=e,this.partnerVersion=t}},{key:"setOmidVersion",value:function(e){this.omidVersion=e}},{key:"setPlayerType",value:function(e){this.playerType=e}},{key:"setPlayerVersion",value:function(e){this.playerVersion=e}},{key:"setPpid",value:function(e){this.ppid=e}},{key:"setVideoPlayerHeight",value:function(e){this.videoPlayerHeight=e}},{key:"setVideoPlayerWidth",value:function(e){this.videoPlayerWidth=e}},{key:"setWillAdAutoPlay",value:function(e){this.willAdAutoPlay=e}},{key:"setWillAdPlayMuted",value:function(e){this.willAdPlayMuted=e}}])&&P(t.prototype,n),i&&P(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.u5);function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Z=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=F(n="initialized"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,i;return t=e,(n=[{key:"init",value:function(){r.oR.d("BpkNodeAppStateMgr","Initializing Node.js app state manager..."),this.initialized||(r.OT.getInstance().setDeviceInfo(this.getOSName(),this.getOSVersion(),this.getDeviceType()),r.OT.getInstance().bind(),this.initialized=!0)}},{key:"getOSName",value:function(){return"undefined"!=typeof process?process.platform:"NA"}},{key:"getOSVersion",value:function(){var e=(0,l.A)("os");return void 0!==e?e.release():"NA"}},{key:"getDeviceType",value:function(){return"nodejs"}},{key:"release",value:function(){this.initialized&&(this.initialized=!1)}}])&&V(t.prototype,n),i&&V(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),H=n(4221);function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function q(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function W(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function K(e,t){return ne(e,$(e,t,"get"))}function z(e,t,n){return J(e,$(e,t,"set"),n),n}function $(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function J(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function X(e,t,n){return te(e,t),ee(n,"get"),ne(e,n)}function ee(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function te(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function ne(e,t){return t.get?t.get.call(e):t.value}var re="BpkCoreEngine",ie=new WeakMap,oe=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,le=new WeakMap,ce=new WeakMap,de=new WeakMap,fe=new WeakMap,ve=new WeakMap,he=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,ie,{writable:!0,value:void 0}),q(this,oe,{writable:!0,value:void 0}),q(this,ae,{writable:!0,value:void 0}),q(this,se,{writable:!0,value:void 0}),q(this,ue,{writable:!0,value:void 0}),q(this,le,{writable:!0,value:void 0}),q(this,ce,{writable:!0,value:void 0}),q(this,de,{writable:!0,value:void 0}),q(this,fe,{writable:!0,value:void 0}),q(this,ve,{writable:!0,value:void 0}),z(this,ie,!1),z(this,oe,void 0),z(this,ae,new o)}var t,i,a;return t=e,a=[{key:"getInstance",value:function(){var t,n,r,i;return X(e,e,pe)||(t=e,n=e,r=pe,i=new e,te(t,n),ee(r,"set"),J(t,r,i)),X(e,e,pe)}}],(i=[{key:"init",value:function(){if(!K(this,ie)){z(this,ie,!0);var e=Date.now();this.log(r.in.VERBOSE,re,"Loading engine..."),this.log(r.in.VERBOSE,re,"Version: 42b6a62"),this.registerSystemFunctions(),"object"==typeof window?this.registerSmartLibFunctions(window):(this.registerSmartLibFunctions(),"undefined"==typeof XMLHttpRequest&&(n.g.XMLHttpRequest=(0,l.A)("xmlhttprequest").XMLHttpRequest)),this.log(r.in.VERBOSE,re,"Took "+(Date.now()-e)+"ms to load")}}},{key:"registerSystemFunctions",value:function(){this.log(r.in.VERBOSE,re,"Registering system functions..."),r.oR.getInstance().init(K(this,ae)),r.i_.getInstance().init(new u),r.$2.getInstance().internalAdManager.setPalManager(new G)}},{key:"registerPlayerAdapters",value:function(){void 0!==e.analyticsModule&&(z(this,se,new e.analyticsModule.PlayerManagerHandler),"object"==typeof window&&(window.PlayerEventListener=e.analyticsModule.PlayerEventListener,window.GenericPlayerApi=e.analyticsModule.GenericPlayerApi))}},{key:"loadModules",value:function(){"object"==typeof window?(r.$2.analyticsModule=this.getBrowserModule("analyticsSmartLibModule","Analytics",r.$2.analyticsModule),r.$2.adModule=this.getBrowserModule("adSmartLibModule","Ad",r.$2.adModule),r.$2.nanoCDNModule=this.getBrowserModule("nanocdnSmartLibModule","nanoCDN",r.$2.nanoCDNModule),r.$2.diversityModule=this.getBrowserModule("diversitySmartLibModule","Diversity",r.$2.diversityModule),r.$2.monitoringModule=this.getBrowserModule("monitoringSmartLibModule","Monitoring",r.$2.monitoringModule),e.reactNativeModule=this.getBrowserModule("reactnativeSmartLibModule","React Native",e.reactNativeModule),e.shakaModule=this.getBrowserModule("shakaSmartLibModule","Shaka Player",e.shakaModule),void 0!==e.shakaModule&&(window.ShakaPlayerAdapter=e.shakaModule.ShakaPlayerAdapter),e.dashjsModule=this.getBrowserModule("dashjsSmartLibModule","Dash.js",e.dashjsModule),void 0!==e.dashjsModule&&(window.DashJsPlayerAdapter=e.dashjsModule.DashJsPlayerAdapter),e.html5Module=this.getBrowserModule("html5SmartLibModule","HTML5 player",e.html5Module),e.avplayModule=this.getBrowserModule("avplaySmartLibModule","AVPlay",e.avplayModule),e.diw387Module=this.getBrowserModule("diw387SmartLibModule","Sagemcom",e.diw387Module),e.hbbtv1Module=this.getBrowserModule("hbbtv1SmartLibModule","HbbTV1",e.hbbtv1Module),e.kalturaModule=this.getBrowserModule("kalturaSmartLibModule","Kaltura",e.kalturaModule),e.connectplayerModule=this.getBrowserModule("connectplayerSmartLibModule","CONNECT Player",e.connectplayerModule),void 0!==e.connectplayerModule&&(window.ConnectPlayerAdapter=e.connectplayerModule.ConnectPlayerAdapter),e.rxplayerModule=this.getBrowserModule("rxplayerSmartLibModule","RxPlayer",e.rxplayerModule),e.hlsjsModule=this.getBrowserModule("hlsjsModule","HLS.js",e.hlsjsModule),e.bitmovinModule=this.getBrowserModule("bitmovinModule","Bitmovin",e.bitmovinModule),e.theoplayerModule=this.getBrowserModule("theoplayerModule","THEOplayer",e.theoplayerModule),void 0!==e.theoplayerModule&&(window.THEOPlayerAdapter=e.theoplayerModule.THEOPlayerAdapter),e.reactnativeconnectplayerModule=this.getBrowserModule("reactnativeconnectplayerModule","React Native CONNECT Player",e.reactnativeconnectplayerModule),e.reactnativetheoplayerModule=this.getBrowserModule("reactnativetheoplayerModule","React Native THEOplayer",e.reactnativetheoplayerModule),e.chromecastModule=this.getBrowserModule("chromecastModule","Chromecast",e.chromecastModule)):!0===e.modular&&(r.$2.analyticsModule=this.getNodeModule("analytics","Analytics"),r.$2.adModule=this.getNodeModule("ad","Ad"),r.$2.nanoCDNModule=this.getNodeModule("nanocdn","nanoCDN"),r.$2.diversityModule=this.getNodeModule("diversity","Diversity"),r.$2.monitoringModule=this.getNodeModule("monitoring","Monitoring"),e.reactNativeModule=this.getNodeModule("reactnative","React Native"),e.shakaModule=this.getNodeModule("shaka","Shaka Player"),e.dashjsModule=this.getNodeModule("dashjs","Dash.js"),e.html5Module=this.getNodeModule("html5","HTML5 player"),e.avplayModule=this.getNodeModule("avplay","AVPlay"),e.diw387Module=this.getNodeModule("diw387","Sagemcom"),e.hbbtv1Module=this.getNodeModule("hbbtv1","HbbTV1"),e.kalturaModule=this.getNodeModule("kaltura","Kaltura"),e.connectplayerModule=this.getNodeModule("connectplayer","CONNECT Player"),e.rxplayerModule=this.getNodeModule("rxplayer","RxPlayer"),e.hlsjsModule=this.getNodeModule("hlsjs","HLS.js"),e.bitmovinModule=this.getNodeModule("bitmovin","Bitmovin"),e.theoplayerModule=this.getNodeModule("theoplayer","THEOplayer"),e.reactnativeconnectplayerModule=this.getNodeModule("reactnativeconnectplayer","React Native CONNECT Player"),e.reactnativetheoplayerModule=this.getNodeModule("reactnativetheoplayer","React Native THEOplayer"),e.chromecastModule=this.getNodeModule("chromecast","Chromecast")),void 0!==K(this,oe)&&void 0!==r.$2.monitoringModule&&(K(this,oe).RealTimeMonitoringManager=r.$2.monitoringModule.RealTimeMonitoringManager)}},{key:"getBrowserModule",value:function(e,t,n){if(void 0!==n)return r.oR.i(re,t+" module loaded (from index)"),n;r.oR.i(re,t+" module not loaded")}},{key:"getNodeModule",value:function(e,t){try{var n=(0,l.W)("@broadpeak/smartlib-"+e);return r.oR.i(re,t+" module loaded"),n}catch(n){try{var i=(0,l.A)("./"+e+".smartlib.browser");return r.oR.i(re,t+" module loaded"),i}catch(e){r.oR.i(re,t+" module not loaded")}}}},{key:"registerSmartLibFunctions",value:function(t){var n=this;z(this,oe,t);var i,o,a=function(){var t,i;"undefined"!=typeof webOS?(void 0===K(n,ce)&&z(n,ce,new S),K(n,ce).init()):"undefined"!=typeof tizen&&"undefined"!=typeof webapis?(void 0===K(n,de)&&z(n,de,new N),K(n,de).init()):"undefined"!=typeof sagem||(void 0!==(null===(t=e.reactNativeModule)||void 0===t?void 0:t.ReactNativeAppStateManager.platform)?(void 0===K(n,ve)&&z(n,ve,new e.reactNativeModule.ReactNativeAppStateManager),K(n,ve).init()):"undefined"!=typeof window?(void 0===K(n,le)&&z(n,le,new h),K(n,le).init()):"undefined"!=typeof process&&"node"===process.release.name&&(void 0===K(n,fe)&&z(n,fe,new Z),K(n,fe).init())),n.loadModules(),void 0!==K(n,ve)?z(n,ue,new e.reactNativeModule.ReactNativeCacheHandler(e.reactNativeModule.ReactNativeAppStateManager.asyncCache)):void 0!==e.analyticsModule&&z(n,ue,new e.analyticsModule.CacheHandler),null===(i=r.$2.analyticsModule)||void 0===i||i.CacheManager.getInstance().init(K(n,ue))};r.$2.prototype.defaultInit=r.$2.prototype.init,r.$2.prototype.init=function(e,t,n,r){a(),this.defaultInit(e,t,n,r)},r.$2.prototype.defaultInitAnalytics=r.$2.prototype.initAnalytics,r.$2.prototype.initAnalytics=function(e){a(),this.defaultInitAnalytics(e)},r.$2.prototype.defaultAttachPlayer=r.$2.prototype.attachPlayer,r.$2.prototype.attachPlayer=function(e,t){var i,o;null===(i=r.$2.analyticsModule)||void 0===i||i.PlayerManager.getInstance().init(K(n,se));var a=null===(o=K(n,se))||void 0===o?void 0:o.attachPlayer(e,t);this.defaultAttachPlayer(a)},r.$2.prototype.defaultRelease=r.$2.prototype.release,r.$2.prototype.release=function(){this.defaultRelease(),void 0!==K(n,le)&&(K(n,le).release(),z(n,le,void 0)),void 0!==K(n,ce)&&(K(n,ce).release(),z(n,ce,void 0)),void 0!==K(n,de)&&(K(n,de).release(),z(n,de,void 0)),void 0!==K(n,fe)&&(K(n,fe).release(),z(n,fe,void 0)),void 0!==K(n,ve)&&(K(n,ve).release(),z(n,ve,void 0))},r.u3.prototype.defaultAttachPlayer=r.u3.prototype.attachPlayer,r.u3.prototype.attachPlayer=function(e,t){var i,o;null===(i=r.$2.analyticsModule)||void 0===i||i.PlayerManager.getInstance().init(K(n,se));var a=null===(o=K(n,se))||void 0===o?void 0:o.attachPlayer(e,t);this.defaultAttachPlayer(a)},"object"==typeof t&&(t.SmartLib=Object.assign(r.$2.getInstance(),r.$2),t.SmartLib.getInstance=function(){return r.$2.getInstance()},t.LoggerManager=r.oR,t.PlayerEventListener=null===(i=e.analyticsModule)||void 0===i?void 0:i.PlayerEventListener,t.GenericPlayerApi=null===(o=e.analyticsModule)||void 0===o?void 0:o.GenericPlayerApi,t.PlayerApiImp={getVersion:function(){var e,t=null===(e=r.$2.analyticsModule)||void 0===e?void 0:e.PlayerManager.getInstance().getPlayerAdapter();return void 0!==t&&"function"==typeof t.getVersion?t.getVersion():"undefined"},getErrorCode:function(e){var t,n=null===(t=r.$2.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter();return void 0!==n&&"function"==typeof n.getErrorCode?n.getErrorCode(e):r.$2.BPUnspecifiedError}},t.StreamingSession=r.u3,t.StreamingSessionOptions=r.MK,t.StreamingSessionResult=r.Gm,t.AdManager=r.Vv,t.AdInteractionType=H.Z)}},{key:"log",value:function(e,t,n){K(this,ae).log(e,t,n)}}])&&Y(t.prototype,i),a&&Y(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pe={writable:!0,value:void 0};W(he,"modular",!0),W(he,"analyticsModule",void 0),W(he,"reactNativeModule",void 0),W(he,"shakaModule",void 0),W(he,"dashjsModule",void 0),W(he,"html5Module",void 0),W(he,"avplayModule",void 0),W(he,"diw387Module",void 0),W(he,"hbbtv1Module",void 0),W(he,"kalturaModule",void 0),W(he,"connectplayerModule",void 0),W(he,"rxplayerModule",void 0),W(he,"hlsjsModule",void 0),W(he,"bitmovinModule",void 0),W(he,"theoplayerModule",void 0),W(he,"reactnativeconnectplayerModule",void 0),W(he,"reactnativetheoplayerModule",void 0),W(he,"chromecastModule",void 0)},9550:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function nativeRequire(lib){return eval("require")(lib)}function nativeMainRequire(lib){return eval("require").main.require(lib)}__webpack_require__.d(__webpack_exports__,{A:function(){return nativeRequire},W:function(){return nativeMainRequire}})},292:function(e,t,n){n.d(t,{Z:function(){return V}});n(4043),n(7267),n(228),n(3964),n(752),n(1694),n(1090),n(6265),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(6138),i=n(5750),o=n(311),a=n(5114),s=(n(2506),n(7522),n(5477)),u=n(6388),l=n(9170),c=n(242),d=n(9393),f=n(6293);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function h(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y="BpkSessionMgr",g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"smartLib",void 0),h(this,"sessions",void 0)}var t,n,r;return t=e,n=[{key:"init",value:function(e){this.smartLib=e,this.sessions=[]}},{key:"createStreamingSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.cleanFinishedSessions();var n=new c.u(this.smartLib,l.M.create(e,t));return this.sessions.push(n),this.sessions.length>10&&d.oR.w(y,"There are "+this.sessions.length+" active sessions. Use session.stopStreamingSession() to free up memory."),n}},{key:"createAnalyticsSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.cleanFinishedSessions();var n=new V.analyticsModule.AnalyticsSession(this.smartLib,l.M.create(e,t));return this.sessions.push(n),this.sessions.length>10&&d.oR.w(y,"There are "+this.sessions.length+" active sessions. Use session.stopStreamingSession() to free up memory."),n}},{key:"cleanFinishedSessions",value:function(){for(var t=this.sessions.length-1;t>=0;t--){var n,r,i=this.sessions[t];void 0===i.handler&&Date.now()-i.date>e.UNSTARTED_SESSION_MAX_DURATION?(null===(r=i.playerAdapter)||void 0===r||r.detachPlayer(),this.sessions.splice(t,1)):(!0===(null===(n=i.handler)||void 0===n?void 0:n.stopped)||!0===i.stopped)&&this.sessions.splice(t,1)}}},{key:"createSessionHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new s.Z(this.smartLib,e);return void 0!==e?(t.id=e.id,t.options=e.options,t.playerAdapter=e.playerAdapter):(t.id="main-"+f.Z.randomIntFromInterval(10,99),t.options=new l.M),t}},{key:"createProxySessionHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new u.Z(this.smartLib,e);return void 0!==e?(t.id=e.id,t.options=e.options,t.playerAdapter=e.playerAdapter):(t.id="main-"+f.Z.randomIntFromInterval(10,99),t.options=new l.M),t}},{key:"release",value:function(){this.cleanFinishedSessions(),this.sessions.forEach((function(e){void 0!==V.analyticsModule&&e instanceof V.analyticsModule.AnalyticsSession?e.stopAnalyticsSession():e.stopStreamingSession()})),this.sessions=[]}}],n&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();h(g,"UNSTARTED_SESSION_MAX_DURATION",36e4);var E=n(9113),S=n(9275),m=n(1221),b=n(2239);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function R(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function N(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function A(e,t){return D(e,w(e,t,"get"))}function O(e,t,n){return I(e,w(e,t,"set"),n),n}function w(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function I(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function k(e,t,n){return P(e,t),M(n,"get"),D(e,n)}function M(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function P(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function D(e,t){return t.get?t.get.call(e):t.value}var C="BpkSmartLib",L=new WeakMap,U=new WeakMap,x=new WeakMap,j=new WeakMap,B=new WeakMap,G=new WeakMap,V=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,L,{writable:!0,value:void 0}),R(this,U,{writable:!0,value:void 0}),R(this,x,{writable:!0,value:void 0}),N(this,"options",void 0),N(this,"sessionManager",void 0),N(this,"nanoCDNHostManager",void 0),N(this,"adManager",void 0),N(this,"internalAdManager",void 0),N(this,"monitoringManager",void 0),N(this,"handler",void 0),N(this,"nanoCDNReceiver",void 0),N(this,"nanoCDNHttpsEnabled",void 0),R(this,j,{writable:!0,value:function(e){null!=e&&0!==e.length?A(t,x).analyticsAddress=e:A(t,x).analyticsAddress=""}}),R(this,B,{writable:!0,value:function(n){null!=n&&0!==n.length?(void 0===e.nanoCDNModule&&r.o.w(C,"Warning: nanoCDNHost is set while the module is not loaded."),A(t,x).nanoCDNHost=n.replace(/\s/g,"")):A(t,x).nanoCDNHost=""}}),R(this,G,{writable:!0,value:function(e){null!=e&&0!==e.length?A(t,x).broadpeakDomainNames=e.replace(/\s/g,""):A(t,x).broadpeakDomainNames=""}}),O(this,L,!1),O(this,U,!1),O(this,x,{analyticsAddress:"",nanoCDNHost:"",broadpeakDomainNames:"",forceTeardown:e.FORCE_TEARDOWN_DEFAULT,uuid:"",userAgent:void 0,deviceType:"",customParameters:{}}),this.options=new l.M,this.sessionManager=new g,this.adManager=new S.Vv,this.internalAdManager=new m.Z}var t,n,s;return t=e,s=[{key:"getInstance",value:function(){var t,n,r,i;return k(e,e,F)||(t=e,n=e,r=F,i=new e,P(t,n),M(r,"set"),I(t,r,i)),k(e,e,F)}}],(n=[{key:"init",value:function(t,n,s,u){var l,c,d,f,v,h,p;return r.o.i(C,"Init SmartLib..."),r.o.i(C,"Version: "+o.Z),A(this,L)||A(this,U)?(r.o.e(C,"Error: SmartLib already initialized, please use SmartLib.release() before initializing."),!1):void 0!==u?(r.o.e(C,"Error: this init method has been removed, please use SmartLib.init(analyticsAddress, nanoCDNHost, broadpeakDomainNames) instead."),!1):a.Z.typeOrNullParameter(t,"string","Error: analyticsAddress should be a string or null")&&a.Z.typeOrNullParameter(n,"string","Error: nanoCDNHost should be a string or null")&&a.Z.typeOrNullParameter(s,"string","Error: broadpeakDomainNames should be a string or null")?(A(this,j).call(this,t),A(this,B).call(this,n),A(this,G).call(this,s),this.setForceTeardown(e.FORCE_TEARDOWN_DEFAULT),r.o.i(C,"Parameters:analyticsAddress="+t+", nanoCDNHost="+n+", broadpeakDomainNames="+s),void 0!==e.nanoCDNModule&&void 0===this.nanoCDNHostManager&&(this.nanoCDNHostManager=new e.nanoCDNModule.NanoCDNHostManager,void 0!==this.nanoCDNReceiver&&(this.nanoCDNHostManager.registerNanoCDNReceiver(this.nanoCDNReceiver),this.nanoCDNReceiver=void 0),void 0!==this.nanoCDNHttpsEnabled&&(this.nanoCDNHostManager.setNanoCDNHttpsEnabled(this.nanoCDNHttpsEnabled),this.nanoCDNHttpsEnabled=void 0)),this.sessionManager.init(this),null===(l=this.nanoCDNHostManager)||void 0===l||l.init(this,n),this.adManager.init(this),this.internalAdManager.init(this),void 0!==e.monitoringModule&&(this.monitoringManager=new e.monitoringModule.RealTimeMonitoringManager(this)),i.Z.getInstance().attachInstance(this),null===(c=e.analyticsModule)||void 0===c||c.CacheManager.getInstance().attachInstance(this),null===(d=e.analyticsModule)||void 0===d||d.PlayerManager.getInstance().attachInstance(this),null===(f=e.nanoCDNModule)||void 0===f||f.MdnsManager.getInstance().attachInstance(this),null===(v=e.diversityModule)||void 0===v||v.DiversityManager.getInstance().attachInstance(this),null===(h=e.adModule)||void 0===h||h.OMSDKManager.getInstance().attachInstance(this),E.Z.getInstance().init(this),E.Z.getInstance().addListener(this.nanoCDNHostManager),null===(p=e.analyticsModule)||void 0===p||p.CacheManager.getInstance().clean(),O(this,L,!0),!0):(r.o.e(C,"Error: initialization aborted"),!1)}},{key:"initAnalytics",value:function(t){var n,s,u,c;return r.o.i(C,"Init SmartLib analytics..."),r.o.i(C,"Version: "+o.Z),A(this,U)||A(this,L)?(r.o.e(C,"Error: SmartLib analytics already initialized, please use SmartLib.release() before initializing."),!1):void 0===e.analyticsModule?(r.o.e(C,"Error: Analytics module not loaded, please import it."),!1):a.Z.typeOrNullParameter(t,"string","Error: analyticsAddress should be a string or null")?(A(this,j).call(this,t),this.options=new l.M,r.o.i(C,"Parameters:analyticsAddress="+t),this.sessionManager.init(this),this.adManager.init(this),this.internalAdManager.init(this),void 0!==e.monitoringModule&&(this.monitoringManager=new e.monitoringModule.RealTimeMonitoringManager(this)),i.Z.getInstance().attachInstance(this),null===(n=e.analyticsModule)||void 0===n||n.CacheManager.getInstance().attachInstance(this),null===(s=e.analyticsModule)||void 0===s||s.PlayerManager.getInstance().attachInstance(this),null===(u=e.adModule)||void 0===u||u.OMSDKManager.getInstance().attachInstance(this),E.Z.getInstance().init(this),null===(c=e.analyticsModule)||void 0===c||c.CacheManager.getInstance().clean(),O(this,U,!0),!0):(r.o.e(C,"Error: initialization aborted"),!1)}},{key:"getURL",value:function(t,n){var i,o,s;return void 0!==this.handler&&(r.o.e(C,"Exception: A session is already running, please use SmartLib.stopStreamingSession(...) before. Stopping the current one...",this.handler.id),this.stopStreamingSession()),r.o.i(C,"getURL with "+t,null===(i=this.handler)||void 0===i?void 0:i.id),void 0===n&&(n=function(){}),a.Z.typeParameter(n,"function","Error: callback should be a function")?A(this,L)?a.Z.typeParameter(t,"string","Error: requestedURL should be a string")&&a.Z.stringNonEmpty(t,"Error: requestedURL is empty")?(this.handler=this.sessionManager.createSessionHandler(),this.handler.options=l.M.create(this.options),this.handler.playerAdapter=null===(o=e.analyticsModule)||void 0===o?void 0:o.PlayerManager.getInstance().getPlayerAdapter(),this.handler.adSession=this.internalAdManager.adSession,void 0!==this.internalAdManager.adSession&&(this.internalAdManager.adSession.handler=this.handler),this.internalAdManager.adSession=new b.J,this.internalAdManager.adSession.setEventCallbackEnabled(this.internalAdManager.eventCallbackEnabled),this.internalAdManager.adSession.setAdEventsListener(this.internalAdManager.adEventsListener),this.handler.start(t,n)):(n(""),Promise.resolve("")):(r.o.e(C,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.getURL(...)",null===(s=this.handler)||void 0===s?void 0:s.id),n(""),Promise.resolve("")):Promise.resolve("")}},{key:"getQuery",value:function(){var t;return void 0!==this.handler&&(r.o.e(C,"Exception: A session is already running, please use SmartLib.stopStreamingSession(...) before. Stopping the current one..."),this.stopStreamingSession()),r.o.i(C,"getQuery"),A(this,L)?(this.handler=this.sessionManager.createProxySessionHandler(),this.handler.options=l.M.create(this.options),this.handler.playerAdapter=null===(t=e.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter(),this.handler.getQuery()):(r.o.e(C,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.getQuery(...)"),"")}},{key:"startStreamingSession",value:function(e,t){var n,i,o,s;return r.o.i(C,"startStreamingSession with "+e+" and "+t,null===(n=this.handler)||void 0===n?void 0:n.id),A(this,L)?!(!a.Z.typeParameter(e,"string","Error: contentURL should be a string")||!a.Z.typeParameter(t,"string","Error: redirectedURL should be a string")||(void 0===this.handler?(r.o.e(C,"Exception: Implementation error, SmartLib.getQuery() should be called prior to SmartLib.startStreamingSession(...)",null===(o=this.handler)||void 0===o?void 0:o.id),1):this.handler instanceof u.Z?(this.handler.start(e,t),0):(r.o.e(C,"Exception: Implementation error, SmartLib.startStreamingSession(...) cannot be called with SmartLib.getURL(...)",null===(s=this.handler)||void 0===s?void 0:s.id),1))):(r.o.e(C,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.startStreamingSession(...)",null===(i=this.handler)||void 0===i?void 0:i.id),!1)}},{key:"stopStreamingSession",value:function(e){var t,n;void 0!==e?r.o.i(C,"Stopping streaming session with statusCode "+e+"...",null===(t=this.handler)||void 0===t?void 0:t.id):r.o.i(C,"Stopping streaming session...",null===(n=this.handler)||void 0===n?void 0:n.id);var i=this.handler;return void 0!==this.handler?(this.handler.stop(e),this.handler=void 0):r.o.d(C,"Stopping streaming session aborted, no session started"),i}},{key:"createStreamingSession",value:function(e){if(A(this,L)){var t=void 0===e;t&&(e=this.options);var n=this.sessionManager.createStreamingSession(this.options,e);return t?r.o.i(C,"Creating streaming session...",n.id):(r.o.i(C,"Creating streaming session with options...",n.id),e.printUpdates(C,"",n.id)),n}r.o.e(C,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.createStreamingSession(...)")}},{key:"createAnalyticsSession",value:function(e){if(A(this,U)){var t=void 0===e;t&&(e=this.options);var n=this.sessionManager.createAnalyticsSession(this.options,e);return t?r.o.i(C,"Creating analytics session...",n.id):(r.o.i(C,"Creating analytics session with options...",n.id),e.printUpdates(C,"",n.id)),n}r.o.e(C,"Exception: Implementation error, SmartLib.initAnalytics(...) should be called prior to SmartLib.createAnalyticsSession(...)")}},{key:"release",value:function(){var t,n,o,a,s,u,c,d,f,v,h;A(this,L)&&(r.o.i(C,"Releasing SmartLib..."),this.stopStreamingSession(),this.internalAdManager.release(),this.adManager.release(),null===(t=this.nanoCDNHostManager)||void 0===t||t.release(),this.sessionManager.release(),null===(n=this.monitoringManager)||void 0===n||n.release(),E.Z.getInstance().release(),null===(o=e.diversityModule)||void 0===o||o.DiversityManager.getInstance().release(),null===(a=e.nanoCDNModule)||void 0===a||a.MdnsManager.getInstance().release(),null===(s=e.analyticsModule)||void 0===s||s.PlayerManager.getInstance().release(),null===(u=e.analyticsModule)||void 0===u||u.CacheManager.getInstance().release(),i.Z.getInstance().release(),null===(c=e.adModule)||void 0===c||c.OMSDKManager.getInstance().release(this),O(this,L,!1)),A(this,U)&&(r.o.i(C,"Releasing SmartLib analytics..."),this.stopStreamingSession(),this.internalAdManager.release(),this.adManager.release(),this.sessionManager.release(),null===(d=this.monitoringManager)||void 0===d||d.release(),E.Z.getInstance().release(),null===(f=e.analyticsModule)||void 0===f||f.PlayerManager.getInstance().release(),null===(v=e.analyticsModule)||void 0===v||v.CacheManager.getInstance().release(),i.Z.getInstance().release(),null===(h=e.adModule)||void 0===h||h.OMSDKManager.getInstance().release(this),O(this,U,!1)),this.options=new l.M,A(this,j).call(this,""),A(this,B).call(this,""),A(this,G).call(this,"")}},{key:"attachPlayer",value:function(t,n){var i,o,a;void 0!==t?(null===(i=e.analyticsModule)||void 0===i||i.PlayerManager.getInstance().setPlayerAdapter(t),void 0!==this.handler&&r.o.e(C,"Exception: You cannot attach a player when a session is running, this player will be used for the next session.",this.handler.id)):void 0===e.analyticsModule?r.o.w(C,"Try to attach a player, but analytics module not loaded",null===(o=this.handler)||void 0===o?void 0:o.id):r.o.w(C,"Try to attach a player, but it is not recognized",null===(a=this.handler)||void 0===a?void 0:a.id)}},{key:"detachPlayer",value:function(){var t;return void 0!==this.handler?(r.o.e(C,"Exception: You cannot detach the player when a session is running",this.handler.id),!1):(null===(t=e.analyticsModule)||void 0===t||t.PlayerManager.getInstance().setPlayerAdapter(void 0),!0)}},{key:"isInitialized",value:function(){return A(this,L)}},{key:"isAnalyticsInitialized",value:function(){return A(this,U)}},{key:"getMetricsManager",value:function(){if(void 0!==this.handler)return this.handler.metricsManager}},{key:"getListener",value:function(){var t;return null===(t=e.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter()}},{key:"getVersion",value:function(){return o.Z}},{key:"getParameters",value:function(){return A(this,x)}},{key:"setUUID",value:function(e){a.Z.typeParameter(e,"string","Error: uuid should be a string")&&(e.length>36?A(this,x).uuid=e.substring(0,36):A(this,x).uuid=e)}},{key:"setUserAgent",value:function(e){a.Z.typeOrUndefinedParameter(e,"string","Error: userAgent should be a string")&&(A(this,x).userAgent=e)}},{key:"setDeviceType",value:function(e){a.Z.typeParameter(e,"string","Error: deviceType should be a string")&&(A(this,x).deviceType=e,E.Z.getInstance().deviceType=e)}},{key:"setCustomParameter",value:function(e,t){"string"==typeof e?A(this,x).customParameters[e]=a.Z.toBkAString(String(t)):r.o.e(C,"Error: Only string values are accepted for custom parameters")}},{key:"resetCustomParameters",value:function(){A(this,x).customParameters={}}},{key:"setForceTeardown",value:function(t){"number"==typeof t?A(this,x).forceTeardown=t>=1?e.FORCE_TEARDOWN_ENABLED:t<=-1?e.FORCE_TEARDOWN_DISABLED:e.FORCE_TEARDOWN_DEFAULT:r.o.e(C,"Exception: parameter forceTeardown must be SmartLib.FORCE_TEARDOWN_DISABLED, SmartLib.FORCE_TEARDOWN_DEFAULT or SmartLib.FORCE_TEARDOWN_ENABLED")}},{key:"setNanoCDNResolvingRetryDelay",value:function(e){var t;void 0!==this.nanoCDNHostManager?(r.o.v(C,"Updating nanoCDN resolving retry asyncDelay to "+e+"ms"),null===(t=this.nanoCDNHostManager)||void 0===t||t.setNanoCDNResolvingRetryDelay(e)):r.o.e(C,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.setNanoCDNResolvingRetryDelay(...)")}},{key:"registerNanoCDNReceiver",value:function(e){void 0!==this.nanoCDNHostManager?(this.nanoCDNReceiver=void 0,this.nanoCDNHostManager.registerNanoCDNReceiver(e)):this.nanoCDNReceiver=e}},{key:"setNanoCDNHttpsEnabled",value:function(e){r.o.v(C,"Updating nanoCDN https enabled to "+e),void 0!==this.nanoCDNHostManager?(this.nanoCDNHttpsEnabled=void 0,this.nanoCDNHostManager.setNanoCDNHttpsEnabled(e)):this.nanoCDNHttpsEnabled=e}},{key:"restartNanoCDNResolving",value:function(){var e;null===(e=this.nanoCDNHostManager)||void 0===e||e.restartNanoCDNResolving()}},{key:"setOption",value:function(e,t){r.o.d(C,"Setting global option "+l.M.optionToString(e)+" to "+l.M.valueToString(e,t)),this.options.set(e,t)}}])&&_(t.prototype,n),s&&_(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F={writable:!0,value:void 0};N(V,"FORCE_TEARDOWN_DISABLED",-1),N(V,"FORCE_TEARDOWN_DEFAULT",0),N(V,"FORCE_TEARDOWN_ENABLED",1),N(V,"BPSessionEndsNormally",200),N(V,"BPFormatNotSupportedError",3001),N(V,"BPDecodingError",3002),N(V,"BPNetworkingError",3003),N(V,"BPAccessRightError",3004),N(V,"BPUnspecifiedError",3005),N(V,"analyticsModule",void 0),N(V,"adModule",void 0),N(V,"nanoCDNModule",void 0),N(V,"diversityModule",void 0),N(V,"monitoringModule",void 0)},311:function(e,t){t.Z="04.06.04.428cb49"},9275:function(e,t,n){n.d(t,{S0:function(){return c},Vv:function(){return v},nb:function(){return d}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288);var r=n(292),i=n(6138);function o(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=function(){function e(){a(this,e)}return u(e,null,[{key:"isAdViewState",value:function(t){switch(t){case e.MINIMIZED:case e.COLLAPSED:case e.NORMAL:case e.EXPANDED:case e.FULLSCREEN:return!0}return!1}}]),e}();o(c,"MINIMIZED","minimized"),o(c,"COLLAPSED","collapsed"),o(c,"NORMAL","normal"),o(c,"EXPANDED","expanded"),o(c,"FULLSCREEN","fullscreen");var d=function(){function e(){a(this,e)}return u(e,null,[{key:"isAdFriendlyObstructionPurpose",value:function(e){return e>=0&&e<=3}}]),e}();o(d,"VIDEO_CONTROLS",0),o(d,"CLOSE_AD",1),o(d,"NOT_VISIBLE",2),o(d,"OTHER",3);var f="BpkAdMgr",v=function(){function e(){a(this,e),o(this,"smartLib",void 0),o(this,"palSDK",void 0)}return u(e,[{key:"init",value:function(e){this.smartLib=e}},{key:"release",value:function(){}},{key:"getVersion",value:function(){return"04.05.00"}},{key:"attachPALSDK",value:function(e){"object"==typeof e.pal?(i.o.d(f,"PAL SDK attached"),this.palSDK=e):i.o.e(f,"Try to attach PAL SDK, but it is not recognized")}},{key:"setConsentSettings",value:function(e){this.smartLib.internalAdManager.setConsentSettings(e)}},{key:"setPalParameters",value:function(e,t,n,r,i,o,a,s,u,l,c){this.smartLib.internalAdManager.setPalParameters(e,t,n,r,i,o,a,s,u,l,c)}},{key:"activateAdvertising",value:function(){this.smartLib.internalAdManager.adSession.activateAdvertising()}},{key:"setAdParameter",value:function(e,t){this.smartLib.internalAdManager.adSession.setAdParameter(e,t)}},{key:"setEventCallbackEnabled",value:function(e){this.smartLib.internalAdManager.eventCallbackEnabled=e,this.smartLib.internalAdManager.adSession.setEventCallbackEnabled(e)}},{key:"setAdEventsListener",value:function(e){this.smartLib.internalAdManager.adEventsListener=e,this.smartLib.internalAdManager.adSession.setAdEventsListener(e)}}],[{key:"getInstance",value:function(){return r.Z.getInstance().adManager}}]),e}()},2239:function(e,t,n){n.d(t,{J:function(){return l}});n(228),n(7522),n(7195),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(6138),i=n(9275);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var u="BpkAdSession",l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"handler",void 0),a(this,"adEventsListener",void 0),a(this,"adDataListener",void 0),a(this,"adActivated",void 0),a(this,"adParameters",void 0),a(this,"eventCallbackEnabled",void 0),a(this,"adView",void 0),a(this,"adViewState",void 0),a(this,"adFriendlyObstructionViews",void 0),a(this,"adCustomReference",void 0),a(this,"adVerificationData",void 0),a(this,"adPalSession",void 0),this.adEventsListener=void 0,this.adActivated=!1,this.adParameters={},this.eventCallbackEnabled=!0,this.adView=void 0,this.adViewState=i.S0.NORMAL,this.adFriendlyObstructionViews=[],this.adCustomReference="",this.adVerificationData=[]}var t,n,s;return t=e,(n=[{key:"setAdEventsListener",value:function(e){var t;this.adEventsListener=e,r.o.d(u,"Ad events listener "+(void 0!==e?"set":"unset"),null===(t=this.handler)||void 0===t?void 0:t.id)}},{key:"setAdDataListener",value:function(e){var t;this.adDataListener=e,r.o.d(u,"Ad data listener "+(void 0!==e?"set":"unset"),null===(t=this.handler)||void 0===t?void 0:t.id)}},{key:"activateAdvertising",value:function(){var e;!0!==this.adActivated&&(this.adActivated=!0,r.o.d(u,"Ad session activated",null===(e=this.handler)||void 0===e?void 0:e.id))}},{key:"setAdParameter",value:function(e,t){var n;this.activateAdvertising(),this.adParameters[e]="object"==typeof t?t:String(t),r.o.d(u,"Adding parameter "+e+"="+t,null===(n=this.handler)||void 0===n?void 0:n.id)}},{key:"setEventCallbackEnabled",value:function(e){this.eventCallbackEnabled=e}},{key:"isAdActivated",value:function(){return!0===this.adActivated}},{key:"getAdAllowedQuery",value:function(){var e=this,t=["ad_allowed","adallowed"],n=["0","false"],r=!0;return Object.keys(this.adParameters).forEach((function(i){t.indexOf(i.toLowerCase())>=0&&n.indexOf(e.adParameters[i].toLowerCase())>=0&&(r=!1)})),r}},{key:"resetAdParameters",value:function(){this.adParameters={}}},{key:"hasAdParameters",value:function(){return Object.keys(this.adParameters).length>0}},{key:"onDashEvent",value:function(e){this.isAdActivated()?this.eventCallbackEnabled?r.o.d(u,"Event received but legacy mode has been deprecated",this.handler.id):r.o.d(u,"Event received but callbacks are disabled",this.handler.id):r.o.d(u,"Event received but ad not enabled (advertising not activated)",this.handler.id)}}])&&o(t.prototype,n),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1221:function(e,t,n){n.d(t,{Z:function(){return p}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288);var r=n(6138),i=(n(3964),n(4796));function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var u="BpkAdPalSessionRequest",l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"active",void 0),a(this,"timeout",void 0),a(this,"adPalManager",void 0),a(this,"adPalSession",void 0),a(this,"generating",void 0),a(this,"waitNonceResolveCallback",void 0),this.active=!0,this.timeout=!1,this.adPalManager=t,this.generating=!1}var t,n,s;return t=e,(n=[{key:"setAdPalSession",value:function(e){this.adPalSession=e,this.active=!1}},{key:"generateAdPalSession",value:function(){var t=this,n=function(){r.o.d(u,"Nonce generation timeout"),t.timeout=!0,void 0!==t.waitNonceResolveCallback&&(t.setAdPalSession(void 0),t.waitNonceResolveCallback(void 0))};this.generating=!0,i.Z.getInstance().asyncNonce(e.TIMEOUT_DELAY,(function(e){var n=e.adPalSession;r.o.d(u,"AdPalSession async nonce="+(null==n?void 0:n.getNonce())),t.setAdPalSession(n)}),n,(function(){var i=setTimeout(n,e.TIMEOUT_DELAY);t.adPalManager.generateAdPalSession((function(e){clearTimeout(i),r.o.d(u,"AdPalSession nonce="+(null==e?void 0:e.getNonce())),t.setAdPalSession(e),void 0!==t.waitNonceResolveCallback&&!1===t.timeout?t.waitNonceResolveCallback(e):void 0!==t.waitNonceResolveCallback&&!0===t.timeout&&t.waitNonceResolveCallback(void 0)}))}))}},{key:"getAdPalSession",value:function(){var t=this;return void 0===this.adPalSession&&!0===this.active?new Promise((function(n,o){i.Z.getInstance().waitNonce(e.TIMEOUT_DELAY,(function(e){var i=e.adPalSession;r.o.d(u,"AdPalSession nonce="+(null==i?void 0:i.getNonce())),t.setAdPalSession(i),n(t.adPalSession)}),(function(){t.active=!1,t.timeout=!0,t.waitNonceResolveCallback=void 0,n(t.adPalSession)}),(function(){!0===t.generating?t.waitNonceResolveCallback=n:(t.waitNonceResolveCallback=n,t.generateAdPalSession())}))})):new Promise((function(e,n){e(t.adPalSession)}))}}])&&o(t.prototype,n),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();a(l,"TIMEOUT_DELAY",5e3);var c=n(2239);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function f(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var h="BpkInternalAdMgr",p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"smartLib",void 0),f(this,"initialized",void 0),f(this,"adPalManager",void 0),f(this,"omPartnerName",void 0),f(this,"omPartnerVersion",void 0),f(this,"firstAdPalSessionRequest",void 0),f(this,"palSessionEnabled",!1),f(this,"adSession",void 0),f(this,"eventCallbackEnabled",void 0),f(this,"adEventsListener",void 0),this.initialized=!1,this.palSessionEnabled=!1,this.adSession=new c.J,this.eventCallbackEnabled=!0,this.adEventsListener=void 0}var t,n,i;return t=e,(n=[{key:"init",value:function(e){this.smartLib=e,this.initialized||(this.initialized=!0,this.adSession=new c.J,this.eventCallbackEnabled=!0,this.adEventsListener=void 0,this.omPartnerName="Broadpeak_tv",this.omPartnerVersion=e.adManager.getVersion(),r.o.d(h,"Ad manager version: "+this.omPartnerVersion),r.o.d(h,"Ad manager loaded"))}},{key:"setPalManager",value:function(e){r.o.d(h,"Native PAL manager registered"),this.adPalManager=e}},{key:"requestAdPalSession",value:function(){var e=this.firstAdPalSessionRequest;return void 0!==e&&void 0===e.adPalSession&&!0===e.active&&!1===e.timeout?(r.o.d(h,"Using first nonce request..."),this.firstAdPalSessionRequest=void 0,e):(this.firstAdPalSessionRequest=void 0,e=new l(this.adPalManager),this.initialized&&this.palSessionEnabled?(r.o.d(h,"Generating nonce..."),e.generateAdPalSession(),void 0===this.adPalManager&&e.setAdPalSession(void 0)):e.setAdPalSession(void 0),e)}},{key:"release",value:function(){this.initialized=!1,this.palSessionEnabled=!1,this.adSession=new c.J,this.eventCallbackEnabled=!0,this.adEventsListener=void 0,void 0!==this.firstAdPalSessionRequest&&(this.firstAdPalSessionRequest.setAdPalSession(void 0),this.firstAdPalSessionRequest=void 0),void 0!==this.adPalManager&&this.adPalManager.reset()}},{key:"setConsentSettings",value:function(e){var t;null===(t=this.adPalManager)||void 0===t||t.setConsentSettings(e)}},{key:"setPalParameters",value:function(e,t,n,i,o,a,s,u,c,d,f){void 0!==this.adPalManager&&(void 0!==e&&this.adPalManager.setDescriptionURL(e),void 0!==t&&void 0!==n&&this.adPalManager.setOmidPartner(t,n),void 0!==i&&this.adPalManager.setOmidVersion(i),void 0!==o&&this.adPalManager.setPlayerType(o),void 0!==a&&this.adPalManager.setPlayerVersion(a),void 0!==s&&this.adPalManager.setPpid(s),0!==u&&this.adPalManager.setVideoPlayerHeight(u),0!==c&&this.adPalManager.setVideoPlayerWidth(c),this.adPalManager.setWillAdAutoPlay(d),this.adPalManager.setWillAdPlayMuted(f),this.palSessionEnabled||(this.palSessionEnabled=!0,r.o.d(h,"Generating first nonce..."),this.firstAdPalSessionRequest=new l(this.adPalManager),this.firstAdPalSessionRequest.generateAdPalSession()))}}])&&d(t.prototype,n),i&&d(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();f(p,"AD_NONCE_QUERY_PARAMETER","paln")},9393:function(e,t,n){n.d(t,{Vv:function(){return s.Vv},u5:function(){return c},xu:function(){return v},OT:function(){return a.Z},ED:function(){return g.Z},in:function(){return o.i},oR:function(){return o.o},i_:function(){return i.Z},$2:function(){return r.Z},u3:function(){return h.u},MK:function(){return p.M},Gm:function(){return y.G}});var r=n(292),i=n(5750),o=n(6138),a=(n(4796),n(9113)),s=n(9275);n(9373),n(9903),n(9749),n(6544),n(228),n(9288);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var l="BpkAdPalMgr",c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"setConsentSettings",value:function(e){o.o.e(l,"setConsentSettings not implemented")}},{key:"registerPalManagerCallback",value:function(e){o.o.e(l,"registerPalManagerCallback not implemented")}},{key:"unregisterPalManagerCallback",value:function(){o.o.e(l,"unregisterPalManagerCallback not implemented")}},{key:"generateAdPalSession",value:function(e){o.o.e(l,"generateAdPalSession not implemented")}},{key:"reset",value:function(){o.o.e(l,"reset not implemented")}},{key:"release",value:function(){}},{key:"setValue",value:function(e,t,n){o.o.e(l,"setValue not implemented")}},{key:"setDescriptionURL",value:function(e){this.setValue("setDescriptionURL",e)}},{key:"setOmidPartner",value:function(e,t){this.setValue("setOmidPartner",e,t)}},{key:"setOmidVersion",value:function(e){this.setValue("setOmidVersion",e)}},{key:"setPlayerType",value:function(e){this.setValue("setPlayerType",e)}},{key:"setPlayerVersion",value:function(e){this.setValue("setPlayerVersion",e)}},{key:"setPpid",value:function(e){this.setValue("setPpid",e)}},{key:"setVideoPlayerHeight",value:function(e){this.setValue("setVideoPlayerHeight",e)}},{key:"setVideoPlayerWidth",value:function(e){this.setValue("setVideoPlayerWidth",e)}},{key:"setWillAdAutoPlay",value:function(e){this.setValue("setWillAdAutoPlay",e)}},{key:"setWillAdPlayMuted",value:function(e){this.setValue("setWillAdPlayMuted",e)}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var f="BpkAdPalSession",v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getNonce",value:function(){return o.o.e(f,"getNonce not implemented"),""}},{key:"sendAdClick",value:function(){o.o.e(f,"sendAdClick not implemented")}},{key:"sendAdImpression",value:function(){o.o.e(f,"sendAdImpression not implemented")}},{key:"sendPlaybackStart",value:function(){o.o.e(f,"sendPlaybackStart not implemented")}},{key:"sendPlaybackEnd",value:function(){o.o.e(f,"sendPlaybackEnd not implemented")}},{key:"sendTouch",value:function(e){o.o.e(f,"sendTouch not implemented")}},{key:"setAdView",value:function(e){}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),h=n(242),p=n(9170),y=n(5652),g=n(795)},7560:function(e,t,n){n.d(t,{i:function(){return g},y:function(){return E}});n(8436),n(9373),n(9903),n(9749),n(6544),n(228),n(9288),n(8052),n(6034),n(50);var r=n(5750),i=n(6138),o=n(4796),a=n(9170);function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,n)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function v(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y="BpkKeepAliveMgr",g=function(){function e(t){d(this,e),h(this,"handler",void 0),h(this,"active",void 0),h(this,"delay",void 0),h(this,"job",void 0),this.handler=t,this.active=!0,this.delay=t.options.get(a.M.SESSION_KEEPALIVE_FREQUENCY)}return v(e,[{key:"start",value:function(){var e=this;this.job=o.Z.getInstance().asyncDelay(this.delay,(function(){e.process()}))}},{key:"callback",value:function(e){i.o.e(y,"callback method should be overridden")}},{key:"process",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.active){this.handler.notifyKeepaliveSessionReportRequested(this.handler.sessionReport),this.handler.sessionReport.keepaliveRequestDate=Date.now();var t={userAgent:this.handler.smartLib.getParameters().userAgent};this.callback(t,e)}}},{key:"next",value:function(){var e=this;this.job=o.Z.getInstance().asyncDelay(this.delay,(function(){e.process()}))}},{key:"stop",value:function(){this.active=!1,o.Z.getInstance().cancel(this.job)}},{key:"isActive",value:function(){return this.active}}]),e}(),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(n,e);var t=u(n);function n(e){var r;return d(this,n),h(l(r=t.call(this,e)),"method",void 0),r.method="POST",i.o.d(y,"Using Broadpeak CDN keepalive manager...",r.handler.id),r}return v(n,[{key:"callback",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Z.getInstance().keepalive(this.handler,e,this.method).then((function(e){if(t.method=e.method,e.httpStatus>0&&(e.httpStatus<200||e.httpStatus>=300))i.o.d(y,"Stopping keepalive...",t.handler.id),t.stop();else{var r="";try{r=JSON.parse(e.body.trim())}catch(t){r=e.body.trim()}t.handler.notifyKeepaliveRequestEnded(e.httpStatus,r),!0===n&&t.next()}}))}}]),n}(g)},5750:function(e,t,n){n.d(t,{Z:function(){return T}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288),n(7195),n(3964),n(268),n(7522),n(2918),n(8324),n(4254),n(752),n(1694),n(6265),n(8373),n(6793),n(7629),n(7509),n(8052),n(9730),n(2826),n(7722),n(4043),n(7409);var r=n(6138),i=n(5687),o=n(311),a=n(4796),s=n(9393),u=n(1221),l=n(292);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new A(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function v(){}function h(){}function p(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,E=g&&g(g(O([])));E&&E!==t&&n.call(E,o)&&(y=E);var S=p.prototype=v.prototype=Object.create(y);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,a,s){var u=c(e[r],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return w()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=R(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function R(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:w}}function w(){return{value:void 0,done:!0}}return h.prototype=p,r(S,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},m(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function v(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function h(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r){return E(e,t),g(n,"set"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,n,r),r}function y(e,t,n){return E(e,t),g(n,"get"),function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}function g(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function E(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R="BpkRequestMgr",N=function(){function e(){S(this,e)}return b(e,null,[{key:"get",value:function(e,t,n,r){r({body:void 0,headers:void 0,statusCode:-1})}},{key:"post",value:function(e,t,n,r,i){i({body:void 0,headers:void 0,statusCode:-1})}}]),e}(),T=function(){function e(){S(this,e),h(this,"requestHandler",N),h(this,"smartLib",void 0)}var t,n;return b(e,[{key:"init",value:function(e){this.requestHandler=e}},{key:"attachInstance",value:function(e){this.smartLib=e}},{key:"release",value:function(){}},{key:"getHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.smartLib.getParameters(),t={};return void 0!==e.userAgent&&(t["User-Agent"]=e.userAgent),t}},{key:"getURL",value:(t=f().mark((function t(n,c,d){var v,h,p,y,g,E,S,m,b,_,N,T,A;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y=d.options,g=void 0!==c.nanoCDNDescr&&!0===y.get(s.MK.REQUEST_NANO_CDN),E=e.isBroadpeakDomainName(n,c.broadpeakDomainNames)&&!0===y.get(s.MK.REQUEST_BROADPEAK_CDN),S=!0===y.get(s.MK.MULTICAST_ONLY)||!0===y.get(s.MK.LEGACY_MULTICAST_ONLY),g?"*"===c.broadpeakDomainNames?r.o.i(R,"Workflow 5.2 (v"+o.Z+")",d.id):""===c.broadpeakDomainNames?r.o.i(R,"Workflow 5.4 (v"+o.Z+")",d.id):E?r.o.i(R,"Workflow 5.6 => 5.2 (v"+o.Z+")",d.id):r.o.i(R,"Workflow 5.6 => 5.4 (v"+o.Z+")",d.id):"*"===c.broadpeakDomainNames?r.o.i(R,"Workflow 5.1 (v"+o.Z+")",d.id):""===c.broadpeakDomainNames?r.o.i(R,"Workflow 5.3 (v"+o.Z+")",d.id):E?r.o.i(R,"Workflow 5.5 => 5.1 (v"+o.Z+")",d.id):r.o.i(R,"Workflow 5.5 => 5.3 (v"+o.Z+")",d.id),r.o.i(R,"   Parameters",d.id),r.o.i(R,"      analyticsAddress="+c.analyticsAddress,d.id),r.o.i(R,"      nanoCDNHost="+(void 0===c.nanoCDNDescr?"":c.nanoCDNDescr.hostIP),d.id),r.o.i(R,"      broadpeakDomainNames="+c.broadpeakDomainNames,d.id),y.print(R,"   ",d.id),!g){t.next=29;break}if(void 0!==l.Z.nanoCDNModule){t.next=14;break}return r.o.e(R,"Error: detected nanoCDN session but nanoCDNModule not loaded."),t.abrupt("return",s.Gm.error(s.Gm.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN));case 14:return t.next=16,l.Z.nanoCDNModule.NanoCDNRequestManager.getInstance().requestNanoCDNSession(n,c,d);case 16:if(!(m=t.sent).result.isError()){t.next=27;break}if(!E){t.next=22;break}r.o.d(R,"nanoCDN responded an error, requesting the BkM (using nanoCDN: "+m.nanoCDNHostIP+")",d.id),t.next=27;break;case 22:if(!0!==S){t.next=26;break}return t.abrupt("return",m.noFallbackResult);case 26:m.result=s.Gm.success(n);case 27:t.next=32;break;case 29:if(!0!==S){t.next=32;break}return r.o.e(R,"Error: multicast only option enabled but session is not using nanoCDN."),t.abrupt("return",s.Gm.error(s.Gm.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN));case 32:return void 0===(null===(v=m)||void 0===v?void 0:v.nanoCDNHostIP)&&!0===(null===(h=d.adSession)||void 0===h?void 0:h.getAdAllowedQuery())&&(b=this.smartLib.internalAdManager.requestAdPalSession()),t.next=35,this.requestBkM(n,c,null===(p=m)||void 0===p?void 0:p.nanoCDNHostIP,d);case 35:if(!(_=t.sent).isError()){t.next=38;break}return t.abrupt("return",_);case 38:if(void 0===m||m.result.isError()||(!0===E&&!1===S?-1!==_.url.indexOf("://"+m.nanoCDNHostIP+":")&&(_.nanoCDNUsed=!0,_.nanoCDNDescr=m.nanoCDNDescr,!0===d.options.get(s.MK.ULTRA_LOW_LATENCY_SUPPORT)&&(_.url=i.Z.addOrReplaceParam(_.url,"ulls","1"))):_=m.result),void 0===d.adSession||!d.adSession.isAdActivated()||!1!==_.nanoCDNUsed){t.next=52;break}for(T in N=d.adSession.adParameters)_.url=i.Z.addOrReplaceParam(_.url,T,encodeURIComponent(N[T]));if(void 0===b){t.next=50;break}if(!0!==b.generating||E){t.next=46;break}return t.next=46,a.Z.getInstance().asyncDelayPromise(80);case 46:return t.next=48,b.getAdPalSession();case 48:void 0!==(A=t.sent)&&(_.url=i.Z.addOrReplaceParam(_.url,u.Z.AD_NONCE_QUERY_PARAMETER,A.getNonce()),d.adSession.adPalSession=A,A.setAdView(d.adSession.adView));case 50:return t.next=52,this.requestBkYou(_,c,d,E,A);case 52:return t.abrupt("return",_);case 53:case"end":return t.stop()}}),t,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e,t,r){return n.apply(this,arguments)})},{key:"requestBkM",value:function(t,n,o,a){var u=this,l=a.options;if(e.isBroadpeakDomainName(t,n.broadpeakDomainNames)&&!0===l.get(s.MK.REQUEST_BROADPEAK_CDN)||!0===l.get(s.MK.REQUEST_REDIRECT_THIRD_PARTY_CDN)){var c=i.Z.addOrReplaceParam(t,"response","200");return c=i.Z.addOrReplaceParam(c,"bk-ml","1"),"string"==typeof o&&0!==o.length?c=i.Z.addOrReplaceParam(c,"nanocdnhost",o):!0===l.get(s.MK.REQUEST_DIVERSITY_DYNAMIC_FAILOVER)?c=i.Z.addOrReplaceParam(c,"diversityfailover","1"):!0===l.get(s.MK.REQUEST_DIVERSITY)&&(c=i.Z.addOrReplaceParam(c,"diversityhost","127.0.0.1:18080")),e.isBroadpeakDomainName(t,n.broadpeakDomainNames)?r.o.d(R,"Sending request to the BkM/umbrella: "+c,a.id):r.o.d(R,"Sending request to third party CDN: "+c,a.id),this.getRedirectionLocation(c,e.CDN_REQUEST_TIMEOUT,n,a).then((function(i){return e.isBroadpeakDomainName(t,n.broadpeakDomainNames)?r.o.d(R,"BkM/umbrella responded with status code "+i.httpStatus,a.id):r.o.d(R,"Third party CDN responded with status code "+i.httpStatus,a.id),u.parseCDNTiming(i,a),a.sessionReport.cdnStatusCode=i.httpStatus,i.httpStatus>=200&&i.httpStatus<400?""!==i.redirectedURL?s.Gm.success(i.redirectedURL):s.Gm.error(s.Gm.RESULT_CDN_RESPONSE_UNREADABLE,u.getBkMDetailedErrorMessage(i,a)):i.httpStatus<=0?s.Gm.error(s.Gm.RESULT_CDN_RESPONSE_UNREADABLE):i.httpStatus>=400&&i.httpStatus<500?s.Gm.error(s.Gm.RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN,u.getBkMDetailedErrorMessage(i,a)):i.httpStatus>=500&&i.httpStatus<600?s.Gm.error(s.Gm.RESULT_REQUESTED_URL_CDN_ERROR,u.getBkMDetailedErrorMessage(i,a)):s.Gm.error(s.Gm.RESULT_NO_STREAMING_URL_FOUND,u.getBkMDetailedErrorMessage(i,a))})).then((function(e){return e.isError()&&(a.sessionReport.cdnStatusCode=e.getDetailedErrorCode()),e}))}return Promise.resolve(s.Gm.success(t))}},{key:"parseCDNTiming",value:function(t,n){var i=t.headers[e.HEADER_CDN_TIMING];if(void 0!==i&&"string"==typeof i){var o,a=c(i.split(";"));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.startsWith("bpkhttpserver,")){var u=s;try{var l=parseInt(s.split(",")[1],10);if(!isNaN(l))return r.o.d(R,"bpkhttpserver response timing: "+l+"ms",n.id),void(n.sessionReport.bpkhttpserverTiming=l)}catch(e){}return void r.o.e(R,"BkM/umbrella is providing a bpkhttpserver response timing but it cannot be parsed ("+u+")",n.id)}}}catch(e){a.e(e)}finally{a.f()}}r.o.d(R,"BkM/umbrella is not providing a response timing",n.id)}},{key:"getBkMDetailedErrorMessage",value:function(t,n){if(!0===t.headers.hasOwnProperty(e.HEADER_CDN_DETAILED_ERROR_CODE)){var i=t.headers[e.HEADER_CDN_DETAILED_ERROR_CODE];return r.o.d(R,"Reading detailed error code from header: "+i,n.id),i}return r.o.d(R,"Reading detailed error code from http status: "+t.httpStatus+" "+t.httpMessage,n.id),String(t.httpStatus+" "+t.httpMessage)}},{key:"requestBkYou",value:function(e,t,n,o,a){var u,l,c=void 0!==(null===(u=n.adSession)||void 0===u?void 0:u.adDataListener),d=i.Z.addOrReplaceParam(e.url,"bk-ml","1.0");if(!1===n.options.get(s.MK.REQUEST_BKYOU_IF_BROADPEAK_CDN)&&o&&!c)return null===(l=n.adTrackingManager)||void 0===l||l.initBkYouSession(d,void 0,{},a,null==a?void 0:a.getNonce()),e;var f=i.Z.addOrReplaceParam(e.url,"bk-ml",c?"2.0":"1.0");return this.adTracking(n,t,f,!1).then((function(t){var o,s,u;if(!(t.httpStatus>=200&&t.httpStatus<300))return r.o.d(R,"BkYou response unreadable (status code), falling back to legacy mode",n.id),null===(o=n.adTrackingManager)||void 0===o||o.notifyAdDataListener(!0),e;try{u=JSON.parse(t.content)}catch(t){var l;return r.o.d(R,"BkYou file unreadable (parsing), falling back to legacy mode",n.id),null===(l=n.adTrackingManager)||void 0===l||l.notifyAdDataListener(!0),e}var c=u.sessiontoken;if(void 0===c)return e;r.o.d(R,"BkYou session token: "+c,n.id);var f=u.playbackqueries;return Array.isArray(f)&&f.forEach((function(t){if(-1!==t.indexOf("=")){var n=t.split("=");e.url=i.Z.addOrReplaceParam(e.url,n[0],n[1]),d=i.Z.addOrReplaceParam(d,n[0],n[1])}})),null===(s=n.adTrackingManager)||void 0===s||s.initBkYouSession(d,c,u,a,null==a?void 0:a.getNonce()),e}))}},{key:"getRedirectionLocation",value:function(e,t,n,o){var s=this;return new Promise((function(u,l){var c=s.getHeaders(n);c.Connection="close";var d=a.Z.getInstance().asyncGet(e,c,t,(function(t){var n=0,a="";void 0!==t.statusCode&&(n=parseInt(t.statusCode,10)),void 0!==t.headers&&void 0!==t.headers.location?a=t.headers.location:n>=200&&n<400&&r.o.e(R,'Location header cannot be read, please ensure "Access-Control-Expose-Headers: Location" is configured.',o.id),i.Z.isValidUrl(a)&&i.Z.isRelativeUrl(a)&&(r.o.i(R,"Redirected URL is relative, patching to absolute URL",o.id),a=i.Z.extractProtocol(e)+"://"+i.Z.extractHostnamePort(e)+a),u({httpStatus:n,httpMessage:t.message,headers:t.headers,redirectedURL:a})}));o.jobs.push(d)}))}},{key:"requestSession",value:function(t,n,i,o){var u=this,l=n.sessionReport,c=l.redirectedURL,d=c.indexOf("?");d>0&&(c=c.substring(0,d)),c.endsWith("/")||(c+="/"),c+=t;var f=n.options.get(s.MK.SESSION_REPORTING_MODE),v=f===s.MK.SESSION_REPORTING_MODE_DEFAULT||f===s.MK.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN;return!0===v?(c+="?",void 0!==l.timeline&&l.gdpr!==s.MK.GDPR_DELETE&&(c+=e.TEARDOWN_TIMELINE_QUERY+l.timeline.data().base64()+"&"),c+=e.TEARDOWN_METRICS_QUERY+l.toQuery(),r.o.i(R,"Sending session request using method "+o+" with metrics to "+c,n.id)):r.o.i(R,"Sending session request using method "+o+" without metrics to "+c,n.id),new Promise((function(s,d){var f=u.getHeaders(i),h=function(e){r.o.i(R,"Send session request ends with status code: "+e.statusCode,n.id);var a="";void 0!==e.body&&(a=e.body),"POST"===o&&(e.statusCode<200||e.statusCode>=300)?u.requestSession(t,n,i,"GET").then((function(e){s({httpStatus:e.httpStatus,body:e.body,method:"GET"})})):s({httpStatus:e.statusCode,body:a,method:o})};if("GET"===o)a.Z.getInstance().asyncGet(c,f,e.BKS_REQUEST_TIMEOUT,h);else if("POST"===o){f["Content-Type"]="application/json";var p="";!0===v&&(p=JSON.stringify({Player:l.toEndSessionJSON()})),r.o.v(R,"Executing POST request with body: "+p),a.Z.getInstance().asyncPost(c,f,p,e.BKS_REQUEST_TIMEOUT,h)}}))}},{key:"keepalive",value:function(t,n,r){return this.requestSession(e.KEEPALIVE_PATH,t,n,r)}},{key:"teardown",value:function(t,n,r){var i=e.TEARDOWN_PATH+t.sessionReport.statusCode;return this.requestSession(i,t,n,r)}},{key:"adEvent",value:function(e,t){var n=this.getHeaders(),i=e.options.get(s.MK.USERAGENT_AD_EVENT);void 0!==i&&(n["User-Agent"]=i),a.Z.getInstance().asyncGet(t,n,2e4,(function(t){r.o.i(R,"Ad event request ends with status code: "+t.statusCode,e.id)}))}},{key:"adTracking",value:function(t,n,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.o.d(R,"Sending request to the BkYou (async:"+s+"): "+i,t.id),new Promise((function(n,u){var l=o.getHeaders();if(!1===s){var c=a.Z.getInstance().asyncGet(i,l,e.BKS_REQUEST_TIMEOUT,(function(e){r.o.d(R,"BkYou responded with status code "+e.statusCode,t.id),n({httpStatus:e.statusCode,content:e.body})}));t.jobs.push(c)}else a.Z.getInstance().asyncGet(i,l,e.BKS_REQUEST_TIMEOUT,(function(e){r.o.d(R,"BkYou responded with status code "+e.statusCode,t.id),n({httpStatus:e.statusCode,content:e.body})}))}))}}],[{key:"getInstance",value:function(){return y(e,e,A)||p(e,e,A,new e),y(e,e,A)}},{key:"isBroadpeakDomainName",value:function(e,t){if(null===t||""===t)return!1;if("*"===t)return!0;var n=i.Z.parseURL(e);return null!==n&&null!==n.hostname&&t.split(",").indexOf(n.hostname)>=0}}]),e}();h(T,"TEARDOWN_PATH","teardown/"),h(T,"TEARDOWN_METRICS_QUERY","metrics="),h(T,"TEARDOWN_TIMELINE_QUERY","metricsTL="),h(T,"KEEPALIVE_PATH","keepalive"),h(T,"QUERY_PARAMETER_SESSION_ID","bk-session_id"),h(T,"QUERY_PARAMETER_SESSION_CREATED","bk-session"),h(T,"HEADER_CDN_DETAILED_ERROR_CODE","x-bpk-error"),h(T,"HEADER_CDN_TIMING","x-bpk-timing"),h(T,"CDN_REQUEST_TIMEOUT",2e4),h(T,"BKS_REQUEST_TIMEOUT",5e3),h(T,"KEEPALIVE_REQUEST_INTERVAL",5e3);var A={writable:!0,value:void 0}},9113:function(e,t,n){n.d(t,{Z:function(){return f}});n(6801),n(3843),n(7195),n(2506),n(228),n(7522),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(9393);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function s(e,t,n,r){return c(e,t),l(n,"set"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,n,r),r}function u(e,t,n){return c(e,t),l(n,"get"),function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}function l(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function c(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}var d="BpkAppStateMgr",f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"smartLib",void 0),o(this,"listeners",void 0),o(this,"bound",void 0),o(this,"networkAvailable",void 0),o(this,"appInBackground",void 0),o(this,"networkType",99),o(this,"mute",0),o(this,"osName",""),o(this,"osVersion",""),o(this,"deviceType",""),this.bound=!1,this.release()}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return u(e,e,v)||s(e,e,v,new e),u(e,e,v)}}],(n=[{key:"init",value:function(e){r.oR.d(d,"Initializing core app state manager..."),this.smartLib=e,!1===this.bound?(this.networkAvailable=!0,this.appInBackground=!1):r.oR.d(d,"Core app state manager is bound to the target, skipping default values..."),this.release()}},{key:"release",value:function(){this.listeners=[]}},{key:"setDeviceInfo",value:function(e,t,n){this.osName=e,this.osVersion=t,this.deviceType=n}},{key:"bind",value:function(){r.oR.i(d,"Device:osName="+this.osName+", osVersion="+this.osVersion),r.oR.i(d,"Device:type="+this.deviceType),this.bound=!0}},{key:"isConnectedToWifi",value:function(){return this.networkType>=10&&this.networkType<=12}},{key:"addListener",value:function(e){void 0===e||this.listeners.includes(e)||this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyEvent",value:function(e,t,n,r){"function"==typeof e[t]&&e[t](n,r)}},{key:"notifyForeground",value:function(){var e=this;r.oR.d(d,"App is in foreground"),this.appInBackground=!1,this.listeners.forEach((function(t){e.notifyEvent(t,"onForeground")}))}},{key:"notifyBackground",value:function(){var e=this;r.oR.d(d,"App is in background"),this.appInBackground=!0,this.listeners.forEach((function(t){e.notifyEvent(t,"onBackground")}))}},{key:"notifyNetworkAvailable",value:function(e){var t=this;void 0===e?(r.oR.d(d,"Network is available (networkType:"+e+")"),this.networkAvailable=!0,this.listeners.forEach((function(e){t.notifyEvent(e,"onNetworkAvailable",99)}))):this.networkType!==e&&(r.oR.d(d,"Network is available (networkType:"+e+")"),this.networkAvailable=!0,this.networkType=e,this.listeners.forEach((function(n){t.notifyEvent(n,"onNetworkAvailable",e)})))}},{key:"notifyNetworkLost",value:function(){var e=this;!1!==this.networkAvailable&&(r.oR.d(d,"Network is unavailable"),this.networkAvailable=!1,this.networkType=0,this.listeners.forEach((function(t){e.notifyEvent(t,"onNetworkLost")})))}},{key:"notifyMute",value:function(){var e=this;r.oR.d(d,"Volume is muted"),this.mute=1,this.listeners.forEach((function(t){e.notifyEvent(t,"onMute")}))}},{key:"notifyUnmute",value:function(){var e=this;r.oR.d(d,"Volume is unmuted"),this.mute=0,this.listeners.forEach((function(t){e.notifyEvent(t,"onUnmute")}))}}])&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v={writable:!0,value:void 0}},4796:function(e,t,n){n.d(t,{Z:function(){return h}});n(228),n(3964),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(6293),i=n(9393),o=n(5750);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function l(e,t,n,r){return f(e,t),d(n,"set"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,n,r),r}function c(e,t,n){return f(e,t),d(n,"get"),function(e,t){if(t.get)return t.get.call(e);return t.value}(e,n)}function d(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function f(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}var v="BpkJobMgr",h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"worker",void 0),s(this,"jobs",void 0),this.jobs={}}var t,n,u;return t=e,n=[{key:"async",value:function(e,t,n,r){return this.start(e,0,-1,t,n,r)}},{key:"asyncGet",value:function(e,t,n,r){return this.start("get",0,-1,(function(){o.Z.getInstance().requestHandler.get(e,t,n,r)}),(function(){return{url:e,headers:t,timeout:n}}),r)}},{key:"asyncPost",value:function(e,t,n,r,i){return this.start("post",0,-1,(function(){o.Z.getInstance().requestHandler.post(e,t,n,r,i)}),(function(){return{url:e,headers:t,body:n,timeout:r}}),i)}},{key:"asyncDelay",value:function(e,t){var n,r=this.start("delay",e,-1,(function(t){n=setTimeout(t,e)}),void 0,t);return r.task=n,r}},{key:"asyncDelayPromise",value:function(t){return new Promise((function(n,r){e.getInstance().asyncDelay(t,(function(){n()}))}))}},{key:"asyncNonce",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===o&&(o=function(){i.oR.d(v,"ios async nonce"),r=setTimeout(n,e)});var a=this.start("waitNonce",0,e,o,void 0,t,n,!0);return a.task=r,a}},{key:"waitNonce",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===o&&(o=function(){i.oR.d(v,"ios wait nonce"),r=setTimeout(n,e)});var a=this.start("waitNonce",0,e,o,void 0,t,n,!1);return a.task=r,a}},{key:"start",value:function(e,t,n,r,o,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},u=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];if(void 0===this.worker&&("function"==typeof CoreWorker?this.worker=new CoreWorker:"object"==typeof CoreWorker&&(this.worker=CoreWorker)),void 0!==this.worker){var l=this.createJob();return l.active=!0,l.command=e,l.startDelay=t,l.timeoutDelay=n,l.requestInfo=o,l.result=a,l.timeout=s,l.async=u,i.oR.v(v,'Starting job "'+e+'" (id: '+l.id+", async: "+l.async+")..."),u?this.worker.async(l.id,l.command,l.startDelay,l.timeoutDelay):this.worker.sync(l.id,l.command,l.startDelay,l.timeoutDelay),l}return r(a),{command:e}}},{key:"interrupt",value:function(e){void 0!==e&&void 0!==this.worker&&(i.oR.v(v,'Interrupting job "'+e.command+'"...'),this.worker.interrupt(e.id))}},{key:"cancel",value:function(e){void 0!==e&&(void 0!==this.worker&&(i.oR.v(v,'Cancelling job "'+e.command+'"...'),e.active=!1,this.worker.cancel(e.id),delete this.jobs[e.id]),void 0!==e.task&&clearTimeout(e.task))}},{key:"requestInfo",value:function(e){var t=this.jobs[e];return void 0!==t&&"function"==typeof t.requestInfo?t.requestInfo():{}}},{key:"result",value:function(e,t){var n=this.jobs[e];void 0!==n&&"function"==typeof n.result&&!0===n.active&&(n.active=!1,n.result(t)),delete this.jobs[e]}},{key:"timeout",value:function(e){var t=this.jobs[e];void 0!==t&&"function"==typeof t.timeout&&!0===t.active&&(i.oR.v(v,'Job "'+t.command+'" timeout...'),t.active=!1,t.timeout()),delete this.jobs[e]}},{key:"createJob",value:function(){for(var e=r.Z.randomIntFromInterval(1e6,9999999);void 0!==this.jobs[e];)e=r.Z.randomIntFromInterval(1e6,9999999);return this.jobs[e]={id:e},this.jobs[e]}}],u=[{key:"getInstance",value:function(){return c(e,e,p)||l(e,e,p,new e),c(e,e,p)}}],n&&a(t.prototype,n),u&&a(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}(),p={writable:!0,value:void 0}},6388:function(e,t,n){n.d(t,{Z:function(){return h}});n(228),n(3964),n(9373),n(9903),n(9749),n(6544),n(9288),n(8052),n(6034),n(50);var r=n(5477),i=n(9393),o=n(311),a=n(292);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var v="BpkProxySessionHandler",h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,n,r,d=l(h);function h(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),t=d.call(this,e,o),n=c(t),i=void 0,(r=f(r="startCalled"))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.startCalled=!1,t}return t=h,(n=[{key:"getQuery",value:function(){var e,t=this,n=null===(e=this.smartLib.nanoCDNHostManager)||void 0===e?void 0:e.getCurrentNanoCDNDescr(),r=void 0!==n?"nanoCDN host: "+n.hostIP:"No nanoCDN found";i.oR.i(v,r+" ("+o.Z+")",this.id),this.options.print(v,"",this.id),this.initPlayerAdapter(),this.initManagers(),this.notifyStart();var s="bk-ml=1";return void 0!==n?a.Z.nanoCDNModule.NanoCDNRequestManager.getInstance().getQuery(n,this).then((function(e){return s+=e,i.oR.i(v,"getQuery result : "+s,t.id),s})):(i.oR.i(v,"getQuery result : "+s,this.id),Promise.resolve(s))}},{key:"start",value:function(e,t){if(this.startCalled)i.oR.e(v,"Implementation error: SmartLib.startStreamingSession(...) already called.",this.id);else{i.oR.i(v,"Starting streaming session...",this.id),this.startCalled=!0,this.sessionReport.requestedURL=e,this.sessionReport.redirectedURL=t,this.sessionResult=i.Gm.success(t);var n=this.smartLib.getParameters(),r={broadpeakDomainNames:n.broadpeakDomainNames,forceTeardown:n.forceTeardown};this.handleRedirectedURL(r)}}}])&&s(t.prototype,n),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Z)},5477:function(e,t,n){n.d(t,{Z:function(){return N}});n(8324),n(228),n(3964),n(2826),n(7522),n(7195),n(4043),n(7267),n(2462),n(268),n(6801),n(3843),n(2506),n(9373),n(9903),n(9749),n(6544),n(9288);var r=n(292),i=n(6138),o=n(5750),a=n(5687),s=n(6293),u=(n(5137),n(311)),l=n(1221),c=n(5114),d=n(9170),f=n(5652);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function h(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"requestedURL",void 0),h(this,"redirectedURL",void 0),h(this,"sessionRunning",void 0),h(this,"sessionCreated",void 0),h(this,"sessionId",void 0),h(this,"teardownActivated",void 0),h(this,"smartLibParameters",void 0),h(this,"customParameters",void 0),h(this,"playerName",void 0),h(this,"playerVersion",void 0),h(this,"osName",void 0),h(this,"osVersion",void 0),h(this,"deviceType",void 0),h(this,"smartLibVersion",void 0),h(this,"networkTypeList",void 0),h(this,"nanoCDNStatus",void 0),h(this,"statusCode",void 0),h(this,"cdnStatusCode",void 0),h(this,"nanoCDNStatusCode",void 0),h(this,"nanoCDNErrorCode",void 0),h(this,"bpkhttpserverTiming",void 0),h(this,"playerErrorCode",void 0),h(this,"metrics",void 0),h(this,"adMetrics",void 0),h(this,"timeline",void 0),h(this,"diversity",void 0),h(this,"endSessionDate",void 0),h(this,"keepaliveRequestDate",void 0),h(this,"teardownRequestDate",void 0),h(this,"endSessionRequestDate",void 0),this.requestedURL="",this.redirectedURL="",this.sessionRunning=!1,this.sessionCreated=!1,this.sessionId="",this.teardownActivated=!1,this.smartLibParameters={},this.customParameters={},this.playerName="",this.playerVersion="",this.osName="",this.osVersion="",this.deviceType="",this.smartLibVersion=u.Z,this.networkTypeList=[],this.nanoCDNStatus=N.NANOCDN_STATUS_UNAVAILABLE,this.statusCode=r.Z.BPSessionEndsNormally,this.cdnStatusCode=-1,this.nanoCDNStatusCode=-1,this.nanoCDNErrorCode=f.G.RESULT_NO_ERROR,this.bpkhttpserverTiming=-1,this.playerErrorCode="",this.gdpr=d.M.GDPR_CLEAR,void 0!==r.Z.analyticsModule&&(this.timeline=new r.Z.analyticsModule.SessionTrackerTimeline),this.endSessionDate=0,this.keepaliveRequestDate=0,this.teardownRequestDate=0,this.endSessionRequestDate=0}var t,n,i;return t=e,(n=[{key:"toQuery",value:function(){var e,t=""===this.playerName?"Generic":this.playerName,n=this.customParameters.pre_startup_time;if(this.gdpr===d.M.GDPR_DELETE)return"+++++++++++++++++++++++++++++++++++++++1";if(e=void 0===this.metrics?"-1+"+encodeURIComponent(t)+"+"+encodeURIComponent(this.playerVersion)+"+"+encodeURIComponent(this.osName)+"+"+encodeURIComponent(this.osVersion)+"+"+(""!==this.smartLibParameters.deviceType?encodeURIComponent(this.smartLibParameters.deviceType):encodeURIComponent(this.deviceType))+"+-1+-1+-1++-1+-1+-1+-1+-1+-1+-1+-1+-1+-1+-1++":this.metrics.redirectionTime+"+"+encodeURIComponent(t)+"+"+encodeURIComponent(this.playerVersion)+"+"+encodeURIComponent(this.osName)+"+"+encodeURIComponent(this.osVersion)+"+"+(""!==this.smartLibParameters.deviceType?encodeURIComponent(this.smartLibParameters.deviceType):encodeURIComponent(this.deviceType))+"+"+this.metrics.startupTime+"+"+this.metrics.completion+"+"+Math.round(this.metrics.playbackDuration/1e3)+"+"+this.metrics.playbackType+"+"+this.metrics.stallsNumber+"+"+this.metrics.maxStallDuration+"+"+this.metrics.totalStallsDuration+"+"+this.metrics.rebufferingsNumber+"+"+this.metrics.maxRebufferingDuration+"+"+this.metrics.totalRebufferingDuration+"+"+Math.round(this.metrics.maxBitrate)+"+"+Math.round(this.metrics.minBitrate)+"+"+Math.round(this.metrics.averageBitrate)+"+"+this.metrics.layerSwitchesNumber+"+"+Math.round(this.metrics.sessionDuration/1e3)+"+"+this.getTimeSpentPerLayerQuery()+"+",e+=encodeURIComponent(this.smartLibParameters.uuid)+"+"+this.nanoCDNStatus+"+"+(void 0!==n?encodeURIComponent(n):"")+"+"+encodeURIComponent(this.smartLibVersion)+"+",void 0!==r.Z.adModule&&void 0!==this.adMetrics&&this.adMetrics.length>0){var i=r.Z.adModule.AdMetrics.merge(this.adMetrics);e+=(i.adSkippable?1:0)+"+"+(i.adSkipped?1:0)+"+"+(i.adProgress>=0?i.adProgress/25:i.adProgress)+"+"+Math.round(i.adDuration/1e3)+"+"+i.stallsNumber+"+"+Math.round(i.stallsDuration/1e3)+"+"+i.layerSwitchesNumber+"+"+i.averageBitrate}else e+="+++++++";return e+="+"+this.getNetworkTypeListStr()+"+"+encodeURIComponent(this.playerErrorCode),e+="+"+(this.cdnStatusCode>=0?this.cdnStatusCode:"")+"+"+(this.nanoCDNStatusCode>=0?this.nanoCDNStatusCode:"")+"+"+this.bpkhttpserverTiming+"+"+this.gdpr}},{key:"toEndSessionJSON",value:function(){var t={};if(t[e.IS_START_TAG]=!1,t[e.GDPR_TAG]=this.gdpr,this.gdpr===d.M.GDPR_DELETE)return t;if(t[e.SESSION_ID_TAG]=this.sessionId,t[e.STATUS_CODE_TAG]=this.statusCode,t[e.CONTENT_URL_TAG]=c.Z.toBkAString(this.requestedURL),this.redirectedURL.includes(l.Z.AD_NONCE_QUERY_PARAMETER)?t[e.REDIRECT_URL_TAG]=c.Z.toBkAString(a.Z.addOrReplaceParam(this.redirectedURL,l.Z.AD_NONCE_QUERY_PARAMETER,"ignored")):t[e.REDIRECT_URL_TAG]=c.Z.toBkAString(this.redirectedURL),void 0!==this.metrics?(t[e.REDIRECTION_TIME_TAG]=this.metrics.redirectionTime,t[e.STARTUP_TIME_TAG]=this.metrics.startupTime,t[e.COMPLETION_TAG]=this.metrics.completion,t[e.PLAYED_TIME_TAG]=Math.round(this.metrics.playbackDuration/1e3),t[e.DURATION_TAG]=Math.round(this.metrics.sessionDuration/1e3),t[e.PLAYBACK_TYPE_TAG]=this.metrics.playbackType,t[e.NUMBER_OF_STALLS_TAG]=this.metrics.stallsNumber,t[e.MAX_STALL_TIME_TAG]=this.metrics.maxStallDuration,t[e.TOTAL_STALL_TIME_TAG]=this.metrics.totalStallsDuration,t[e.NUMBER_OF_REBUFFERING_TAG]=this.metrics.rebufferingsNumber,t[e.MAX_REBUFFERING_TIME_TAG]=this.metrics.maxRebufferingDuration,t[e.TOTAL_REBUFFERING_TIME_TAG]=this.metrics.totalRebufferingDuration,t[e.MIN_BITRATE_TAG]=Math.round(this.metrics.minBitrate),t[e.MAX_BITRATE_TAG]=Math.round(this.metrics.maxBitrate),t[e.AVERAGE_BITRATE_TAG]=Math.round(this.metrics.averageBitrate),t[e.NUMBER_OF_LAYER_SWITCH_TAG]=this.metrics.layerSwitchesNumber,t[e.TIME_SPENT_PER_LAYER_TAG]=this.metrics.timeSpentPerLayer):(t[e.REDIRECTION_TIME_TAG]=-1,t[e.STARTUP_TIME_TAG]=-1,t[e.COMPLETION_TAG]=-1,t[e.PLAYED_TIME_TAG]=-1,t[e.DURATION_TAG]=-1,t[e.PLAYBACK_TYPE_TAG]="",t[e.NUMBER_OF_STALLS_TAG]=-1,t[e.MAX_STALL_TIME_TAG]=-1,t[e.TOTAL_STALL_TIME_TAG]=-1,t[e.NUMBER_OF_REBUFFERING_TAG]=-1,t[e.MAX_REBUFFERING_TIME_TAG]=-1,t[e.TOTAL_REBUFFERING_TIME_TAG]=-1,t[e.MIN_BITRATE_TAG]=-1,t[e.MAX_BITRATE_TAG]=-1,t[e.AVERAGE_BITRATE_TAG]=-1,t[e.NUMBER_OF_LAYER_SWITCH_TAG]=-1,t[e.TIME_SPENT_PER_LAYER_TAG]={}),t[e.PLAYER_NAME_TAG]=c.Z.toBkAString(this.playerName),t[e.PLAYER_VERSION_TAG]=c.Z.toBkAString(this.playerVersion),t[e.DEVICE_OS_TAG]=c.Z.toBkAString(this.osName),t[e.DEVICE_VERSION_TAG]=c.Z.toBkAString(this.osVersion),""!==this.smartLibParameters.deviceType?t[e.DEVICE_TYPE]=c.Z.toBkAString(this.smartLibParameters.deviceType):t[e.DEVICE_TYPE]=c.Z.toBkAString(this.deviceType),t[e.UUID_TAG]=c.Z.toBkAString(this.smartLibParameters.uuid),t[e.NANOCDN_STATUS_TAG]=this.nanoCDNStatus,t[e.CUSTOM_PARAMETERS_TAG]=this.customParameters,void 0!==this.timeline?t[e.TIMELINE_TAG]=this.timeline.data().base64():t[e.TIMELINE_TAG]="",t[e.SMARTLIB_VERSION_TAG]=c.Z.toBkAString(this.smartLibVersion),t[e.MULTIPATH_TAG]=this.diversity,t[e.PLAYER_ERROR_CODE_TAG]=c.Z.toBkAString(this.playerErrorCode),t[e.AD_METRICS_TAG]=[],void 0!==this.adMetrics&&this.adMetrics.length>0)for(var n=0;n<this.adMetrics.length;n++){var r=this.adMetrics[n];t[e.AD_METRICS_TAG].push({ad_skippable:r.adSkippable?1:0,ad_skipped:r.adSkipped?1:0,ad_progress:r.adProgress>=0?r.adProgress/25:r.adProgress,ad_duration:Math.round(r.adDuration/1e3),stalls_number:r.stallsNumber,stalls_duration:Math.round(r.stallsDuration/1e3),layer_switches_number:r.layerSwitchesNumber,average_bitrate:r.averageBitrate,session_token:r.sessionToken,creative_id:r.creativeId,ad_id:r.adId})}return t[e.NETWORK_TYPE_TAG]=this.getNetworkTypeListStr(),t[e.CDN_STATUS_CODE]=this.cdnStatusCode>=0?this.cdnStatusCode:"",t[e.NANOCDN_STATUS_CODE]=this.nanoCDNStatusCode>=0?this.nanoCDNStatusCode:"",t[e.BPKHTTPSERVER_TIMING]=this.bpkhttpserverTiming,t}},{key:"getTimeSpentPerLayerQuery",value:function(){var e="";for(var t in this.metrics.timeSpentPerLayer)""!==e&&(e+=","),e+=t+":"+this.metrics.timeSpentPerLayer[t];return e}},{key:"addNetworkType",value:function(e){this.networkTypeList.includes(e)||this.networkTypeList.push(e)}},{key:"getNetworkTypeListStr",value:function(){return this.networkTypeList.length>0?this.networkTypeList.sort().join("-"):""}},{key:"toString",value:function(){return JSON.stringify(this,(function(e,t){return"timeline"===e&&void 0!==r.Z.analyticsModule&&t instanceof r.Z.analyticsModule.SessionTrackerTimeline?t.toString():void 0===t?"undefined":t}),"  ")}}])&&v(t.prototype,n),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();h(y,"SESSION_ID_TAG","session_id"),h(y,"IS_START_TAG","start"),h(y,"STATUS_CODE_TAG","status_code"),h(y,"STARTUP_TIME_TAG","startup_time"),h(y,"REDIRECTION_TIME_TAG","redirection_time"),h(y,"COMPLETION_TAG","completion"),h(y,"PLAYED_TIME_TAG","played_time"),h(y,"DURATION_TAG","duration"),h(y,"PLAYBACK_TYPE_TAG","playback_type"),h(y,"NUMBER_OF_STALLS_TAG","cnt_stall"),h(y,"TOTAL_STALL_TIME_TAG","total_stall_time"),h(y,"MAX_STALL_TIME_TAG","max_stall_time"),h(y,"NUMBER_OF_REBUFFERING_TAG","cnt_rebuffering"),h(y,"TOTAL_REBUFFERING_TIME_TAG","total_rebuffering_time"),h(y,"MAX_REBUFFERING_TIME_TAG","max_rebuffering_time"),h(y,"REDIRECT_URL_TAG","redirect_url"),h(y,"CONTENT_URL_TAG","content_url"),h(y,"MAX_BITRATE_TAG","max_bitrate"),h(y,"MIN_BITRATE_TAG","min_bitrate"),h(y,"AVERAGE_BITRATE_TAG","average_bitrate"),h(y,"NUMBER_OF_LAYER_SWITCH_TAG","cnt_layer_switch"),h(y,"TIME_SPENT_PER_LAYER_TAG","time_spent_per_layer"),h(y,"PLAYER_NAME_TAG","player_name"),h(y,"PLAYER_VERSION_TAG","player_version"),h(y,"DEVICE_OS_TAG","device_os"),h(y,"DEVICE_VERSION_TAG","device_version"),h(y,"DEVICE_TYPE","device_type"),h(y,"MULTIPATH_TAG","multipath"),h(y,"UUID_TAG","uuid"),h(y,"NANOCDN_STATUS_TAG","nano_status"),h(y,"CUSTOM_PARAMETERS_TAG","custom_parameters"),h(y,"TIMELINE_TAG","timeline"),h(y,"SMARTLIB_VERSION_TAG","smartlib_version"),h(y,"AD_METRICS_TAG","ad_metrics"),h(y,"NETWORK_TYPE_TAG","network_type_list"),h(y,"PLAYER_ERROR_CODE_TAG","player_error_code"),h(y,"CDN_STATUS_CODE","cdn_status_code"),h(y,"NANOCDN_STATUS_CODE","nanocdn_status_code"),h(y,"BPKHTTPSERVER_TIMING","bpkhttpserver_timing"),h(y,"GDPR_TAG","gdpr");var g=n(7560),E=n(9393),S=n(4796);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var R="BpkSessionHandler",N=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"smartLib",void 0),b(this,"streamingSession",void 0),b(this,"analyticsAddress",void 0),b(this,"options",void 0),b(this,"adSession",void 0),b(this,"diversityFailoverSession",void 0),b(this,"omSessionHandler",void 0),b(this,"id",void 0),b(this,"listeners",void 0),b(this,"playerAdapterInitialized",void 0),b(this,"playerAdapter",void 0),b(this,"metricsManager",void 0),b(this,"keepAliveManager",void 0),b(this,"adMetricsManager",void 0),b(this,"adTrackingManager",void 0),b(this,"sessionResult",void 0),b(this,"sessionReport",void 0),b(this,"firstImageCalled",void 0),b(this,"stopped",void 0),b(this,"jobs",void 0),b(this,"deviceInitDate",void 0),b(this,"manifestInitDate",void 0),b(this,"videoMulticastStatus",void 0),b(this,"audioMulticastStatus",void 0),b(this,"dataMulticastStatus",void 0),this.smartLib=t,this.streamingSession=n,this.adSession=void 0,this.listeners=[],this.playerAdapterInitialized=!1,this.sessionResult=void 0,this.sessionReport=new y,this.firstImageCalled=!1,this.stopped=!1,this.jobs=[],this.sessionReport.smartLibParameters=t.getParameters(),this.sessionReport.customParameters=this.getCustomParameters(),this.videoMulticastStatus=d.M.MULTICAST_INACTIVE,this.audioMulticastStatus=d.M.MULTICAST_INACTIVE,this.dataMulticastStatus=d.M.MULTICAST_INACTIVE,this.analyticsAddress=this.sessionReport.smartLibParameters.analyticsAddress,this.multicastStatusListener=void 0}var t,n,u;return t=e,n=[{key:"initPlayerAdapter",value:function(){!1===this.playerAdapterInitialized&&(this.playerAdapterInitialized=!0,void 0!==this.playerAdapter?(i.o.i(R,"Player:name="+this.playerAdapter.getName()+", version="+this.playerAdapter.getVersion(),this.id),i.o.i(R,"Player:capabilities="+JSON.stringify(this.playerAdapter.getCapabilities()),this.id),this.playerAdapter.attachSession(this),this.playerAdapter.initSessionPlayerObjects()):i.o.i(R,"Player:no player attached",this.id))}},{key:"initManagers",value:function(){var e,t,n;void 0!==r.Z.analyticsModule&&(this.metricsManager=new r.Z.analyticsModule.MetricsManager(this,this.playerAdapter),this.addListener(this.sessionReport.timeline),E.OT.getInstance().addListener(this.sessionReport.timeline)),void 0!==r.Z.adModule&&(this.adMetricsManager=new r.Z.adModule.AdMetricsManager(this),this.adTrackingManager=new r.Z.adModule.AdTrackingManager(this,this.playerAdapter),this.addListener(this.adMetricsManager),this.adTrackingManager.addListener(this.adMetricsManager)),void 0!==this.playerAdapter&&(this.addListener(this.metricsManager),this.addListener(this.playerAdapter)),void 0!==this.adSession&&this.adSession.isAdActivated()&&null!==(e=r.Z.adModule)&&void 0!==e&&e.OMSDKManager.getInstance().isEnabled()&&(this.omSessionHandler=new r.Z.adModule.OMSessionHandler(this,this.playerAdapter),this.addListener(this.omSessionHandler),null===(n=this.adTrackingManager)||void 0===n||n.addListener(this.omSessionHandler)),this.addListener(this),E.OT.getInstance().addListener(this),null===(t=this.smartLib.monitoringManager)||void 0===t||t.startSession(this)}},{key:"start",value:function(t){var n,a,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.o.i(R,"Starting session...",this.id),this.sessionReport.requestedURL=t,this.initPlayerAdapter(),this.initManagers(),this.notifyStart();var l=this.smartLib.getParameters(),c={analyticsAddress:this.analyticsAddress,nanoCDNDescr:null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getCurrentNanoCDNDescr(),nanoCDNDescrConfigured:null===(a=this.smartLib.nanoCDNHostManager)||void 0===a?void 0:a.getCurrentNanoCDNDescr(),broadpeakDomainNames:l.broadpeakDomainNames,forceTeardown:l.forceTeardown,userAgent:l.userAgent},f=o.Z.isBroadpeakDomainName(t,c.broadpeakDomainNames)&&!0===this.options.get(d.M.REQUEST_BROADPEAK_CDN);return void 0!==c.nanoCDNDescr&&(this.sessionReport.nanoCDNStatus=e.NANOCDN_STATUS_DETECTED_NOT_USED),this.sessionReport.gdpr=this.options.get(d.M.GDPR_PREFERENCE),Promise.resolve().then((function(){return void 0!==r.Z.diversityModule&&!0===s.options.get(d.M.REQUEST_DIVERSITY_DYNAMIC_FAILOVER)&&f?r.Z.diversityModule.DiversityRequestManager.getInstance().processFailoverSession(t,c,s):o.Z.getInstance().getURL(t,c,s)})).then((function(e){return s.sessionResult=e,e.isError()&&(s.sessionReport.statusCode=e.getErrorCode()),s.sessionReport.redirectedURL=s.patchBkmResult(e.getURL()),s.handleRedirectedURL(c),e.url=s.sessionReport.redirectedURL,s.stopped?(i.o.d(R,"The session has been stopped while creating it.",s.id),s.stop(),e=E.Gm.error(E.Gm.RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST),i.o.i(R,"Session error code: "+e.getErrorMessage()+" (code "+e.getErrorCode()+", detail "+e.getDetailedErrorMessage()+")",s.id),i.o.i(R,"Session redirected URL: ",s.id),u(""),e):(i.o.i(R,"Session status: "+e.getErrorMessage()+" (code "+e.getErrorCode()+", detail "+e.getDetailedErrorMessage()+")",s.id),s.sessionReport.redirectedURL.length>0&&i.o.i(R,"Session redirected URL: "+s.sessionReport.redirectedURL,s.id),u(s.sessionReport.redirectedURL),e)}))}},{key:"handleRedirectedURL",value:function(t){var n,o;this.isNanoCDNUsed()&&(this.sessionReport.nanoCDNStatus=e.NANOCDN_STATUS_USED,this.notifyUnicastUsed());var a,s=this.sessionResult.nanoCDNDescr||(null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getCurrentNanoCDNDescr()),u=null==s?void 0:s.bka100;void 0!==u&&(i.o.i(R,"nanoCDN is overwriting the analytics address to "+u,this.id),this.analyticsAddress=u),0!==this.sessionReport.redirectedURL.length&&(this.sessionReport.sessionRunning=!0),this.sessionReport.sessionCreated=!0,this.sessionReport.sessionRunning&&(this.sessionReport.teardownActivated=this.isTeardownActivated(t)),this.sessionReport.redirectedURL=this.removeBroadpeakParameters(this.sessionReport.redirectedURL),this.sessionReport.sessionId=this.getTicket(),this.sessionReport.teardownActivated||null===(a=this.sessionReport.timeline)||void 0===a||a.encoder.extend(),this.notifyRedirectionEnd(),void 0===this.playerAdapter&&this.sessionReport.sessionRunning&&this.notifyFirstImage(0,0),null===(o=r.Z.analyticsModule)||void 0===o||o.CacheManager.getInstance().clean()}},{key:"stop",value:function(e){var t;if(E.OT.getInstance().removeListener(this.sessionReport.timeline),E.OT.getInstance().removeListener(this),void 0===e||isNaN(e)||(this.sessionReport.statusCode=e),this.sessionReport.endSessionDate=Date.now(),this.notifyStop(this.sessionReport.statusCode),void 0!==this.keepAliveManager&&this.keepAliveManager.stop(),null===(t=this.smartLib.monitoringManager)||void 0===t||t.stopSession(this),this.sessionReport.sessionCreated){var n,a;i.o.d(R,"Session ends with status code: "+this.sessionReport.statusCode,this.id);var s=this.smartLib.getParameters();this.sessionReport.sessionRunning=!1,this.sessionReport.sessionCreated=!1;try{var u,l=null===(u=r.Z.diversityModule)||void 0===u?void 0:u.DiversityManager.getInstance().getStats(this.sessionReport.sessionId,1);null!=l&&0!==l.length?this.sessionReport.diversity=JSON.parse(l):this.sessionReport.diversity={}}catch(e){i.o.w(R,"Invalid Diversity metrics",this.id)}this.sessionReport.smartLibParameters=JSON.parse(JSON.stringify(this.sessionReport.smartLibParameters)),this.sessionReport.customParameters=JSON.parse(JSON.stringify(this.getCustomParameters())),this.notifyEndSessionReportUpdateRequested(this.sessionReport),i.o.d(R,"SessionReport: "+this.sessionReport.toString(),this.id),this.resetCustomParameters();var c,f={analyticsAddress:this.analyticsAddress,userAgent:s.userAgent},v=this.options.get(d.M.SESSION_TEARDOWN),h=this.options.get(d.M.SESSION_REPORTING_MODE),p="POST"===(null===(n=this.keepAliveManager)||void 0===n?void 0:n.method)?"POST":"GET";if(i.o.d(R,"Keepalive manager method set to "+(null===(a=this.keepAliveManager)||void 0===a?void 0:a.method),this.id),v===d.M.SESSION_ENABLED)this.sessionReport.teardownRequestDate=Date.now(),o.Z.getInstance().teardown(this,f,p),h===d.M.SESSION_REPORTING_MODE_METRICS_RECEIVER&&(this.sessionReport.endSessionRequestDate=Date.now(),null===(c=r.Z.analyticsModule)||void 0===c||c.AnalyticsRequestManager.getInstance().endSession(this,f));else if(v===d.M.SESSION_ENABLED_IF_BROADPEAK_DOMAIN){var y,g;this.sessionReport.teardownActivated?(this.sessionReport.teardownRequestDate=Date.now(),o.Z.getInstance().teardown(this,f,p),h===d.M.SESSION_REPORTING_MODE_METRICS_RECEIVER&&(this.sessionReport.endSessionRequestDate=Date.now(),null===(y=r.Z.analyticsModule)||void 0===y||y.AnalyticsRequestManager.getInstance().endSession(this,f))):h!==d.M.SESSION_REPORTING_MODE_DEFAULT&&h!==d.M.SESSION_REPORTING_MODE_METRICS_RECEIVER||(this.sessionReport.endSessionRequestDate=Date.now(),null===(g=r.Z.analyticsModule)||void 0===g||g.AnalyticsRequestManager.getInstance().endSession(this,f))}else if(v===d.M.SESSION_DISABLED){var m;h!==d.M.SESSION_REPORTING_MODE_DEFAULT&&h!==d.M.SESSION_REPORTING_MODE_METRICS_RECEIVER||(this.sessionReport.endSessionRequestDate=Date.now(),null===(m=r.Z.analyticsModule)||void 0===m||m.AnalyticsRequestManager.getInstance().endSession(this,f))}}void 0!==this.playerAdapter&&(this.playerAdapter.releaseSessionPlayerObjects(),this.playerAdapter.detachSession());for(var b=0,_=0;_<this.jobs.length;_++)!0===this.jobs[_].active&&b++,S.Z.getInstance().interrupt(this.jobs[_]);i.o.d(R,b+" active job(s)",this.id),this.jobs=[],this.listeners=[],this.stopped=!0}},{key:"onFirstImage",value:function(e,t){var n;this.notifyStartSessionReportUpdateRequested(this.sessionReport);var o,a=this.options.get(d.M.SESSION_KEEPALIVE),s=void 0!==r.Z.analyticsModule&&this.options.get(d.M.SESSION_REPORTING_MODE)===d.M.SESSION_REPORTING_MODE_METRICS_RECEIVER,u=0===this.smartLib.getParameters().analyticsAddress.length;a===d.M.SESSION_ENABLED?(i.o.i(R,"Keepalive is enabled (SESSION_KEEPALIVE=SESSION_ENABLED)",this.id),this.keepAliveManager=s&&!u?new r.Z.analyticsModule.BroadpeakCDNCacheKeepaliveManager(this):new g.y(this)):a===d.M.SESSION_ENABLED_IF_BROADPEAK_DOMAIN?this.sessionReport.teardownActivated?this.keepAliveManager=s&&!u?new r.Z.analyticsModule.BroadpeakCDNCacheKeepaliveManager(this):new g.y(this):void 0===r.Z.analyticsModule||u||(this.keepAliveManager=new r.Z.analyticsModule.CacheKeepaliveManager(this)):a===d.M.SESSION_DISABLED&&(this.sessionReport.teardownActivated&&i.o.i(R,"Keepalive is disabled (SESSION_KEEPALIVE=SESSION_DISABLED)",this.id),void 0===r.Z.analyticsModule||u||(this.keepAliveManager=new r.Z.analyticsModule.CacheKeepaliveManager(this))),null===(n=this.keepAliveManager)||void 0===n||n.start(),void 0!==r.Z.monitoringModule&&!0===this.isNanoCDNUsed()&&(null===(o=this.keepAliveManager)||void 0===o||o.process(!1))}},{key:"getMulticastStatus",value:function(e,t){if(void 0!==e&&"number"==typeof e.status){var n=e.status,r=e.daiperiod||0;if(1===n)return i.o.d(R,"Multicast status: active",this.id),d.M.MULTICAST_ACTIVE;if(0!==r||1!==n)return t!==d.M.MULTICAST_INACTIVE?(i.o.d(R,"Multicast status: inactive was active"+(r>=1?" (playing DAI period)":""),this.id),d.M.MULTICAST_INACTIVE_WAS_ACTIVE):(i.o.d(R,"Multicast status: inactive",this.id),d.M.MULTICAST_INACTIVE)}return i.o.d(R,"Multicast status: unknown (segment:"+JSON.stringify(e)+")",this.id),d.M.MULTICAST_UNKNOWN}},{key:"onKeepaliveRequestEnded",value:function(e,t){if(this.isNanoCDNUsed()){if("object"!=typeof t)return i.o.d(R,"Data is not an object: (data:"+JSON.stringify(t)+")",this.id),this.videoMulticastStatus=d.M.MULTICAST_UNKNOWN,this.audioMulticastStatus=d.M.MULTICAST_UNKNOWN,void(this.dataMulticastStatus=d.M.MULTICAST_UNKNOWN);i.o.d(R,"nanoCDN data: "+JSON.stringify(t)+")",this.id);var n,r,o,a=this.videoMulticastStatus,s=this.audioMulticastStatus,u=this.dataMulticastStatus;i.o.d(R,"Getting multicast status for video",this.id),this.videoMulticastStatus=this.getMulticastStatus(t.last_video_segment,a),i.o.d(R,"Getting multicast status for audio",this.id),this.audioMulticastStatus=this.getMulticastStatus(t.last_audio_segment,s),i.o.d(R,"Getting multicast status for data",this.id),this.dataMulticastStatus=this.getMulticastStatus(t.last_data_segment,u),a!==this.videoMulticastStatus&&(null===(n=this.streamingSession.multicastStatusListener)||void 0===n||n.onVideoMulticastStatusChange(this.videoMulticastStatus),this.videoMulticastStatus===d.M.MULTICAST_ACTIVE?this.notifyMulticastUsed():this.notifyUnicastUsed()),s!==this.audioMulticastStatus&&(null===(r=this.streamingSession.multicastStatusListener)||void 0===r||r.onAudioMulticastStatusChange(this.audioMulticastStatus)),u!==this.dataMulticastStatus&&(null===(o=this.streamingSession.multicastStatusListener)||void 0===o||o.onDataMulticastStatusChange(this.dataMulticastStatus))}}},{key:"isNanoCDNUsed",value:function(){var e=this,t=!1;if(void 0===r.Z.nanoCDNModule)return!1;if("string"==typeof this.sessionReport.redirectedURL&&0!==this.sessionReport.redirectedURL.length){var n,i=null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getNanoCDNDescrList();null==i||i.forEach((function(n){e.sessionReport.redirectedURL.indexOf(n.hostIP)>0&&(t=!0)}))}return t}},{key:"patchBkmResult",value:function(e){var t=a.Z.parseURL(e);if(null!==t){var n=e,r=t.query.split("&");return r.length>=2&&-1===r[0].indexOf("bk-teardown=")&&(n=n.replace("?bk-teardown=","&bk-teardown=")),-1!==n.indexOf("//bpk-token")&&(n=n.replace("//bpk-token","/bpk-token")),n}return e}},{key:"getTicket",value:function(){var e,t="";if(void 0!==this.adTrackingManager&&!0===this.adTrackingManager.bkYouSession&&void 0!==this.adTrackingManager.sessionToken&&this.adTrackingManager.sessionToken.length>0&&(t=this.adTrackingManager.sessionToken),""===t&&(t=a.Z.getParam(this.sessionReport.redirectedURL,o.Z.QUERY_PARAMETER_SESSION_ID)),""===t&&(e=this.sessionReport.redirectedURL.split("/")).length>=4&&(e[3].match("\\[(.*)\\]")?t=e[3].substring(1,e[3].length-1):e[3].match("\\%5B(.*)\\%5D")&&(t=e[3].substring(3,e[3].length-3))),""===t){var n=this.sessionReport.redirectedURL.split("//");(e=n[n.length-1].split("/")).length>=3&&(e[0].match(a.Z.REGEX_IP)||e[0].match(a.Z.REGEX_HOSTNAME))&&"bpk-token"===e[1]&&(e[2].match(a.Z.REGEX_TICKET)||e[2].match(a.Z.REGEX_TICKET_TRANSCODED))&&(t=e[2],i.o.v(R,"Ticket detected: "+t,this.id))}if(""===t){var r=this.sessionReport.redirectedURL.split("//");(e=r[r.length-1].split("/")).length>=2&&(e[0].match(a.Z.REGEX_IP)||e[0].match(a.Z.REGEX_HOSTNAME))&&(e[1].match(a.Z.REGEX_TICKET)||e[1].match(a.Z.REGEX_TICKET_TRANSCODED))&&(t=e[1],i.o.v(R,"Ticket detected: "+t,this.id))}return""===t&&(t=this.generateTicket()),""===t&&(i.o.w(R,"Failed getting ticket",this.id),i.o.w(R,"SmartLib won't be able to post metrics",this.id)),t}},{key:"generateTicket",value:function(){var e=Date.now(),t=s.Z.randomIntFromInterval(1e6,9999999),n=s.Z.randomIntFromInterval(1e6,9999999),r=s.Z.stringToBase64(t+""+e+n);return null===r?(i.o.w(R,"Cannot encode base 64 ticket",this.id),""):(i.o.v(R,"Ticket generated: "+r,this.id),r)}},{key:"getTeardown",value:function(){var e=a.Z.getParam(this.sessionReport.redirectedURL,"bk-teardown");return e.startsWith("T")||e.startsWith("t")||e.startsWith("1")}},{key:"isTeardownActivated",value:function(t){if(t.forceTeardown===r.Z.FORCE_TEARDOWN_ENABLED)return i.o.i(R,"Session will start with keepalives/teardown (forceTeardown)",this.id),!0;if(t.forceTeardown===r.Z.FORCE_TEARDOWN_DISABLED)return i.o.i(R,"Session will start without keepalives/teardown (forceTeardown)",this.id),!1;if(null!==this.sessionReport.redirectedURL&&"0"===a.Z.getParam(this.sessionReport.redirectedURL,"bk-teardown"))return i.o.i(R,"Session will start without keepalives/teardown (bk-teardown=0)",this.id),!1;if(null!==this.sessionReport.redirectedURL&&this.getTeardown())return i.o.i(R,"Session will start with keepalives/teardown (bk-teardown=1)",this.id),!0;if(this.sessionReport.nanoCDNStatus===e.NANOCDN_STATUS_USED)return i.o.i(R,"Session will start with keepalives/teardown (nanoCDN used)",this.id),!0;if(!1===this.options.get(d.M.REQUEST_BROADPEAK_CDN))return i.o.i(R,"Session will start without keepalives/teardown (REQUEST_BROADPEAK_CDN=false)",this.id),!1;if(void 0===this.diversityFailoverSession){if(null!==this.sessionReport.requestedURL&&o.Z.isBroadpeakDomainName(this.sessionReport.requestedURL,t.broadpeakDomainNames))return i.o.i(R,"Session will start with keepalives/teardown (in broadpeak domains list)",this.id),!0}else if(o.Z.isBroadpeakDomainName(this.diversityFailoverSession.getMainURL(),t.broadpeakDomainNames))return i.o.i(R,"Diversity session will start with keepalives/teardown (in broadpeak domains list)",this.id),!0;return i.o.i(R,"Session will start without keepalives/teardown",this.id),!1}},{key:"removeBroadpeakParameters",value:function(e){var t=a.Z.parseURL(e);if(null!==t){for(var n="",r=t.query.split("&"),o=1,s=0;s<r.length;s++){var u=r[s];u.startsWith("bk-")?i.o.d(R,"Remove query parameter '"+u+"' from url",this.id):(o||(n+="&"),n+=u,o=0)}return""===n?e.replace("?"+t.query,""):e.replace(t.query,n)}return e}},{key:"isSessionCreated",value:function(e){if(null===e)return!1;var t=a.Z.getParam(e,o.Z.QUERY_PARAMETER_SESSION_ID);return 0!==t.length||(t=a.Z.getParam(e,o.Z.QUERY_PARAMETER_SESSION_CREATED)).startsWith("T")||t.startsWith("t")||t.startsWith("1")}},{key:"getCustomParameters",value:function(){return void 0!==this.streamingSession?this.streamingSession.customParameters:this.smartLib.getParameters().customParameters}},{key:"resetCustomParameters",value:function(){void 0!==this.streamingSession||this.smartLib.resetCustomParameters()}},{key:"addListener",value:function(e){void 0===e||this.listeners.includes(e)||this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyEvent",value:function(e,t,n,r){"function"==typeof e[t]&&e[t](n,r)}},{key:"notifyLoading",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onLoading")}))}},{key:"notifyStart",value:function(){var e,t,n=this;e=E.OT.getInstance().networkType,this.sessionReport.addNetworkType(e),t=E.OT.getInstance().mute,this.listeners.forEach((function(r){n.notifyEvent(r,"onStart",e,t)}))}},{key:"notifyRedirectionEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onRedirectionEnd")}))}},{key:"notifyFirstImage",value:function(e,t){var n=this;this.firstImageCalled?i.o.e(R,"Implementation error: PlayerEventListener.onSessionStart() already called. If you don't attach any player, please remove this call, SmartLib is now handling it automatically.",this.id):(this.firstImageCalled=!0,void 0!==this.adSession&&this.adSession.isAdActivated()?void 0!==this.playerAdapter?!0===this.playerAdapter.getCapabilities().adTracking?this.addListener(this.adTrackingManager):i.o.d(R,"Ad tracking disabled (player not compatible)",this.id):i.o.d(R,"Ad tracking disabled (no player attached)",this.id):i.o.d(R,"Ad tracking disabled (advertising not activated)",this.id),this.listeners.forEach((function(r){n.notifyEvent(r,"onFirstImage",e,t)})))}},{key:"notifyLayerSwitch",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onLayerSwitch",e)}))}},{key:"notifyPause",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onPause")}))}},{key:"notifyResume",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onResume")}))}},{key:"notifyBufferingStart",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onBufferingStart")}))}},{key:"notifyBufferingEnd",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onBufferingEnd",e)}))}},{key:"notifyStallEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onStallEnd")}))}},{key:"notifyRebufferingEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onRebufferingEnd")}))}},{key:"notifySeek",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onSeek",e,t)}))}},{key:"notifyStop",value:function(e){var t,n=this;null===(t=this.adSession)||void 0===t||null===(t=t.adPalSession)||void 0===t||t.setAdView(void 0),this.listeners.forEach((function(t){n.notifyEvent(t,"onStop",e)}))}},{key:"notifyClose",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.listeners.forEach((function(n){e.notifyEvent(n,"onClose",t)}))}},{key:"notifyStartSessionReportUpdateRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onStartSessionReportUpdateRequested",e)}))}},{key:"notifyKeepaliveSessionReportRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onKeepaliveSessionReportUpdateRequested",e)}))}},{key:"notifyKeepaliveRequestEnded",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onKeepaliveRequestEnded",e,t)}))}},{key:"notifyEndSessionReportUpdateRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onEndSessionReportUpdateRequested",e)}))}},{key:"notifyVolumeChanged",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onVolumeChanged",e)}))}},{key:"notifyPlayerError",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onPlayerError",e,t)}))}},{key:"notifyMulticastUsed",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onMulticastUsed")}))}},{key:"notifyUnicastUsed",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onUnicastUsed")}))}},{key:"onNetworkAvailable",value:function(e){i.o.v(R,"Received event onNetworkAvailable type:"+e,this.id),this.sessionReport.addNetworkType(e)}}],n&&m(t.prototype,n),u&&m(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();b(N,"NANOCDN_STATUS_UNAVAILABLE",1),b(N,"NANOCDN_STATUS_DETECTED_NOT_USED",2),b(N,"NANOCDN_STATUS_USED",3)},242:function(e,t,n){n.d(t,{u:function(){return y}});n(8077),n(228),n(8324),n(3964),n(9288),n(9373),n(9903),n(9749),n(6544);var r=n(9275),i=n(6138),o=n(9170),a=n(5652),s=n(6388),u=n(5114),l=n(6293),c=n(2239),d=n(292);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function v(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var p="BpkStreamingSession",y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"smartLib",void 0),v(this,"options",void 0),v(this,"customParameters",void 0),v(this,"adSession",void 0),v(this,"id",void 0),v(this,"date",void 0),v(this,"handler",void 0),v(this,"playerAdapter",void 0),v(this,"stopped",void 0),v(this,"multicastStatusListener",void 0),this.smartLib=t,this.options=n,this.customParameters={},this.id=l.Z.randomIntFromInterval(1e4,99999),this.date=Date.now(),this.stopped=!1}var t,n,h;return t=e,n=[{key:"attachPlayer",value:function(e,t){void 0!==e?void 0===this.handler?(this.playerAdapter=e,i.o.i(p,"Player "+this.playerAdapter.getName()+" attached",this.id)):i.o.e(p,"Exception: attachPlayer error, you cannot attach a player when a session is running.",this.id):void 0===d.Z.analyticsModule?i.o.w(p,"Try to attach a player, but analytics module not loaded",this.id):i.o.w(p,"Try to attach a player, but it is not recognized",this.id)}},{key:"setOption",value:function(e,t){void 0===this.handler?(i.o.d(p,"Setting session option "+o.M.optionToString(e)+" to "+o.M.valueToString(e,t),this.id),this.options.set(e,t)):i.o.e(p,"Exception: setOption error, you cannot set an option when a session is running.",this.id)}},{key:"setAdEventsListener",value:function(e){void 0===this.adSession&&(this.adSession=new c.J),this.adSession.setAdEventsListener(e)}},{key:"setAdDataListener",value:function(e){void 0===this.adSession&&(this.adSession=new c.J),this.adSession.setAdDataListener(e)}},{key:"activateAdvertising",value:function(){void 0===this.adSession&&(this.adSession=new c.J),this.adSession.activateAdvertising()}},{key:"setAdParameter",value:function(e,t){void 0===this.adSession&&(this.adSession=new c.J),this.adSession.setAdParameter(e,t)}},{key:"setAdView",value:function(e){var t;void 0===this.adSession&&(this.adSession=new c.J),this.adSession.adView=e,null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.setAdView(e)}},{key:"setAdViewState",value:function(e){var t;void 0===this.adSession&&(this.adSession=new c.J),!0===r.S0.isAdViewState(e)?(this.adSession.adViewState=e,null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.setAdViewState(e)):i.o.e(p,"Please use a defined state within the AdViewState enum.",this.id)}},{key:"registerAdFriendlyObstructionView",value:function(e,t,n){var o;void 0===this.adSession&&(this.adSession=new c.J),r.nb.isAdFriendlyObstructionPurpose(t)&&"string"==typeof n?(this.adSession.adFriendlyObstructionViews.push({view:e,purpose:t,reason:n}),null===(o=this.handler)||void 0===o||null===(o=o.omSessionHandler)||void 0===o||null===(o=o.omAdSession)||void 0===o||o.registerAdFriendlyObstructionView(e,t,n)):i.o.e(p,"Ad friendly objection view not registered, please check arguments types: purpose -> state within the AdFriendlyObstructionPurpose enum, reason -> string",this.id)}},{key:"unregisterFriendlyObstruction",value:function(e){var t;void 0!==this.adSession&&(this.adSession.adFriendlyObstructionViews=this.adSession.adFriendlyObstructionViews.filter((function(t){return t.view!==e})),null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.unregisterFriendlyObstruction(e))}},{key:"unregisterAllFriendlyObstructions",value:function(){var e;void 0!==this.adSession&&(this.adSession.adFriendlyObstructionViews=[],null===(e=this.handler)||void 0===e||null===(e=e.omSessionHandler)||void 0===e||null===(e=e.omAdSession)||void 0===e||e.unregisterAllFriendlyObstructions())}},{key:"setAdCustomReference",value:function(e){var t;void 0===this.adSession&&(this.adSession=new c.J),"string"==typeof e?(this.adSession.adCustomReference=e,void 0!==(null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t?void 0:t.omAdSession)&&i.o.w(p,'An ad is already playing, the ad custom reference "'+e+'" will be set for the next ad',this.id)):i.o.e(p,"Ad custom reference not set, reference argument has to be a string",this.id)}},{key:"registerAdVerificationData",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0===this.adSession&&(this.adSession=new c.J);var o={verificationVendor:n,verificationURL:e,verificationParameters:r};this.adSession.adVerificationData.push(o),void 0!==(null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t?void 0:t.omAdSession)&&i.o.w(p,'An ad is already playing, the ad verification data "'+JSON.stringify(o)+'" will be set for the next ad',this.id)}},{key:"adUserInteraction",value:function(e){var t,n,r;void 0===this.adSession&&(this.adSession=new c.J),"string"==typeof e?(i.o.d(p,"Ad interaction: "+e,this.id),null===(t=this.handler)||void 0===t||null===(t=t.adTrackingManager)||void 0===t||t.adUserInteraction(e),null===(n=this.adSession.adPalSession)||void 0===n||n.sendAdClick(),void 0!==(null===(r=this.handler)||void 0===r||null===(r=r.omSessionHandler)||void 0===r?void 0:r.omAdSession)&&this.handler.omSessionHandler.omAdSession.adUserInteraction(e)):i.o.e(p,"Ad interaction type not triggered, interactionType argument has to be a string",this.id)}},{key:"adTouch",value:function(e){var t;void 0===this.adSession&&(this.adSession=new c.J),i.o.d(p,"Ad touch",this.id),null===(t=this.adSession.adPalSession)||void 0===t||t.sendTouch(e)}},{key:"setCustomParameter",value:function(e,t){"string"==typeof e?this.customParameters[e]=u.Z.toBkAString(String(t)):i.o.e(p,"Error: Only string values are accepted for custom parameters",this.id)}},{key:"setEventCallbackEnabled",value:function(e){void 0===this.adSession&&(this.adSession=new c.J),this.adSession.setEventCallbackEnabled(e)}},{key:"getURL",value:function(e){return i.o.i(p,"getURL with "+e,this.id),void 0===this.handler?u.Z.typeParameter(e,"string","Error: requestedURL should be a string")&&u.Z.stringNonEmpty(e,"Error: requestedURL is empty")?(this.handler=this.smartLib.sessionManager.createSessionHandler(this),this.handler.adSession=this.adSession,void 0!==this.adSession&&(this.adSession.handler=this.handler),this.handler.start(e)):Promise.resolve(a.G.error(a.G.RESULT_API_PARAMETER_FORMAT_ERROR)):(i.o.e(p,"Exception: getURL error, the session is already running.",this.id),Promise.resolve(a.G.error(a.G.RESULT_REQUEST_ALREADY_DONE)))}},{key:"getQuery",value:function(){return i.o.i(p,"getQuery",this.id),void 0===this.handler?(this.handler=this.smartLib.sessionManager.createProxySessionHandler(this),this.handler.getQuery()):(i.o.e(p,"Exception: getQuery error, the session is already running.",this.id),"")}},{key:"startStreamingSession",value:function(e,t){return i.o.i(p,"startStreamingSession with "+e+" and "+t,this.id),!(!u.Z.typeParameter(e,"string","Error: requestedURL should be a string")||!u.Z.typeParameter(t,"string","Error: redirectedURL should be a string")||(void 0===this.handler?(i.o.e(p,"Exception: startSteamingSession error, getQuery() should be called prior to startStreamingSession(...)"),1):this.handler instanceof s.Z?(this.handler.start(e,t),0):(i.o.e(p,"Exception: startSteamingSession error, startStreamingSession(...) cannot be called once getURL(...) has been called"),1)))}},{key:"stopStreamingSession",value:function(e){return void 0!==e?i.o.i(p,"Stopping streaming session with statusCode "+e+"...",this.id):i.o.i(p,"Stopping streaming session...",this.id),void 0!==this.handler&&this.handler.stop(e),void 0!==this.playerAdapter&&this.playerAdapter.detachPlayer(),this.stopped=!0,this.handler}},{key:"isNanoCDNUsed",value:function(){return void 0!==this.handler&&this.handler.isNanoCDNUsed()}},{key:"getVideoMulticastStatus",value:function(){return void 0!==this.handler?this.handler.videoMulticastStatus:o.M.MULTICAST_INACTIVE}},{key:"getAudioMulticastStatus",value:function(){return void 0!==this.handler?this.handler.audioMulticastStatus:o.M.MULTICAST_INACTIVE}},{key:"getDataMulticastStatus",value:function(){return void 0!==this.handler?this.handler.dataMulticastStatus:o.M.MULTICAST_INACTIVE}},{key:"setMulticastStatusListener",value:function(e){i.o.d(p,"Multicast status listener "+(void 0!==e?"set":"unset"),this.id),this.multicastStatusListener=e}},{key:"getAdList",value:function(){var e;return(null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.adList)||[]}},{key:"getCurrentAd",value:function(){var e;return null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getCurrentAd()}},{key:"getCurrentAdBreak",value:function(){var e;return null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getCurrentAdBreak()}},{key:"getPositionForBookmark",value:function(){var e,t=null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getPositionForBookmark();return void 0!==t?t:-1}},{key:"getPositionForPlayback",value:function(e){var t,n=null===(t=this.handler)||void 0===t||null===(t=t.adTrackingManager)||void 0===t?void 0:t.getPositionForPlayback(Number(e));return void 0!==n?n:-1}}],n&&f(t.prototype,n),h&&f(t,h),Object.defineProperty(t,"prototype",{writable:!1}),e}()},9170:function(e,t,n){n.d(t,{M:function(){return c}});n(7195),n(228),n(7522),n(9373),n(9903),n(9749),n(6544),n(9288),n(8077),n(1919),n(9474);var r=n(6138),i=n(5750);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var l="BpkStreamingSessionOptions",c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"options",void 0),s(this,"updates",void 0),this.options={},this.options[e.MULTICAST_ONLY]=!1,this.options[e.ULTRA_LOW_LATENCY_SUPPORT]=!1,this.options[e.PIP_SESSION]=!1,this.options[e.GDPR_PREFERENCE]=e.GDPR_CLEAR,this.options[e.REQUEST_REDIRECT_THIRD_PARTY_CDN]=!1,this.options[e.REQUEST_DIVERSITY]=!1,this.options[e.REQUEST_NANO_CDN]=!0,this.options[e.REQUEST_BROADPEAK_CDN]=!0,this.options[e.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI]=!0,this.options[e.REQUEST_DIVERSITY_DYNAMIC_FAILOVER]=!1,this.options[e.REQUEST_NANO_CDN_DURING_GET_QUERY]=!0,this.options[e.REQUEST_BKYOU_IF_BROADPEAK_CDN]=!1,this.options[e.REQUEST_NANO_CDN_PRIORITY]=e.PRIORITY_NANO_CDN_CONF,this.options[e.SESSION_KEEPALIVE]=e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN,this.options[e.SESSION_TEARDOWN]=e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN,this.options[e.SESSION_REPORTING_MODE]=e.SESSION_REPORTING_MODE_DEFAULT,this.options[e.SESSION_KEEPALIVE_FREQUENCY]=i.Z.KEEPALIVE_REQUEST_INTERVAL,this.options[e.USERAGENT_AD_EVENT]=void 0,this.options[e.TIMEOUT_NANO_CDN_REQUEST_ROUTER]=2e3,this.options[e.TIMEOUT_NANO_CDN_STATIC_RESOLVING]=3e3,this.options[e.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING]=3e3,this.options[e.EXPERIMENTAL_METRICS_LATENCY]=!1,this.options[e.LEGACY_MULTICAST_ONLY]=!1,this.updates=[]}var t,n,u;return t=e,n=[{key:"option",value:function(t,n){return this.validate(t,n)&&(this.options[t]=n,t===e.PIP_SESSION&&!0===n&&this.option(e.REQUEST_NANO_CDN,!1),-1===this.updates.indexOf(t)&&this.updates.push(t)),this}},{key:"get",value:function(t){var n=[e.USERAGENT_AD_EVENT];return void 0===this.options[t]&&-1===n.indexOf(t)&&r.o.w(l,"Warning: get option "+t+" not found"),this.options[t]}},{key:"set",value:function(e,t){this.option(e,t)}},{key:"validate",value:function(t,n){if(t===e.SESSION_REPORTING_MODE)return n===e.SESSION_REPORTING_MODE_DEFAULT||n===e.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN||n===e.SESSION_REPORTING_MODE_METRICS_RECEIVER||n===e.SESSION_REPORTING_MODE_DISABLED||(r.o.e(l,"Error: SESSION_REPORTING_MODE should be SESSION_REPORTING_MODE_DEFAULT, SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN, SESSION_REPORTING_MODE_METRICS_RECEIVER or SESSION_REPORTING_MODE_DISABLED"),!1);if(t===e.SESSION_KEEPALIVE||t===e.SESSION_TEARDOWN)return n===e.SESSION_DISABLED||n===e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN||n===e.SESSION_ENABLED||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be SESSION_ENABLED_IF_BROADPEAK_DOMAIN, SESSION_DISABLED or SESSION_ENABLED"),!1);if(t===e.SESSION_KEEPALIVE_FREQUENCY)return"number"==typeof n&&n>=5e3&&n<=6e4||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be a number within 5000ms and 60000ms"),!1);if(t===e.USERAGENT_AD_EVENT)return"string"==typeof n||void 0===n||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be a string or undefined"),!1);if(t===e.GDPR_PREFERENCE)return"number"==typeof n&&n>=1&&n<=4||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be a number within 1 and 4"),!1);if(t>=e.TIMEOUT_NANO_CDN_REQUEST_ROUTER&&t<=e.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING)return"number"==typeof n||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be a number"),!1);if(t===e.REQUEST_NANO_CDN_PRIORITY)return n>=e.PRIORITY_NANO_CDN_CONF&&n<=e.PRIORITY_LOAD_BALANCING||(r.o.e(l,"Error: "+e.optionToString(t)+" value should be PRIORITY_NANO_CDN_CONF, PRIORITY_APP_CONF or PRIORITY_LOAD_BALANCING"),!1);if(void 0===t)return r.o.e(l,"Error: option should not be undefined"),!1;var i="boolean"==typeof n;return i||r.o.e(l,"Error: "+e.optionToString(t)+" value should be a boolean"),i}},{key:"print",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;r.o.i(t,n+"Options",i),r.o.i(t,n+"   MULTICAST_ONLY="+this.get(e.MULTICAST_ONLY),i),r.o.i(t,n+"   LEGACY_MULTICAST_ONLY="+this.get(e.LEGACY_MULTICAST_ONLY),i),r.o.i(t,n+"   REQUEST_REDIRECT_THIRD_PARTY_CDN="+this.get(e.REQUEST_REDIRECT_THIRD_PARTY_CDN),i),r.o.i(t,n+"   REQUEST_DIVERSITY="+this.get(e.REQUEST_DIVERSITY),i),r.o.i(t,n+"   REQUEST_NANO_CDN="+this.get(e.REQUEST_NANO_CDN),i),r.o.i(t,n+"   REQUEST_NANO_CDN_DURING_GET_QUERY="+this.get(e.REQUEST_NANO_CDN_DURING_GET_QUERY),i),r.o.i(t,n+"   REQUEST_BROADPEAK_CDN="+this.get(e.REQUEST_BROADPEAK_CDN),i),r.o.i(t,n+"   REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI="+this.get(e.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI),i),r.o.i(t,n+"   REQUEST_DIVERSITY_DYNAMIC_FAILOVER="+this.get(e.REQUEST_DIVERSITY_DYNAMIC_FAILOVER),i),r.o.i(t,n+"   REQUEST_BKYOU_IF_BROADPEAK_CDN="+this.get(e.REQUEST_BKYOU_IF_BROADPEAK_CDN),i),r.o.i(t,n+"   REQUEST_NANO_CDN_PRIORITY="+e.nanoCDNPriorityToString(this.get(e.REQUEST_NANO_CDN_PRIORITY)),i),r.o.i(t,n+"   SESSION_KEEPALIVE="+e.stateToString(this.get(e.SESSION_KEEPALIVE)),i),r.o.i(t,n+"   SESSION_KEEPALIVE_FREQUENCY="+this.get(e.SESSION_KEEPALIVE_FREQUENCY)+"ms",i),r.o.i(t,n+"   SESSION_TEARDOWN="+e.stateToString(this.get(e.SESSION_TEARDOWN)),i),r.o.i(t,n+"   SESSION_REPORTING_MODE="+e.reportingModeToString(this.get(e.SESSION_REPORTING_MODE)),i),r.o.i(t,n+"   TIMEOUT_NANO_CDN_REQUEST_ROUTER="+this.get(e.TIMEOUT_NANO_CDN_REQUEST_ROUTER)+"ms",i),void 0!==this.get(e.USERAGENT_AD_EVENT)&&r.o.i(t,n+"   USERAGENT_AD_EVENT="+this.get(e.USERAGENT_AD_EVENT),i),r.o.i(t,n+"   PIP_SESSION="+this.get(e.PIP_SESSION),i),r.o.i(t,n+"   ULTRA_LOW_LATENCY_SUPPORT="+this.get(e.ULTRA_LOW_LATENCY_SUPPORT),i),r.o.i(t,n+"   GDPR_PREFERENCE="+this.get(e.GDPR_PREFERENCE),i)}},{key:"printUpdates",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;this.updates.forEach((function(a){r.o.i(n,i+"   "+e.optionToString(a)+"="+e.valueToString(a,t.get(a)),o)}))}}],u=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=new e;return t instanceof e&&(r.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.options)),void 0!==n&&n.updates.forEach((function(e){r.options[e]=n.options[e]})),r}},{key:"optionToString",value:function(e){switch(e){case this.MULTICAST_ONLY:return"MULTICAST_ONLY";case this.PIP_SESSION:return"PIP_SESSION";case this.ULTRA_LOW_LATENCY_SUPPORT:return"ULTRA_LOW_LATENCY_SUPPORT";case this.GDPR_PREFERENCE:return"GDPR_PREFERENCE";case this.REQUEST_REDIRECT_THIRD_PARTY_CDN:return"REQUEST_REDIRECT_THIRD_PARTY_CDN";case this.REQUEST_DIVERSITY:return"REQUEST_DIVERSITY";case this.REQUEST_NANO_CDN:return"REQUEST_NANO_CDN";case this.REQUEST_BROADPEAK_CDN:return"REQUEST_BROADPEAK_CDN";case this.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI:return"REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI";case this.REQUEST_DIVERSITY_DYNAMIC_FAILOVER:return"REQUEST_DIVERSITY_DYNAMIC_FAILOVER";case this.REQUEST_NANO_CDN_DURING_GET_QUERY:return"REQUEST_NANO_CDN_DURING_GET_QUERY";case this.REQUEST_BKYOU_IF_BROADPEAK_CDN:return"REQUEST_BKYOU_IF_BROADPEAK_CDN";case this.REQUEST_NANO_CDN_PRIORITY:return"REQUEST_NANO_CDN_PRIORITY";case this.SESSION_KEEPALIVE:return"SESSION_KEEPALIVE";case this.SESSION_TEARDOWN:return"SESSION_TEARDOWN";case this.SESSION_REPORTING_MODE:return"SESSION_REPORTING_MODE";case this.SESSION_KEEPALIVE_FREQUENCY:return"SESSION_KEEPALIVE_FREQUENCY";case this.USERAGENT_AD_EVENT:return"USERAGENT_AD_EVENT";case this.TIMEOUT_NANO_CDN_REQUEST_ROUTER:return"TIMEOUT_NANO_CDN_REQUEST_ROUTER";case this.TIMEOUT_NANO_CDN_STATIC_RESOLVING:return"TIMEOUT_NANO_CDN_STATIC_RESOLVING";case this.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING:return"TIMEOUT_NANO_CDN_DISCOVER_RESOLVING";case this.PRIORITY_NANO_CDN_CONF:return"PRIORITY_NANO_CDN_CONF";case this.PRIORITY_APP_CONF:return"PRIORITY_APP_CONF";case this.PRIORITY_LOAD_BALANCING:return"PRIORITY_LOAD_BALANCING";case this.LEGACY_MULTICAST_ONLY:return"LEGACY_MULTICAST_ONLY"}return"unknown"}},{key:"valueToString",value:function(e,t){switch(e){case this.SESSION_KEEPALIVE:case this.SESSION_TEARDOWN:return this.stateToString(t);case this.SESSION_REPORTING_MODE:return this.reportingModeToString(t);case this.REQUEST_NANO_CDN_PRIORITY:return this.nanoCDNPriorityToString(t)}return String(t)}},{key:"stateToString",value:function(t){switch(t){case e.SESSION_DISABLED:return"disabled";case e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN:return"enabled if broadpeak domain name";case e.SESSION_ENABLED:return"enabled"}return"unknown"}},{key:"reportingModeToString",value:function(t){switch(t){case e.SESSION_REPORTING_MODE_DEFAULT:return"default";case e.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN:return"keepalive/teardown";case e.SESSION_REPORTING_MODE_METRICS_RECEIVER:return"metricsReceiver";case e.SESSION_REPORTING_MODE_DISABLED:return"disabled"}return"unknown"}},{key:"nanoCDNPriorityToString",value:function(t){switch(t){case e.PRIORITY_NANO_CDN_CONF:return"nanoCDN conf";case e.PRIORITY_APP_CONF:return"init order";case e.PRIORITY_LOAD_BALANCING:return"load balancing"}return"unknown"}}],n&&a(t.prototype,n),u&&a(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();s(c,"MULTICAST_ONLY",0),s(c,"ULTRA_LOW_LATENCY_SUPPORT",1),s(c,"PIP_SESSION",2),s(c,"GDPR_PREFERENCE",3),s(c,"REQUEST_REDIRECT_THIRD_PARTY_CDN",100),s(c,"REQUEST_DIVERSITY",101),s(c,"REQUEST_NANO_CDN",102),s(c,"REQUEST_BROADPEAK_CDN",103),s(c,"REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI",104),s(c,"REQUEST_DIVERSITY_DYNAMIC_FAILOVER",105),s(c,"REQUEST_NANO_CDN_DURING_GET_QUERY",106),s(c,"REQUEST_BKYOU_IF_BROADPEAK_CDN",107),s(c,"REQUEST_NANO_CDN_PRIORITY",108),s(c,"SESSION_KEEPALIVE",200),s(c,"SESSION_TEARDOWN",201),s(c,"SESSION_REPORTING_MODE",202),s(c,"SESSION_KEEPALIVE_FREQUENCY",203),s(c,"USERAGENT_AD_EVENT",300),s(c,"TIMEOUT_NANO_CDN_REQUEST_ROUTER",500),s(c,"TIMEOUT_NANO_CDN_STATIC_RESOLVING",501),s(c,"TIMEOUT_NANO_CDN_DISCOVER_RESOLVING",502),s(c,"PRIORITY_NANO_CDN_CONF",600),s(c,"PRIORITY_APP_CONF",601),s(c,"PRIORITY_LOAD_BALANCING",602),s(c,"EXPERIMENTAL_METRICS_LATENCY",900),s(c,"LEGACY_MULTICAST_ONLY",1e3),s(c,"SESSION_DISABLED",-1),s(c,"SESSION_ENABLED_IF_BROADPEAK_DOMAIN",0),s(c,"SESSION_ENABLED",1),s(c,"SESSION_REPORTING_MODE_DEFAULT",0),s(c,"SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN",1),s(c,"SESSION_REPORTING_MODE_METRICS_RECEIVER",2),s(c,"SESSION_REPORTING_MODE_DISABLED",-1),s(c,"MULTICAST_UNKNOWN",-1),s(c,"MULTICAST_INACTIVE",0),s(c,"MULTICAST_INACTIVE_WAS_ACTIVE",1),s(c,"MULTICAST_ACTIVE",2),s(c,"GDPR_DELETE",1),s(c,"GDPR_ANONYMIZED",2),s(c,"GDPR_ENCRYPTED",3),s(c,"GDPR_CLEAR",4)},5652:function(e,t,n){n.d(t,{G:function(){return a}});n(8436),n(4043),n(2462),n(9373),n(9903),n(9749),n(6544),n(228),n(9288);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"url",void 0),i(this,"diversityFailoverSession",void 0),i(this,"errorCode",void 0),i(this,"detailedErrorCode",void 0),i(this,"detailedErrorMessage",void 0),i(this,"nanoCDNUsed",void 0),i(this,"nanoCDNDescr",void 0),this.url=t,this.errorCode=n,this.detailedErrorMessage=r.trim();var o=r.match("^([0-9]+).*");null!==o&&void 0!==o[1]?this.detailedErrorCode=parseInt(o[1],10):""===this.detailedErrorMessage?this.detailedErrorCode=e.RESULT_NO_DETAILED_ERROR:this.detailedErrorCode=e.RESULT_DETAILED_ERROR_PARSING_ERROR,this.nanoCDNUsed=!1,this.nanoCDNDescr=void 0}var t,n,o;return t=e,o=[{key:"success",value:function(t){return new e(t,e.RESULT_NO_ERROR)}},{key:"error",value:function(t){return new e("",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}},{key:"getErrorMessage",value:function(t){switch(t){case e.RESULT_NO_ERROR:return"Result success. The session has been created.";case e.RESULT_NO_STREAMING_URL_FOUND:return"Request error. No streaming URL has been found. Default error when requesting the CDN (BkM/uCDN).";case e.RESULT_CDN_RESPONSE_UNREADABLE:return"Request error. The CDN response is unreadable (timeout error, CORS error, connection error).";case e.RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN:return"Request error. Content not found on the CDN (error 4XX).";case e.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN:return"Request error. Content not found on the nanoCDN (error 404, timeout error, CORS error or connection error).";case e.RESULT_REQUESTED_URL_CDN_ERROR:return"Request error. The CDN returned an unknown error (error 5XX).";case e.RESULT_NANOCDN_SESSION_LIMIT_REACHED:return"nanoCDN error. All nanoCDN on the network responded with session limit reached error.";case e.RESULT_NANOCDN_SESSION_LIMIT_REACHED_ON_REQUESTED_CHANNEL:return"nanoCDN error. All nanoCDN on the network responded with session limit reached error for the requested channel.";case e.RESULT_NANOCDN_SERVICE_UNAVAILABLE:return"nanoCDN error. All nanoCDN on the network have their service unavailable.";case e.RESULT_NANOCDN_CHANNEL_UNAVAILABLE:return"nanoCDN error. The requested channel is unavailable on all nanoCDN of the network.";case e.RESULT_NANOCDN_REQUEST_LOCAL_IF_CONNECTED_TO_WIFI_NOT_ALLOWED:return"nanoCDN error. A nanoCDN on 127.0.0.1 has been found and is connected to Wi-Fi but it is not allowed.";case e.RESULT_API_PARAMETER_FORMAT_ERROR:return"Api error. A method parameter does not have the right format.";case e.RESULT_API_NOT_INITIALIZED:return"Api error. SmartLib init not called";case e.RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST:return"Workflow error. The session has been stopped during request.";case e.RESULT_REQUEST_ALREADY_DONE:return"Workflow error. The request has already been done for that session."}return"No error message for the error code "+t}}],(n=[{key:"getURL",value:function(){return this.url}},{key:"getFallbackURLList",value:function(){return void 0!==this.diversityFailoverSession?this.diversityFailoverSession.getFallbackURLList():[]}},{key:"isError",value:function(){return this.errorCode!==e.RESULT_NO_ERROR}},{key:"getErrorCode",value:function(){return this.errorCode}},{key:"getErrorMessage",value:function(){return e.getErrorMessage(this.errorCode)}},{key:"getDetailedErrorCode",value:function(){return this.detailedErrorCode}},{key:"getDetailedErrorMessage",value:function(){return this.detailedErrorMessage}},{key:"isNanoCDNUsed",value:function(){return this.nanoCDNUsed}}])&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"RESULT_NO_ERROR",0),i(a,"RESULT_NO_STREAMING_URL_FOUND",3100),i(a,"RESULT_CDN_RESPONSE_UNREADABLE",3101),i(a,"RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN",3102),i(a,"RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN",3103),i(a,"RESULT_REQUESTED_URL_CDN_ERROR",3104),i(a,"RESULT_NANOCDN_SESSION_LIMIT_REACHED",3201),i(a,"RESULT_NANOCDN_SESSION_LIMIT_REACHED_ON_REQUESTED_CHANNEL",3202),i(a,"RESULT_NANOCDN_SERVICE_UNAVAILABLE",3203),i(a,"RESULT_NANOCDN_CHANNEL_UNAVAILABLE",3204),i(a,"RESULT_NANOCDN_REQUEST_LOCAL_IF_CONNECTED_TO_WIFI_NOT_ALLOWED",3205),i(a,"RESULT_NANOCDN_RESPONSE_UNREADABLE",3206),i(a,"RESULT_API_PARAMETER_FORMAT_ERROR",3400),i(a,"RESULT_API_NOT_INITIALIZED",3401),i(a,"RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST",3500),i(a,"RESULT_REQUEST_ALREADY_DONE",3501),i(a,"RESULT_NO_DETAILED_ERROR",0),i(a,"RESULT_DETAILED_ERROR_PARSING_ERROR",-1)},795:function(e,t,n){n.d(t,{Z:function(){return i}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"formatDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t="";e<0&&(e*=-1,t="-");var n=e.getDate()<=9?"0"+e.getDate():e.getDate(),r=e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getHours()<=9?"0"+e.getHours():e.getHours(),o=e.getMinutes()<=9?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<=9?"0"+e.getSeconds():e.getSeconds(),s=String(e.getMilliseconds());return 1===s.length?s="00"+s:2===s.length&&(s="0"+s),t+r+"-"+n+" "+i+":"+o+":"+a+"."+s}},{key:"formatTime",value:function(e){var t="";e<0&&(e*=-1,t="-");var n=e%1e3,r=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),a=o<=9?"0"+o:o,s=i<=9?"0"+i:i,u=r<=9?"0"+r:r,l=String(n);return 1===l.length?l="00"+l:2===l.length&&(l="0"+l),t+a+":"+s+":"+u+"."+l}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},6138:function(e,t,n){n.d(t,{i:function(){return h},o:function(){return m}});n(9373),n(9903),n(9749),n(6544),n(228),n(9288),n(752),n(1694),n(1090),n(6265);var r=n(795);function i(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function o(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,s(e,t,"get"))}function a(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,s(e,t,"set"),n),n}function s(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var v=function(){function e(){l(this,e)}return d(e,null,[{key:"log",value:function(e,t,n){}}]),e}(),h=d((function e(){l(this,e)}));u(h,"VERBOSE",0),u(h,"DEBUG",1),u(h,"INFO",2),u(h,"WARN",3),u(h,"ERROR",4);var p=d((function e(){l(this,e)}));u(p,"NONE",-1),u(p,"BASIC",0),u(p,"VERBOSE",1);var y=new WeakMap,g=new WeakMap,E=new WeakMap,S=new WeakMap,m=function(){function e(){l(this,e),i(this,y,{writable:!0,value:v}),i(this,g,{writable:!0,value:void 0}),i(this,E,{writable:!0,value:void 0}),i(this,S,{writable:!0,value:void 0}),a(this,g,[]),a(this,E,p.VERBOSE)}return d(e,[{key:"init",value:function(e){a(this,y,e)}},{key:"release",value:function(){a(this,y,void 0)}},{key:"printLogs",value:function(e,t,n,i){if(o(this,g).length>100&&a(this,g,[]),void 0!==i&&(n="["+i+"] "+n),o(this,g).push(t+": "+n),void 0!==o(this,S)){var s,u=r.Z.formatDate()+" ";switch(e){case h.VERBOSE:u+="V/";break;case h.DEBUG:u+="D/";break;case h.INFO:u+="I/";break;case h.WARN:case h.ERROR:u+="W/"}u+=t+": "+n,null===(s=o(this,S))||void 0===s||s.onLog(u)}else o(this,y).log(e,t,n,i)}},{key:"printVerboseLogs",value:function(e,t,n){o(this,E)<p.VERBOSE||this.printLogs(h.VERBOSE,e,t,n)}},{key:"printDebugLogs",value:function(e,t,n){o(this,E)<p.VERBOSE||this.printLogs(h.DEBUG,e,t,n)}},{key:"printInfoLogs",value:function(e,t,n){o(this,E)<=p.NONE||this.printLogs(h.INFO,e,t,n)}},{key:"printWarnLogs",value:function(e,t,n){o(this,E)<=p.NONE||this.printLogs(h.WARN,e,t,n)}},{key:"printErrorLogs",value:function(e,t,n){o(this,E)<=p.NONE||this.printLogs(h.ERROR,e,t,n)}},{key:"getLogs",value:function(){return o(this,g).join("\n")}},{key:"resetLogs",value:function(){a(this,g,[])}},{key:"getLogLevel",value:function(e){return o(this,E)}},{key:"setLogLevel",value:function(e){a(this,E,e)}},{key:"setLogRedirectListener",value:function(e){a(this,S,e)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"v",value:function(t,n,r){e.getInstance().printVerboseLogs(t,n,r)}},{key:"d",value:function(t,n,r){e.getInstance().printDebugLogs(t,n,r)}},{key:"i",value:function(t,n,r){e.getInstance().printInfoLogs(t,n,r)}},{key:"w",value:function(t,n,r){e.getInstance().printWarnLogs(t,n,r)}},{key:"e",value:function(t,n,r){e.getInstance().printErrorLogs(t,n,r)}}]),e}();u(m,"instance",void 0)},6293:function(e,t,n){n.d(t,{Z:function(){return u}});n(4043),n(7267),n(2003),n(3440),n(2826),n(7195),n(9730),n(228),n(9288),n(9373),n(9903),n(9749),n(6544);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var o,a,s,u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"bufferToBase64Lookup",value:function(e){return e<26?String.fromCharCode(e+"A".charCodeAt(0)):e<52?String.fromCharCode(e-26+"a".charCodeAt(0)):e<62?String.fromCharCode(e-52+"0".charCodeAt(0)):62===e?"-":63===e?"_":""}},{key:"bufferToBase64",value:function(t){var n,r=t.data(),i=t.length(),o="";for(n=0;n<i;n+=3){var a=[void 0,void 0,void 0,void 0];a[0]=r[n]>>2,a[1]=(3&r[n])<<4,i>n+1&&(a[1]|=r[n+1]>>4,a[2]=(15&r[n+1])<<2),i>n+2&&(a[2]|=r[n+2]>>6,a[3]=63&r[n+2]);for(var s=0;s<a.length;s++)void 0===a[s]||(o+=e.bufferToBase64Lookup(a[s]))}return o}},{key:"stringToBase64",value:function(t){var n="",r="",i=t.length%3;if(i>0)for(;i<3;i++)r+="=",t+="\0";for(i=0;i<t.length;i+=3){var o=(t.charCodeAt(i)<<16)+(t.charCodeAt(i+1)<<8)+t.charCodeAt(i+2);o=[o>>>18&63,o>>>12&63,o>>>6&63,63&o],n+=e.BASE64_CHARS[o[0]]+e.BASE64_CHARS[o[1]]+e.BASE64_CHARS[o[2]]+e.BASE64_CHARS[o[3]]}return n.substring(0,n.length-r.length)+r}},{key:"base64ToString",value:function(t){var n="="===(t=t.replace(new RegExp("[^"+e.BASE64_CHARS.split("")+"=]","g"),"")).charAt(t.length-1)?"="===t.charAt(t.length-2)?"AA":"A":"",r="";t=t.substr(0,t.length-n.length)+n;for(var i=0;i<t.length;i+=4){var o=(e.BASE64_CHARS.indexOf(t.charAt(i))<<18)+(e.BASE64_CHARS.indexOf(t.charAt(i+1))<<12)+(e.BASE64_CHARS.indexOf(t.charAt(i+2))<<6)+e.BASE64_CHARS.indexOf(t.charAt(i+3));r+=String.fromCharCode(o>>>16&255,o>>>8&255,255&o)}return r.substring(0,r.length-n.length)}},{key:"floor",value:function(e){return e>>>0}},{key:"bufferToString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n="[0x",r=0;r<t;r++){var i=e[r];n+=("00"+Number(i).toString(16)).slice(-2),r<t-1&&(n+=",0x")}return n+="] (capacity:"+e.length+")"}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();o=u,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",(a=i(a="BASE64_CHARS"))in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s},5687:function(e,t,n){n.d(t,{Z:function(){return a}});n(4043),n(2462),n(7267),n(2003),n(3440),n(2826),n(7195),n(268),n(9373),n(9903),n(9749),n(6544),n(228),n(9288);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"parseURL",value:function(e){if(!this.isValidUrl(e))return null;var t=e.match("^(https?)\\:\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)([\\/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$"),n=t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]};return null!==n&&null!==n.query&&n.query.length>0&&(n.query=n.query.substring(1)),n}},{key:"getParam",value:function(e,t){if(!this.isValidUrl(e))return"";t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""}},{key:"addOrReplaceParam",value:function(e,t,n){var r=e.indexOf("?"+t+"=");if(r<0&&(r=e.indexOf("&"+t+"=")),r>=0){var i=e.substring(0,e.indexOf(t)),o=e.substring(e.indexOf(t));return i+t+"="+n+(o=o.indexOf("&")>=0?o.substring(o.indexOf("&")):"")}return(e.indexOf("?")<0?e+"?":e+"&")+t+"="+n}},{key:"extractHostnamePort",value:function(e){return this.isValidUrl(e)?(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split("?")[0]:""}},{key:"extractProtocol",value:function(e){return this.isValidUrl(e)?e.split("://")[0]:""}},{key:"isValidUrl",value:function(e){return null!==e&&""!==e&&void 0!==e}},{key:"isRelativeUrl",value:function(e){return e.startsWith("/")}}],(n=null)&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(a,"REGEX_IP","^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}(:[0-9]+)?$"),i(a,"REGEX_HOSTNAME","^([A-Za-z0-9\\_\\-\\.]+)(:[0-9]+)?$"),i(a,"REGEX_TICKET","^[0-5a-z]{30,50}$"),i(a,"REGEX_TICKET_TRANSCODED","^.*@[0-5a-z]{30,50}$")},5114:function(e,t,n){n.d(t,{Z:function(){return a}});n(4043),n(7267),n(9373),n(9903),n(9749),n(6544),n(228),n(9288);var r=n(6138);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}var o="BpkValidator",a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"typeParameter",value:function(e,t,n){return typeof e===t||(r.o.e(o,n),!1)}},{key:"typeOrUndefinedParameter",value:function(e,t,n){return typeof e===t||void 0===e||(r.o.e(o,n),!1)}},{key:"typeOrNullParameter",value:function(e,t,n){return typeof e===t||null===e||(r.o.e(o,n),!1)}},{key:"stringNonEmpty",value:function(e,t){return"string"==typeof e&&e.length>0||(r.o.e(o,t),!1)}},{key:"toBkAString",value:function(e){return void 0!==e&&"string"==typeof e?e.replace(/\n/g,"").replace(/\t/g,"").replace(/\r/g,""):e}}],(n=null)&&i(t.prototype,n),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}()},509:function(e,t,n){var r=n(9985),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},2655:function(e,t,n){var r=n(9429),i=n(3691),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},3550:function(e,t,n){var r=n(9985),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},7370:function(e,t,n){var r=n(4201),i=n(5391),o=n(2560).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},1514:function(e,t,n){var r=n(730).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},767:function(e,t,n){var r=n(3622),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},5027:function(e,t,n){var r=n(8999),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},1655:function(e,t,n){var r=n(3689);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},7612:function(e,t,n){var r=n(2960).forEach,i=n(6834)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},1055:function(e,t,n){var r=n(4071),i=n(2615),o=n(690),a=n(1228),s=n(3292),u=n(9429),l=n(6310),c=n(6522),d=n(5185),f=n(1664),v=Array;e.exports=function(e){var t=o(e),n=u(this),h=arguments.length,p=h>1?arguments[1]:void 0,y=void 0!==p;y&&(p=r(p,h>2?arguments[2]:void 0));var g,E,S,m,b,_,R=f(t),N=0;if(!R||this===v&&s(R))for(g=l(t),E=n?new this(g):v(g);g>N;N++)_=y?p(t[N],N):t[N],c(E,N,_);else for(b=(m=d(t,R)).next,E=n?new this:[];!(S=i(b,m)).done;N++)_=y?a(m,p,[S.value,N],!0):S.value,c(E,N,_);return E.length=N,E}},4328:function(e,t,n){var r=n(5290),i=n(7578),o=n(6310),a=function(e){return function(t,n,a){var s,u=r(t),l=o(u),c=i(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2960:function(e,t,n){var r=n(4071),i=n(8844),o=n(4413),a=n(690),s=n(6310),u=n(7120),l=i([].push),c=function(e){var t=1===e,n=2===e,i=3===e,c=4===e,d=6===e,f=7===e,v=5===e||d;return function(h,p,y,g){for(var E,S,m=a(h),b=o(m),_=s(b),R=r(p,y),N=0,T=g||u,A=t?T(h,_):n||f?T(h,0):void 0;_>N;N++)if((v||N in b)&&(S=R(E=b[N],N,m),e))if(t)A[N]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return N;case 2:l(A,E)}else switch(e){case 4:return!1;case 7:l(A,E)}return d?-1:i||c?c:A}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},9042:function(e,t,n){var r=n(3689),i=n(4201),o=n(3615),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6834:function(e,t,n){var r=n(3689);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},5649:function(e,t,n){var r=n(7697),i=n(2297),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},9015:function(e,t,n){var r=n(7578),i=n(6310),o=n(6522),a=Array,s=Math.max;e.exports=function(e,t,n){for(var u=i(e),l=r(t,u),c=r(void 0===n?u:n,u),d=a(s(c-l,0)),f=0;l<c;l++,f++)o(d,f,e[l]);return d.length=f,d}},6004:function(e,t,n){var r=n(8844);e.exports=r([].slice)},382:function(e,t,n){var r=n(9015),i=Math.floor,o=function(e,t){var n=e.length,u=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,u),t),o(r(e,u),t),t)},a=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},5271:function(e,t,n){var r=n(2297),i=n(9429),o=n(8999),a=n(4201)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},7120:function(e,t,n){var r=n(5271);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1228:function(e,t,n){var r=n(5027),i=n(2125);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},6431:function(e,t,n){var r=n(4201)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},6648:function(e,t,n){var r=n(8844),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},926:function(e,t,n){var r=n(3043),i=n(9985),o=n(6648),a=n(4201)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},637:function(e,t,n){var r=n(8844),i=n(6045),o=n(5375).getWeakData,a=n(767),s=n(5027),u=n(981),l=n(8999),c=n(8734),d=n(2960),f=n(6812),v=n(618),h=v.set,p=v.getterFor,y=d.find,g=d.findIndex,E=r([].splice),S=0,m=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},_=function(e,t){return y(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&E(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){a(e,v),h(e,{type:t,id:S++,frozen:void 0}),u(i)||c(i,e[r],{that:e,AS_ENTRIES:n})})),v=d.prototype,y=p(t),g=function(e,t,n){var r=y(e),i=o(s(t),!0);return!0===i?m(r).set(t,n):i[r.id]=n,e};return i(v,{delete:function(e){var t=y(this);if(!l(e))return!1;var n=o(e);return!0===n?m(t).delete(e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=y(this);if(!l(e))return!1;var n=o(e);return!0===n?m(t).has(e):n&&f(n,t.id)}}),i(v,n?{get:function(e){var t=y(this);if(l(e)){var n=o(e);return!0===n?m(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},319:function(e,t,n){var r=n(9989),i=n(9037),o=n(8844),a=n(5266),s=n(1880),u=n(5375),l=n(8734),c=n(767),d=n(9985),f=n(981),v=n(8999),h=n(3689),p=n(6431),y=n(5997),g=n(3457);e.exports=function(e,t,n){var E=-1!==e.indexOf("Map"),S=-1!==e.indexOf("Weak"),m=E?"set":"add",b=i[e],_=b&&b.prototype,R=b,N={},T=function(e){var t=o(_[e]);s(_,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(S&&!v(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return S&&!v(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(S&&!v(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(b)||!(S||_.forEach&&!h((function(){(new b).entries().next()})))))R=n.getConstructor(t,e,E,m),u.enable();else if(a(e,!0)){var A=new R,O=A[m](S?{}:-0,1)!==A,w=h((function(){A.has(1)})),I=p((function(e){new b(e)})),k=!S&&h((function(){for(var e=new b,t=5;t--;)e[m](t,t);return!e.has(-0)}));I||((R=t((function(e,t){c(e,_);var n=g(new b,e,R);return f(t)||l(t,n[m],{that:n,AS_ENTRIES:E}),n}))).prototype=_,_.constructor=R),(w||k)&&(T("delete"),T("has"),E&&T("get")),(k||O)&&T(m),S&&_.clear&&delete _.clear}return N[e]=R,r({global:!0,constructor:!0,forced:R!==b},N),y(R,e),S||n.setStrong(R,e,E),R}},8758:function(e,t,n){var r=n(6812),i=n(9152),o=n(2474),a=n(2560);e.exports=function(e,t,n){for(var s=i(t),u=a.f,l=o.f,c=0;c<s.length;c++){var d=s[c];r(e,d)||n&&r(n,d)||u(e,d,l(t,d))}}},7413:function(e,t,n){var r=n(4201)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},1748:function(e,t,n){var r=n(3689);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:function(e){e.exports=function(e,t){return{value:e,done:t}}},5773:function(e,t,n){var r=n(7697),i=n(2560),o=n(5684);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},5684:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:function(e,t,n){var r=n(8360),i=n(2560),o=n(5684);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},1797:function(e,t,n){var r=n(5027),i=n(5899),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},2148:function(e,t,n){var r=n(8702),i=n(2560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},1880:function(e,t,n){var r=n(9985),i=n(2560),o=n(8702),a=n(5014);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&o(n,l,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6045:function(e,t,n){var r=n(1880);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},5014:function(e,t,n){var r=n(9037),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},8494:function(e,t,n){var r=n(3691),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},7697:function(e,t,n){var r=n(3689);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},6420:function(e,t,n){var r=n(9037),i=n(8999),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5565:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6338:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:function(e,t,n){var r=n(6420)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},7365:function(e,t,n){var r=n(71).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},2532:function(e,t,n){var r=n(8563),i=n(806);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},8563:function(e){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:function(e,t,n){var r=n(71);e.exports=/MSIE|Trident/.test(r)},3221:function(e,t,n){var r=n(71);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4764:function(e,t,n){var r=n(71);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},806:function(e,t,n){var r=n(9037),i=n(6648);e.exports="process"===i(r.process)},7486:function(e,t,n){var r=n(71);e.exports=/web0s(?!.*chrome)/i.test(r)},71:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:function(e,t,n){var r,i,o=n(9037),a=n(71),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},7922:function(e,t,n){var r=n(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},2739:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:function(e,t,n){var r=n(9037),i=n(2474).f,o=n(5773),a=n(1880),s=n(5014),u=n(8758),l=n(5266);e.exports=function(e,t){var n,c,d,f,v,h=e.target,p=e.global,y=e.stat;if(n=p?r:y?r[h]||s(h,{}):(r[h]||{}).prototype)for(c in t){if(f=t[c],d=e.dontCallGetSet?(v=i(n,c))&&v.value:n[c],!l(p?c:h+(y?".":"#")+c,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,c,f,e)}}},3689:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:function(e,t,n){n(4043);var r=n(6576),i=n(1880),o=n(6308),a=n(3689),s=n(4201),u=n(5773),l=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),v=!a((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),h=v&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!v||!h||n){var p=r(/./[f]),y=t(f,""[e],(function(e,t,n,i,a){var s=r(e),u=t.exec;return u===o||u===c.exec?v&&!a?{done:!0,value:p(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,y[0]),i(c,f,y[1])}d&&u(c[f],"sham",!0)}},1594:function(e,t,n){var r=n(3689);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},1735:function(e,t,n){var r=n(7215),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},4071:function(e,t,n){var r=n(6576),i=n(509),o=n(7215),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},7215:function(e,t,n){var r=n(3689);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6761:function(e,t,n){var r=n(8844),i=n(509),o=n(8999),a=n(6812),s=n(6004),u=n(7215),l=Function,c=r([].concat),d=r([].join),f={};e.exports=u?l.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=c(r,s(arguments));return this instanceof u?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=l("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(u.prototype=n),u}},2615:function(e,t,n){var r=n(7215),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},1236:function(e,t,n){var r=n(7697),i=n(6812),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},2743:function(e,t,n){var r=n(8844),i=n(509);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6576:function(e,t,n){var r=n(6648),i=n(8844);e.exports=function(e){if("Function"===r(e))return i(e)}},8844:function(e,t,n){var r=n(7215),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},6058:function(e,t,n){var r=n(9037),i=n(9985);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},1664:function(e,t,n){var r=n(926),i=n(4849),o=n(981),a=n(9478),s=n(4201)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},5185:function(e,t,n){var r=n(2615),i=n(509),o=n(5027),a=n(3691),s=n(1664),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new u(a(e)+" is not iterable")}},2643:function(e,t,n){var r=n(8844),i=n(2297),o=n(9985),a=n(6648),s=n(4327),u=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var l=e[r];"string"==typeof l?u(n,l):"number"!=typeof l&&"Number"!==a(l)&&"String"!==a(l)||u(n,s(l))}var c=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<c;r++)if(n[r]===e)return t}}}},4849:function(e,t,n){var r=n(509),i=n(981);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7017:function(e,t,n){var r=n(8844),i=n(690),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var v=n+e.length,h=r.length,p=c;return void 0!==d&&(d=i(d),p=l),s(f,p,(function(i,s){var l;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,v);case"<":l=d[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>h){var f=o(c/10);return 0===f?i:f<=h?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}l=r[c-1]}return void 0===l?"":l}))}},9037:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:function(e,t,n){var r=n(8844),i=n(690),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7248:function(e){e.exports={}},920:function(e){e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2688:function(e,t,n){var r=n(6058);e.exports=r("document","documentElement")},8506:function(e,t,n){var r=n(7697),i=n(3689),o=n(6420);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},4413:function(e,t,n){var r=n(8844),i=n(3689),o=n(6648),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},3457:function(e,t,n){var r=n(9985),i=n(8999),o=n(9385);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},6738:function(e,t,n){var r=n(8844),i=n(9985),o=n(4091),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},5375:function(e,t,n){var r=n(9989),i=n(8844),o=n(7248),a=n(8999),s=n(6812),u=n(2560).f,l=n(2741),c=n(6062),d=n(7049),f=n(4630),v=n(1594),h=!1,p=f("meta"),y=0,g=function(e){u(e,p,{value:{objectID:"O"+y++,weakData:{}}})},E=e.exports={enable:function(){E.enable=function(){},h=!0;var e=l.f,t=i([].splice),n={};n[p]=1,e(n).length&&(l.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,p)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},getWeakData:function(e,t){if(!s(e,p)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},onFreeze:function(e){return v&&h&&d(e)&&!s(e,p)&&g(e),e}};o[p]=!0},618:function(e,t,n){var r,i,o,a=n(9834),s=n(9037),u=n(8999),l=n(5773),c=n(6812),d=n(4091),f=n(2713),v=n(7248),h="Object already initialized",p=s.TypeError,y=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new p(h);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var E=f("state");v[E]=!0,r=function(e,t){if(c(e,E))throw new p(h);return t.facade=e,l(e,E,t),t},i=function(e){return c(e,E)?e[E]:{}},o=function(e){return c(e,E)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},3292:function(e,t,n){var r=n(4201),i=n(9478),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},2297:function(e,t,n){var r=n(6648);e.exports=Array.isArray||function(e){return"Array"===r(e)}},9985:function(e,t,n){var r=n(2659),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},9429:function(e,t,n){var r=n(8844),i=n(3689),o=n(9985),a=n(926),s=n(6058),u=n(6738),l=function(){},c=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,v=r(f.exec),h=!f.test(l),p=function(e){if(!o(e))return!1;try{return d(l,c,e),!0}catch(e){return!1}},y=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!v(f,u(e))}catch(e){return!0}};y.sham=!0,e.exports=!d||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?y:p},5266:function(e,t,n){var r=n(3689),i=n(9985),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n===c||n!==l&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},981:function(e){e.exports=function(e){return null==e}},8999:function(e,t,n){var r=n(9985),i=n(2659),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},3931:function(e){e.exports=!1},1245:function(e,t,n){var r=n(8999),i=n(6648),o=n(4201)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},734:function(e,t,n){var r=n(6058),i=n(9985),o=n(3622),a=n(9525),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},8734:function(e,t,n){var r=n(4071),i=n(2615),o=n(5027),a=n(3691),s=n(3292),u=n(6310),l=n(3622),c=n(5185),d=n(1664),f=n(2125),v=TypeError,h=function(e,t){this.stopped=e,this.result=t},p=h.prototype;e.exports=function(e,t,n){var y,g,E,S,m,b,_,R=n&&n.that,N=!(!n||!n.AS_ENTRIES),T=!(!n||!n.IS_RECORD),A=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),w=r(t,R),I=function(e){return y&&f(y,"normal",e),new h(!0,e)},k=function(e){return N?(o(e),O?w(e[0],e[1],I):w(e[0],e[1])):O?w(e,I):w(e)};if(T)y=e.iterator;else if(A)y=e;else{if(!(g=d(e)))throw new v(a(e)+" is not iterable");if(s(g)){for(E=0,S=u(e);S>E;E++)if((m=k(e[E]))&&l(p,m))return m;return new h(!1)}y=c(e,g)}for(b=T?e.next:y.next;!(_=i(b,y)).done;){try{m=k(_.value)}catch(e){f(y,"throw",e)}if("object"==typeof m&&m&&l(p,m))return m}return new h(!1)}},2125:function(e,t,n){var r=n(2615),i=n(5027),o=n(4849);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},974:function(e,t,n){var r=n(2013).IteratorPrototype,i=n(5391),o=n(5684),a=n(5997),s=n(9478),u=function(){return this};e.exports=function(e,t,n,l){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),a(e,c,!1,!0),s[c]=u,e}},1934:function(e,t,n){var r=n(9989),i=n(2615),o=n(3931),a=n(1236),s=n(9985),u=n(974),l=n(1868),c=n(9385),d=n(5997),f=n(5773),v=n(1880),h=n(4201),p=n(9478),y=n(2013),g=a.PROPER,E=a.CONFIGURABLE,S=y.IteratorPrototype,m=y.BUGGY_SAFARI_ITERATORS,b=h("iterator"),_="keys",R="values",N="entries",T=function(){return this};e.exports=function(e,t,n,a,h,y,A){u(n,t,a);var O,w,I,k=function(e){if(e===h&&L)return L;if(!m&&e&&e in D)return D[e];switch(e){case _:case R:case N:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",P=!1,D=e.prototype,C=D[b]||D["@@iterator"]||h&&D[h],L=!m&&C||k(h),U="Array"===t&&D.entries||C;if(U&&(O=l(U.call(new e)))!==Object.prototype&&O.next&&(o||l(O)===S||(c?c(O,S):s(O[b])||v(O,b,T)),d(O,M,!0,!0),o&&(p[M]=T)),g&&h===R&&C&&C.name!==R&&(!o&&E?f(D,"name",R):(P=!0,L=function(){return i(C,this)})),h)if(w={values:k(R),keys:y?L:k(_),entries:k(N)},A)for(I in w)(m||P||!(I in D))&&v(D,I,w[I]);else r({target:t,proto:!0,forced:m||P},w);return o&&!A||D[b]===L||v(D,b,L,{name:h}),p[t]=L,w}},2013:function(e,t,n){var r,i,o,a=n(3689),s=n(9985),u=n(8999),l=n(5391),c=n(1868),d=n(1880),f=n(4201),v=n(3931),h=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0),!u(r)||a((function(){var e={};return r[h].call(e)!==e}))?r={}:v&&(r=l(r)),s(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},9478:function(e){e.exports={}},6310:function(e,t,n){var r=n(3126);e.exports=function(e){return r(e.length)}},8702:function(e,t,n){var r=n(8844),i=n(3689),o=n(9985),a=n(6812),s=n(7697),u=n(1236).CONFIGURABLE,l=n(6738),c=n(618),d=c.enforce,f=c.get,v=String,h=Object.defineProperty,p=r("".slice),y=r("".replace),g=r([].join),E=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),S=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===p(v(t),0,7)&&(t="["+y(v(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?h(e,"name",{value:t,configurable:!0}):e.name=t),E&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=g(S,"string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&f(this).source||l(this)}),"toString")},8828:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},231:function(e,t,n){var r,i,o,a,s,u=n(9037),l=n(4071),c=n(2474).f,d=n(9886).set,f=n(4410),v=n(4764),h=n(3221),p=n(7486),y=n(806),g=u.MutationObserver||u.WebKitMutationObserver,E=u.document,S=u.process,m=u.Promise,b=c(u,"queueMicrotask"),_=b&&b.value;if(!_){var R=new f,N=function(){var e,t;for(y&&(e=S.domain)&&e.exit();t=R.get();)try{t()}catch(e){throw R.head&&r(),e}e&&e.enter()};v||y||p||!g||!E?!h&&m&&m.resolve?((a=m.resolve(void 0)).constructor=m,s=l(a.then,a),r=function(){s(N)}):y?r=function(){S.nextTick(N)}:(d=l(d,u),r=function(){d(N)}):(i=!0,o=E.createTextNode(""),new g(N).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),_=function(e){R.head||r(),R.add(e)}}e.exports=_},8742:function(e,t,n){var r=n(509),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},2124:function(e,t,n){var r=n(1245),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},5394:function(e,t,n){var r=n(7697),i=n(8844),o=n(2615),a=n(3689),s=n(300),u=n(7518),l=n(9556),c=n(690),d=n(4413),f=Object.assign,v=Object.defineProperty,h=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||s(f({},t)).join("")!==i}))?function(e,t){for(var n=c(e),i=arguments.length,a=1,f=u.f,v=l.f;i>a;)for(var p,y=d(arguments[a++]),g=f?h(s(y),f(y)):s(y),E=g.length,S=0;E>S;)p=g[S++],r&&!o(v,y,p)||(n[p]=y[p]);return n}:f},5391:function(e,t,n){var r,i=n(5027),o=n(8920),a=n(2739),s=n(7248),u=n(2688),l=n(6420),c=n(2713),d="prototype",f="script",v=c("IE_PROTO"),h=function(){},p=function(e){return"<"+f+">"+e+"</"+f+">"},y=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&r?y(r):(t=l("iframe"),n="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):y(r);for(var i=a.length;i--;)delete g[d][a[i]];return g()};s[v]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h[d]=i(e),n=new h,h[d]=null,n[v]=e):n=g(),void 0===t?n:o.f(n,t)}},8920:function(e,t,n){var r=n(7697),i=n(5648),o=n(2560),a=n(5027),s=n(5290),u=n(300);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=u(t),l=i.length,c=0;l>c;)o.f(e,n=i[c++],r[n]);return e}},2560:function(e,t,n){var r=n(7697),i=n(8506),o=n(5648),a=n(5027),s=n(8360),u=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",v="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&v in n&&!n[v]){var r=c(e,t);r&&r[v]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},2474:function(e,t,n){var r=n(7697),i=n(2615),o=n(9556),a=n(5684),s=n(5290),u=n(8360),l=n(6812),c=n(8506),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),c)try{return d(e,t)}catch(e){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},6062:function(e,t,n){var r=n(6648),i=n(5290),o=n(2741).f,a=n(9015),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},2741:function(e,t,n){var r=n(4948),i=n(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},7518:function(e,t){t.f=Object.getOwnPropertySymbols},1868:function(e,t,n){var r=n(6812),i=n(9985),o=n(690),a=n(2713),s=n(1748),u=a("IE_PROTO"),l=Object,c=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?c:null}},7049:function(e,t,n){var r=n(3689),i=n(8999),o=n(6648),a=n(1655),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!==o(e))&&(!s||s(e)))}:s},3622:function(e,t,n){var r=n(8844);e.exports=r({}.isPrototypeOf)},4948:function(e,t,n){var r=n(8844),i=n(6812),o=n(5290),a=n(4328).indexOf,s=n(7248),u=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&u(c,n);for(;t.length>l;)i(r,n=t[l++])&&(~a(c,n)||u(c,n));return c}},300:function(e,t,n){var r=n(4948),i=n(2739);e.exports=Object.keys||function(e){return r(e,i)}},9556:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},9385:function(e,t,n){var r=n(2743),i=n(5027),o=n(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},5073:function(e,t,n){var r=n(3043),i=n(926);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},5899:function(e,t,n){var r=n(2615),i=n(9985),o=n(8999),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},9152:function(e,t,n){var r=n(6058),i=n(8844),o=n(2741),a=n(7518),s=n(5027),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},496:function(e,t,n){var r=n(9037);e.exports=r},9302:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:function(e,t,n){var r=n(9037),i=n(7919),o=n(9985),a=n(5266),s=n(6738),u=n(4201),l=n(2532),c=n(8563),d=n(3931),f=n(3615),v=i&&i.prototype,h=u("species"),p=!1,y=o(r.PromiseRejectionEvent),g=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===f)return!0;if(d&&(!v.catch||!v.finally))return!0;if(!f||f<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(p=n.then((function(){}))instanceof r))return!0}return!t&&(l||c)&&!y}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:y,SUBCLASSING:p}},7919:function(e,t,n){var r=n(9037);e.exports=r.Promise},2945:function(e,t,n){var r=n(5027),i=n(8999),o=n(8742);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},562:function(e,t,n){var r=n(7919),i=n(6431),o=n(7073).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},8055:function(e,t,n){var r=n(2560).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},4410:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},6100:function(e,t,n){var r=n(2615),i=n(5027),o=n(9985),a=n(6648),s=n(6308),u=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var l=r(n,e,t);return null!==l&&i(l),l}if("RegExp"===a(e))return r(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},6308:function(e,t,n){var r,i,o=n(2615),a=n(8844),s=n(4327),u=n(9633),l=n(7901),c=n(3430),d=n(5391),f=n(618).get,v=n(2100),h=n(6422),p=c("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,E=a("".charAt),S=a("".indexOf),m=a("".replace),b=a("".slice),_=(i=/b*/g,o(y,r=/a/,"a"),o(y,i,"a"),0!==r.lastIndex||0!==i.lastIndex),R=l.BROKEN_CARET,N=void 0!==/()??/.exec("")[1];(_||N||R||v||h)&&(g=function(e){var t,n,r,i,a,l,c,v=this,h=f(v),T=s(e),A=h.raw;if(A)return A.lastIndex=v.lastIndex,t=o(g,A,T),v.lastIndex=A.lastIndex,t;var O=h.groups,w=R&&v.sticky,I=o(u,v),k=v.source,M=0,P=T;if(w&&(I=m(I,"y",""),-1===S(I,"g")&&(I+="g"),P=b(T,v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==E(T,v.lastIndex-1))&&(k="(?: "+k+")",P=" "+P,M++),n=new RegExp("^(?:"+k+")",I)),N&&(n=new RegExp("^"+k+"$(?!\\s)",I)),_&&(r=v.lastIndex),i=o(y,w?n:v,P),w?i?(i.input=b(i.input,M),i[0]=b(i[0],M),i.index=v.lastIndex,v.lastIndex+=i[0].length):v.lastIndex=0:_&&i&&(v.lastIndex=v.global?i.index+i[0].length:r),N&&i&&i.length>1&&o(p,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&O)for(i.groups=l=d(null),a=0;a<O.length;a++)l[(c=O[a])[0]]=i[c[1]];return i}),e.exports=g},9633:function(e,t,n){var r=n(5027);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3477:function(e,t,n){var r=n(2615),i=n(6812),o=n(3622),a=n(9633),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},7901:function(e,t,n){var r=n(3689),i=n(9037).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},2100:function(e,t,n){var r=n(3689),i=n(9037).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:function(e,t,n){var r=n(3689),i=n(9037).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:function(e,t,n){var r=n(981),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},4241:function(e,t,n){var r=n(6058),i=n(2148),o=n(4201),a=n(7697),s=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},5997:function(e,t,n){var r=n(2560).f,i=n(6812),o=n(4201)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},2713:function(e,t,n){var r=n(3430),i=n(4630),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4091:function(e,t,n){var r=n(9037),i=n(5014),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},3430:function(e,t,n){var r=n(3931),i=n(4091);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6373:function(e,t,n){var r=n(5027),i=n(2655),o=n(981),a=n(4201)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},730:function(e,t,n){var r=n(8844),i=n(8700),o=n(4327),a=n(4684),s=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(e){return function(t,n){var r,c,d=o(a(t)),f=i(n),v=d.length;return f<0||f>=v?e?"":void 0:(r=u(d,f))<55296||r>56319||f+1===v||(c=u(d,f+1))<56320||c>57343?e?s(d,f):r:e?l(d,f,f+2):c-56320+(r-55296<<10)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},5984:function(e,t,n){var r=n(1236).PROPER,i=n(3689),o=n(6350);e.exports=function(e){return i((function(){return!!o[e]()||""!==""[e]()||r&&o[e].name!==e}))}},1435:function(e,t,n){var r=n(8844),i=n(4684),o=n(4327),a=n(6350),s=r("".replace),u=RegExp("^["+a+"]+"),l=RegExp("(^|[^"+a+"])["+a+"]+$"),c=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,l,"$1")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},146:function(e,t,n){var r=n(3615),i=n(3689),o=n(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},3032:function(e,t,n){var r=n(2615),i=n(6058),o=n(4201),a=n(1880);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},6549:function(e,t,n){var r=n(146);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},9886:function(e,t,n){var r,i,o,a,s=n(9037),u=n(1735),l=n(4071),c=n(9985),d=n(6812),f=n(3689),v=n(2688),h=n(6004),p=n(6420),y=n(1500),g=n(4764),E=n(806),S=s.setImmediate,m=s.clearImmediate,b=s.process,_=s.Dispatch,R=s.Function,N=s.MessageChannel,T=s.String,A=0,O={},w="onreadystatechange";f((function(){r=s.location}));var I=function(e){if(d(O,e)){var t=O[e];delete O[e],t()}},k=function(e){return function(){I(e)}},M=function(e){I(e.data)},P=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};S&&m||(S=function(e){y(arguments.length,1);var t=c(e)?e:R(e),n=h(arguments,1);return O[++A]=function(){u(t,void 0,n)},i(A),A},m=function(e){delete O[e]},E?i=function(e){b.nextTick(k(e))}:_&&_.now?i=function(e){_.now(k(e))}:N&&!g?(a=(o=new N).port2,o.port1.onmessage=M,i=l(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(P)?(i=P,s.addEventListener("message",M,!1)):i=w in p("script")?function(e){v.appendChild(p("script"))[w]=function(){v.removeChild(this),I(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:S,clear:m}},3648:function(e,t,n){var r=n(8844);e.exports=r(1..valueOf)},7578:function(e,t,n){var r=n(8700),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5290:function(e,t,n){var r=n(4413),i=n(4684);e.exports=function(e){return r(i(e))}},8700:function(e,t,n){var r=n(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},3126:function(e,t,n){var r=n(8700),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},690:function(e,t,n){var r=n(4684),i=Object;e.exports=function(e){return i(r(e))}},8732:function(e,t,n){var r=n(2615),i=n(8999),o=n(734),a=n(4849),s=n(5899),u=n(4201),l=TypeError,c=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,c);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},8360:function(e,t,n){var r=n(8732),i=n(734);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},3043:function(e,t,n){var r={};r[n(4201)("toStringTag")]="z",e.exports="[object z]"===String(r)},4327:function(e,t,n){var r=n(926),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},3691:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:function(e,t,n){var r=n(8844),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},9525:function(e,t,n){var r=n(146);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:function(e,t,n){var r=n(7697),i=n(3689);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},9834:function(e,t,n){var r=n(9037),i=n(9985),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5405:function(e,t,n){var r=n(496),i=n(6812),o=n(6145),a=n(2560).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},6145:function(e,t,n){var r=n(4201);t.f=r},4201:function(e,t,n){var r=n(9037),i=n(3430),o=n(6812),a=n(4630),s=n(146),u=n(9525),l=r.Symbol,c=i("wks"),d=u?l.for||l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)||(c[e]=s&&o(l,e)?l[e]:d("Symbol."+e)),c[e]}},6350:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},8077:function(e,t,n){var r=n(9989),i=n(2960).filter;r({target:"Array",proto:!0,forced:!n(9042)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7722:function(e,t,n){var r=n(9989),i=n(1055);r({target:"Array",stat:!0,forced:!n(6431)((function(e){Array.from(e)}))},{from:i})},6801:function(e,t,n){var r=n(9989),i=n(4328).includes,o=n(3689),a=n(7370);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},7195:function(e,t,n){var r=n(9989),i=n(6576),o=n(4328).indexOf,a=n(6834),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:u||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:o(this,e,t)}})},752:function(e,t,n){var r=n(5290),i=n(7370),o=n(9478),a=n(618),s=n(2560).f,u=n(1934),l=n(7807),c=n(3931),d=n(7697),f="Array Iterator",v=a.set,h=a.getterFor(f);e.exports=u(Array,"Array",(function(e,t){v(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},9730:function(e,t,n){var r=n(9989),i=n(2297),o=n(9429),a=n(8999),s=n(7578),u=n(6310),l=n(5290),c=n(6522),d=n(4201),f=n(9042),v=n(6004),h=f("slice"),p=d("species"),y=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,f=l(this),h=u(f),E=s(e,h),S=s(void 0===t?h:t,h);if(i(f)&&(n=f.constructor,(o(n)&&(n===y||i(n.prototype))||a(n)&&null===(n=n[p]))&&(n=void 0),n===y||void 0===n))return v(f,E,S);for(r=new(void 0===n?y:n)(g(S-E,0)),d=0;E<S;E++,d++)E in f&&c(r,d,f[E]);return r.length=d,r}})},5137:function(e,t,n){var r=n(9989),i=n(8844),o=n(509),a=n(690),s=n(6310),u=n(8494),l=n(4327),c=n(3689),d=n(382),f=n(6834),v=n(7365),h=n(7298),p=n(3615),y=n(7922),g=[],E=i(g.sort),S=i(g.push),m=c((function(){g.sort(void 0)})),b=c((function(){g.sort(null)})),_=f("sort"),R=!c((function(){if(p)return p<70;if(!(v&&v>3)){if(h)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:m||!b||!_||!R},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(R)return void 0===e?E(t):E(t,e);var n,r,i=[],c=s(t);for(r=0;r<c;r++)r in t&&S(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<c;)u(t,r++);return t}})},2506:function(e,t,n){var r=n(9989),i=n(690),o=n(7578),a=n(8700),s=n(6310),u=n(5649),l=n(5565),c=n(7120),d=n(6522),f=n(8494),v=n(9042)("splice"),h=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!v},{splice:function(e,t){var n,r,v,y,g,E,S=i(this),m=s(S),b=o(e,m),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=m-b):(n=_-2,r=p(h(a(t),0),m-b)),l(m+n-r),v=c(S,r),y=0;y<r;y++)(g=b+y)in S&&d(v,y,S[g]);if(v.length=r,n<r){for(y=b;y<m-r;y++)E=y+n,(g=y+r)in S?S[E]=S[g]:f(S,E);for(y=m;y>m-r+n;y--)f(S,y-1)}else if(n>r)for(y=m-r;y>b;y--)E=y+n-1,(g=y+r-1)in S?S[E]=S[g]:f(S,E);for(y=0;y<n;y++)S[y+b]=arguments[y+2];return u(S,m-r+n),v}})},9903:function(e,t,n){var r=n(6812),i=n(1880),o=n(1797),a=n(4201)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},8324:function(e,t,n){var r=n(9989),i=n(6058),o=n(1735),a=n(2615),s=n(8844),u=n(3689),l=n(9985),c=n(734),d=n(6004),f=n(2643),v=n(146),h=String,p=i("JSON","stringify"),y=s(/./.exec),g=s("".charAt),E=s("".charCodeAt),S=s("".replace),m=s(1..toString),b=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,R=/^[\uDC00-\uDFFF]$/,N=!v||u((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),T=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),A=function(e,t){var n=d(arguments),r=f(t);if(l(r)||void 0!==e&&!c(e))return n[1]=function(e,t){if(l(r)&&(t=a(r,this,h(e),t)),!c(t))return t},o(p,null,n)},O=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return y(_,e)&&!y(R,i)||y(R,e)&&!y(_,r)?"\\u"+m(E(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:N||T},{stringify:function(e,t,n){var r=d(arguments),i=o(N?A:p,null,r);return T&&"string"==typeof i?S(i,b,O):i}})},7629:function(e,t,n){var r=n(9037);n(5997)(r.JSON,"JSON",!0)},7509:function(e,t,n){n(5997)(Math,"Math",!0)},9288:function(e,t,n){var r=n(9989),i=n(3931),o=n(7697),a=n(9037),s=n(496),u=n(8844),l=n(5266),c=n(6812),d=n(3457),f=n(3622),v=n(734),h=n(8732),p=n(3689),y=n(2741).f,g=n(2474).f,E=n(2560).f,S=n(3648),m=n(1435).trim,b="Number",_=a[b],R=s[b],N=_.prototype,T=a.TypeError,A=u("".slice),O=u("".charCodeAt),w=function(e){var t,n,r,i,o,a,s,u,l=h(e,"number");if(v(l))throw new T("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=m(l),43===(t=O(l,0))||45===t){if(88===(n=O(l,2))||120===n)return NaN}else if(48===t){switch(O(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(a=(o=A(l,2)).length,s=0;s<a;s++)if((u=O(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+l},I=l(b,!_(" 0o1")||!_("0b1")||_("+0x1")),k=function(e){var t,n=arguments.length<1?0:_(function(e){var t=h(e,"number");return"bigint"==typeof t?t:w(t)}(e));return f(N,t=this)&&p((function(){S(t)}))?d(Object(n),this,k):n};k.prototype=N,I&&!i&&(N.constructor=k),r({global:!0,constructor:!0,wrap:!0,forced:I},{Number:k});var M=function(e,t){for(var n,r=o?y(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)c(t,n=r[i])&&!c(e,n)&&E(e,n,g(t,n))};i&&R&&M(s[b],R),(I||i)&&M(s[b],_)},429:function(e,t,n){var r=n(9989),i=n(5394);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},1919:function(e,t,n){var r=n(9989),i=n(3689),o=n(5290),a=n(2474).f,s=n(7697);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},9474:function(e,t,n){var r=n(9989),i=n(7697),o=n(9152),a=n(5290),s=n(2474),u=n(6522);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,l=o(r),c={},d=0;l.length>d;)void 0!==(n=i(r,t=l[d++]))&&u(c,t,n);return c}})},9434:function(e,t,n){var r=n(9989),i=n(146),o=n(3689),a=n(7518),s=n(690);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})},8052:function(e,t,n){var r=n(9989),i=n(3689),o=n(690),a=n(1868),s=n(1748);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},228:function(e,t,n){var r=n(3043),i=n(1880),o=n(5073);r||i(Object.prototype,"toString",o,{unsafe:!0})},1692:function(e,t,n){var r=n(9989),i=n(2615),o=n(509),a=n(8742),s=n(9302),u=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,c=s((function(){var n=o(t.resolve),a=[],s=0,c=1;u(e,(function(e){var o=s++,u=!1;c++,i(n,t,e).then((function(e){u||(u=!0,a[o]=e,--c||r(a))}),l)})),--c||r(a)}));return c.error&&l(c.value),n.promise}})},5089:function(e,t,n){var r=n(9989),i=n(3931),o=n(7073).CONSTRUCTOR,a=n(7919),s=n(6058),u=n(9985),l=n(1880),c=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(a)){var d=s("Promise").prototype.catch;c.catch!==d&&l(c,"catch",d,{unsafe:!0})}},6697:function(e,t,n){var r,i,o,a=n(9989),s=n(3931),u=n(806),l=n(9037),c=n(2615),d=n(1880),f=n(9385),v=n(5997),h=n(4241),p=n(509),y=n(9985),g=n(8999),E=n(767),S=n(6373),m=n(9886).set,b=n(231),_=n(920),R=n(9302),N=n(4410),T=n(618),A=n(7919),O=n(7073),w=n(8742),I="Promise",k=O.CONSTRUCTOR,M=O.REJECTION_EVENT,P=O.SUBCLASSING,D=T.getterFor(I),C=T.set,L=A&&A.prototype,U=A,x=L,j=l.TypeError,B=l.document,G=l.process,V=w.f,F=V,Z=!!(B&&B.createEvent&&l.dispatchEvent),H="unhandledrejection",Y=function(e){var t;return!(!g(e)||!y(t=e.then))&&t},q=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,u=e.resolve,l=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&$(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?l(new j("Promise-chain cycle")):(r=Y(n))?c(r,n,u,l):u(n)):l(o)}catch(e){d&&!i&&d.exit(),l(e)}},W=function(e,t){e.notified||(e.notified=!0,b((function(){for(var n,r=e.reactions;n=r.get();)q(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},Q=function(e,t,n){var r,i;Z?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!M&&(i=l["on"+e])?i(r):e===H&&_("Unhandled promise rejection",n)},K=function(e){c(m,l,(function(){var t,n=e.facade,r=e.value;if(z(e)&&(t=R((function(){u?G.emit("unhandledRejection",r,n):Q(H,n,r)})),e.rejection=u||z(e)?2:1,t.error))throw t.value}))},z=function(e){return 1!==e.rejection&&!e.parent},$=function(e){c(m,l,(function(){var t=e.facade;u?G.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,W(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new j("Promise can't be resolved itself");var r=Y(t);r?b((function(){var n={done:!1};try{c(r,t,J(ee,n,e),J(X,n,e))}catch(t){X(n,t,e)}})):(e.value=t,e.state=1,W(e,!1))}catch(t){X({done:!1},t,e)}}};if(k&&(x=(U=function(e){E(this,x),p(e),c(r,this);var t=D(this);try{e(J(ee,t),J(X,t))}catch(e){X(t,e)}}).prototype,(r=function(e){C(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:void 0})}).prototype=d(x,"then",(function(e,t){var n=D(this),r=V(S(this,U));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=u?G.domain:void 0,0===n.state?n.reactions.add(r):b((function(){q(r,n)})),r.promise})),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(X,t)},w.f=V=function(e){return e===U||undefined===e?new i(e):F(e)},!s&&y(A)&&L!==Object.prototype)){o=L.then,P||d(L,"then",(function(e,t){var n=this;return new U((function(e,t){c(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}f&&f(L,x)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:U}),v(U,I,!1,!0),h(I)},3964:function(e,t,n){n(6697),n(1692),n(5089),n(8829),n(2092),n(7905)},8829:function(e,t,n){var r=n(9989),i=n(2615),o=n(509),a=n(8742),s=n(9302),u=n(8734);r({target:"Promise",stat:!0,forced:n(562)},{race:function(e){var t=this,n=a.f(t),r=n.reject,l=s((function(){var a=o(t.resolve);u(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},2092:function(e,t,n){var r=n(9989),i=n(2615),o=n(8742);r({target:"Promise",stat:!0,forced:n(7073).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return i(t.reject,void 0,e),t.promise}})},7905:function(e,t,n){var r=n(9989),i=n(6058),o=n(3931),a=n(7919),s=n(7073).CONSTRUCTOR,u=n(2945),l=i("Promise"),c=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return u(c&&this===l?a:this,e)}})},50:function(e,t,n){var r=n(9989),i=n(6058),o=n(1735),a=n(6761),s=n(2655),u=n(5027),l=n(8999),c=n(5391),d=n(3689),f=i("Reflect","construct"),v=Object.prototype,h=[].push,p=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),y=!d((function(){f((function(){}))})),g=p||y;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(y&&!p)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(h,r,t),new(o(a,e,r))}var i=n.prototype,d=c(l(i)?i:v),g=o(e,d,t);return l(g)?g:d}})},6034:function(e,t,n){var r=n(9989),i=n(9037),o=n(5997);r({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},2003:function(e,t,n){var r=n(7697),i=n(9037),o=n(8844),a=n(5266),s=n(3457),u=n(5773),l=n(5391),c=n(2741).f,d=n(3622),f=n(1245),v=n(4327),h=n(3477),p=n(7901),y=n(8055),g=n(1880),E=n(3689),S=n(6812),m=n(618).enforce,b=n(4241),_=n(4201),R=n(2100),N=n(6422),T=_("match"),A=i.RegExp,O=A.prototype,w=i.SyntaxError,I=o(O.exec),k=o("".charAt),M=o("".replace),P=o("".indexOf),D=o("".slice),C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,U=/a/g,x=new A(L)!==L,j=p.MISSED_STICKY,B=p.UNSUPPORTED_Y,G=r&&(!x||j||R||N||E((function(){return U[T]=!1,A(L)!==L||A(U)===U||"/a/i"!==String(A(L,"i"))})));if(a("RegExp",G)){for(var V=function(e,t){var n,r,i,o,a,c,p=d(O,this),y=f(e),g=void 0===t,E=[],b=e;if(!p&&y&&g&&e.constructor===V)return e;if((y||d(O,e))&&(e=e.source,g&&(t=h(b))),e=void 0===e?"":v(e),t=void 0===t?"":v(t),b=e,R&&"dotAll"in L&&(r=!!t&&P(t,"s")>-1)&&(t=M(t,/s/g,"")),n=t,j&&"sticky"in L&&(i=!!t&&P(t,"y")>-1)&&B&&(t=M(t,/y/g,"")),N&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=l(null),s=!1,u=!1,c=0,d="";r<=n;r++){if("\\"===(t=k(e,r)))t+=k(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:I(C,D(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===d||S(a,d))throw new w("Invalid capture group name");a[d]=!0,o[o.length]=[d,c],u=!1,d="";continue}u?d+=t:i+=t}return[i,o]}(e),e=o[0],E=o[1]),a=s(A(e,t),p?this:O,V),(r||i||E.length)&&(c=m(a),r&&(c.dotAll=!0,c.raw=V(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=k(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+k(e,++r);return i}(e),n)),i&&(c.sticky=!0),E.length&&(c.groups=E)),e!==b)try{u(a,"source",""===b?"(?:)":b)}catch(e){}return a},F=c(A),Z=0;F.length>Z;)y(V,A,F[Z++]);O.constructor=V,V.prototype=O,g(i,"RegExp",V,{constructor:!0})}b("RegExp")},4043:function(e,t,n){var r=n(9989),i=n(6308);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3440:function(e,t,n){var r=n(7697),i=n(7901).MISSED_STICKY,o=n(6648),a=n(2148),s=n(618).get,u=RegExp.prototype,l=TypeError;r&&i&&a(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).sticky;throw new l("Incompatible receiver, RegExp required")}}})},7409:function(e,t,n){n(4043);var r,i,o=n(9989),a=n(2615),s=n(9985),u=n(5027),l=n(4327),c=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),d=/./.test;o({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=u(this),n=l(e),r=t.exec;if(!s(r))return a(d,t,n);var i=a(r,t,n);return null!==i&&(u(i),!0)}})},2826:function(e,t,n){var r=n(1236).PROPER,i=n(1880),o=n(5027),a=n(4327),s=n(3689),u=n(3477),l="toString",c=RegExp.prototype[l],d=s((function(){return"/a/b"!==c.call({source:"a",flags:"b"})})),f=r&&c.name!==l;(d||f)&&i(RegExp.prototype,l,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(u(e))}),{unsafe:!0})},2918:function(e,t,n){var r,i=n(9989),o=n(6576),a=n(2474).f,s=n(3126),u=n(4327),l=n(2124),c=n(4684),d=n(7413),f=n(3931),v=o("".endsWith),h=o("".slice),p=Math.min,y=d("endsWith");i({target:"String",proto:!0,forced:!!(f||y||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!y},{endsWith:function(e){var t=u(c(this));l(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:p(s(n),r),o=u(e);return v?v(t,o,i):h(t,i-o.length,i)===o}})},3843:function(e,t,n){var r=n(9989),i=n(8844),o=n(2124),a=n(4684),s=n(4327),u=n(7413),l=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~l(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},1694:function(e,t,n){var r=n(730).charAt,i=n(4327),o=n(618),a=n(1934),s=n(7807),u="String Iterator",l=o.set,c=o.getterFor(u);a(String,"String",(function(e){l(this,{type:u,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},2462:function(e,t,n){var r=n(2615),i=n(8678),o=n(5027),a=n(981),s=n(3126),u=n(4327),l=n(4684),c=n(4849),d=n(1514),f=n(6100);i("match",(function(e,t,n){return[function(t){var n=l(this),i=a(t)?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=o(this),i=u(e),a=n(t,r,i);if(a.done)return a.value;if(!r.global)return f(r,i);var l=r.unicode;r.lastIndex=0;for(var c,v=[],h=0;null!==(c=f(r,i));){var p=u(c[0]);v[h]=p,""===p&&(r.lastIndex=d(i,s(r.lastIndex),l)),h++}return 0===h?null:v}]}))},7267:function(e,t,n){var r=n(1735),i=n(2615),o=n(8844),a=n(8678),s=n(3689),u=n(5027),l=n(9985),c=n(981),d=n(8700),f=n(3126),v=n(4327),h=n(4684),p=n(1514),y=n(4849),g=n(7017),E=n(6100),S=n(4201)("replace"),m=Math.max,b=Math.min,_=o([].concat),R=o([].push),N=o("".indexOf),T=o("".slice),A="$0"==="a".replace(/./,"$0"),O=!!/./[S]&&""===/./[S]("a","$0");a("replace",(function(e,t,n){var o=O?"$":"$0";return[function(e,n){var r=h(this),o=c(e)?void 0:y(e,S);return o?i(o,e,r,n):i(t,v(r),e,n)},function(e,i){var a=u(this),s=v(e);if("string"==typeof i&&-1===N(i,o)&&-1===N(i,"$<")){var c=n(t,a,s,i);if(c.done)return c.value}var h=l(i);h||(i=v(i));var y,S=a.global;S&&(y=a.unicode,a.lastIndex=0);for(var A,O=[];null!==(A=E(a,s))&&(R(O,A),S);){""===v(A[0])&&(a.lastIndex=p(s,f(a.lastIndex),y))}for(var w,I="",k=0,M=0;M<O.length;M++){for(var P,D=v((A=O[M])[0]),C=m(b(d(A.index),s.length),0),L=[],U=1;U<A.length;U++)R(L,void 0===(w=A[U])?w:String(w));var x=A.groups;if(h){var j=_([D],L,C,s);void 0!==x&&R(j,x),P=v(r(i,void 0,j))}else P=g(D,s,C,L,x,i);C>=k&&(I+=T(s,k,C)+P,k=C+D.length)}return I+T(s,k)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!A||O)},9873:function(e,t,n){var r=n(1735),i=n(2615),o=n(8844),a=n(8678),s=n(5027),u=n(981),l=n(1245),c=n(4684),d=n(6373),f=n(1514),v=n(3126),h=n(4327),p=n(4849),y=n(9015),g=n(6100),E=n(6308),S=n(7901),m=n(3689),b=S.UNSUPPORTED_Y,_=4294967295,R=Math.min,N=[].push,T=o(/./.exec),A=o(N),O=o("".slice),w=!m((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var o;return o="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=h(c(this)),a=void 0===n?_:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!l(e))return i(t,o,e,a);for(var s,u,d,f=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,v+"g");(s=i(E,g,o))&&!((u=g.lastIndex)>p&&(A(f,O(o,p,s.index)),s.length>1&&s.index<o.length&&r(N,f,y(s,1)),d=s[0].length,p=u,f.length>=a));)g.lastIndex===s.index&&g.lastIndex++;return p===o.length?!d&&T(g,"")||A(f,""):A(f,O(o,p)),f.length>a?y(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),a=u(t)?void 0:p(t,e);return a?i(a,t,r,n):i(o,h(r),t,n)},function(e,r){var i=s(this),a=h(e),u=n(o,i,a,r,o!==t);if(u.done)return u.value;var l=d(i,RegExp),c=i.unicode,p=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b?"g":"y"),y=new l(b?"^(?:"+i.source+")":i,p),E=void 0===r?_:r>>>0;if(0===E)return[];if(0===a.length)return null===g(y,a)?[a]:[];for(var S=0,m=0,N=[];m<a.length;){y.lastIndex=b?0:m;var T,w=g(y,b?O(a,m):a);if(null===w||(T=R(v(y.lastIndex+(b?m:0)),a.length))===S)m=f(a,m,c);else{if(A(N,O(a,S,m)),N.length===E)return N;for(var I=1;I<=w.length-1;I++)if(A(N,w[I]),N.length===E)return N;m=S=T}}return A(N,O(a,S)),N}]}),!w,b)},268:function(e,t,n){var r,i=n(9989),o=n(6576),a=n(2474).f,s=n(3126),u=n(4327),l=n(2124),c=n(4684),d=n(7413),f=n(3931),v=o("".startsWith),h=o("".slice),p=Math.min,y=d("startsWith");i({target:"String",proto:!0,forced:!!(f||y||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!y},{startsWith:function(e){var t=u(c(this));l(e);var n=s(p(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return v?v(t,r,n):h(t,n,n+r.length)===r}})},8436:function(e,t,n){var r=n(9989),i=n(1435).trim;r({target:"String",proto:!0,forced:n(5984)("trim")},{trim:function(){return i(this)}})},8373:function(e,t,n){n(5405)("asyncIterator")},7855:function(e,t,n){var r=n(9989),i=n(9037),o=n(2615),a=n(8844),s=n(3931),u=n(7697),l=n(146),c=n(3689),d=n(6812),f=n(3622),v=n(5027),h=n(5290),p=n(8360),y=n(4327),g=n(5684),E=n(5391),S=n(300),m=n(2741),b=n(6062),_=n(7518),R=n(2474),N=n(2560),T=n(8920),A=n(9556),O=n(1880),w=n(2148),I=n(3430),k=n(2713),M=n(7248),P=n(4630),D=n(4201),C=n(6145),L=n(5405),U=n(3032),x=n(5997),j=n(618),B=n(2960).forEach,G=k("hidden"),V="Symbol",F="prototype",Z=j.set,H=j.getterFor(V),Y=Object[F],q=i.Symbol,W=q&&q[F],Q=i.RangeError,K=i.TypeError,z=i.QObject,$=R.f,J=N.f,X=b.f,ee=A.f,te=a([].push),ne=I("symbols"),re=I("op-symbols"),ie=I("wks"),oe=!z||!z[F]||!z[F].findChild,ae=function(e,t,n){var r=$(Y,t);r&&delete Y[t],J(e,t,n),r&&e!==Y&&J(Y,t,r)},se=u&&c((function(){return 7!==E(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ae:J,ue=function(e,t){var n=ne[e]=E(W);return Z(n,{type:V,tag:e,description:t}),u||(n.description=t),n},le=function(e,t,n){e===Y&&le(re,t,n),v(e);var r=p(t);return v(n),d(ne,r)?(n.enumerable?(d(e,G)&&e[G][r]&&(e[G][r]=!1),n=E(n,{enumerable:g(0,!1)})):(d(e,G)||J(e,G,g(1,{})),e[G][r]=!0),se(e,r,n)):J(e,r,n)},ce=function(e,t){v(e);var n=h(t),r=S(n).concat(he(n));return B(r,(function(t){u&&!o(de,n,t)||le(e,t,n[t])})),e},de=function(e){var t=p(e),n=o(ee,this,t);return!(this===Y&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,G)&&this[G][t])||n)},fe=function(e,t){var n=h(e),r=p(t);if(n!==Y||!d(ne,r)||d(re,r)){var i=$(n,r);return!i||!d(ne,r)||d(n,G)&&n[G][r]||(i.enumerable=!0),i}},ve=function(e){var t=X(h(e)),n=[];return B(t,(function(e){d(ne,e)||d(M,e)||te(n,e)})),n},he=function(e){var t=e===Y,n=X(t?re:h(e)),r=[];return B(n,(function(e){!d(ne,e)||t&&!d(Y,e)||te(r,ne[e])})),r};l||(q=function(){if(f(W,this))throw new K("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=P(e),n=function(e){var r=void 0===this?i:this;r===Y&&o(n,re,e),d(r,G)&&d(r[G],t)&&(r[G][t]=!1);var a=g(1,e);try{se(r,t,a)}catch(e){if(!(e instanceof Q))throw e;ae(r,t,a)}};return u&&oe&&se(Y,t,{configurable:!0,set:n}),ue(t,e)},O(W=q[F],"toString",(function(){return H(this).tag})),O(q,"withoutSetter",(function(e){return ue(P(e),e)})),A.f=de,N.f=le,T.f=ce,R.f=fe,m.f=b.f=ve,_.f=he,C.f=function(e){return ue(D(e),e)},u&&(w(W,"description",{configurable:!0,get:function(){return H(this).description}}),s||O(Y,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:q}),B(S(ie),(function(e){L(e)})),r({target:V,stat:!0,forced:!l},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!u},{create:function(e,t){return void 0===t?E(e):ce(E(e),t)},defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ve}),U(),x(q,V),M[G]=!0},6544:function(e,t,n){var r=n(9989),i=n(7697),o=n(9037),a=n(8844),s=n(6812),u=n(9985),l=n(3622),c=n(4327),d=n(2148),f=n(8758),v=o.Symbol,h=v&&v.prototype;if(i&&u(v)&&(!("description"in h)||void 0!==v().description)){var p={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),t=l(h,this)?new v(e):void 0===e?v():v(e);return""===e&&(p[t]=!0),t};f(y,v),y.prototype=h,h.constructor=y;var g="Symbol(description detection)"===String(v("description detection")),E=a(h.valueOf),S=a(h.toString),m=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),_=a("".slice);d(h,"description",{configurable:!0,get:function(){var e=E(this);if(s(p,e))return"";var t=S(e),n=g?_(t,7,-1):b(t,m,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},3975:function(e,t,n){var r=n(9989),i=n(6058),o=n(6812),a=n(4327),s=n(3430),u=n(6549),l=s("string-to-symbol-registry"),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=a(e);if(o(l,t))return l[t];var n=i("Symbol")(t);return l[t]=n,c[n]=t,n}})},4254:function(e,t,n){n(5405)("iterator")},9749:function(e,t,n){n(7855),n(3975),n(1445),n(8324),n(9434)},1445:function(e,t,n){var r=n(9989),i=n(6812),o=n(734),a=n(3691),s=n(3430),u=n(6549),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!o(e))throw new TypeError(a(e)+" is not a symbol");if(i(l,e))return l[e]}})},9373:function(e,t,n){var r=n(5405),i=n(3032);r("toPrimitive"),i()},6793:function(e,t,n){var r=n(6058),i=n(5405),o=n(5997);i("toStringTag"),o(r("Symbol"),"Symbol")},5164:function(e,t,n){var r,i=n(1594),o=n(9037),a=n(8844),s=n(6045),u=n(5375),l=n(319),c=n(637),d=n(8999),f=n(618).enforce,v=n(3689),h=n(9834),p=Object,y=Array.isArray,g=p.isExtensible,E=p.isFrozen,S=p.isSealed,m=p.freeze,b=p.seal,_={},R={},N=!o.ActiveXObject&&"ActiveXObject"in o,T=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},A=l("WeakMap",T,c),O=A.prototype,w=a(O.set);if(h)if(N){r=c.getConstructor(T,"WeakMap",!0),u.enable();var I=a(O.delete),k=a(O.has),M=a(O.get);s(O,{delete:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),I(this,e)||t.frozen.delete(e)}return I(this,e)},has:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),k(this,e)||t.frozen.has(e)}return k(this,e)},get:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),k(this,e)?M(this,e):t.frozen.get(e)}return M(this,e)},set:function(e,t){if(d(e)&&!g(e)){var n=f(this);n.frozen||(n.frozen=new r),k(this,e)?w(this,e,t):n.frozen.set(e,t)}else w(this,e,t);return this}})}else i&&v((function(){var e=m([]);return w(new A,e,1),!E(e)}))&&s(O,{set:function(e,t){var n;return y(e)&&(E(e)?n=_:S(e)&&(n=R)),w(this,e,t),n===_&&m(e),n===R&&b(e),this}})},1090:function(e,t,n){n(5164)},7522:function(e,t,n){var r=n(9037),i=n(6338),o=n(3265),a=n(7612),s=n(5773),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var l in i)i[l]&&u(r[l]&&r[l].prototype);u(o)},6265:function(e,t,n){var r=n(9037),i=n(6338),o=n(3265),a=n(752),s=n(5773),u=n(5997),l=n(4201)("iterator"),c=a.values,d=function(e,t){if(e){if(e[l]!==c)try{s(e,l,c)}catch(t){e[l]=c}if(u(e,t,!0),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,n,r){if(!t){var i=1/0;for(u=0;u<deferred.length;u++){t=deferred[u][0],n=deferred[u][1],r=deferred[u][2];for(var o=!0,a=0;a<t.length;a++)(!1&r||i>=r)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[a])}))?t.splice(a--,1):(o=!1,r<i&&(i=r));if(o){deferred.splice(u--,1);var s=n();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=deferred.length;u>0&&deferred[u-1][2]>r;u--)deferred[u]=deferred[u-1];deferred[u]=[t,n,r]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={348:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)var l=s(__webpack_require__)}for(t&&t(n);u<o.length;u++)i=o[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(l)},n=("undefined"!=typeof self?self:global).webpackChunkSmartLibModule=("undefined"!=typeof self?self:global).webpackChunkSmartLibModule||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};return function(){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdInteractionType:function(){return t.Z},AdManager:function(){return e.Vv},LoggerManager:function(){return e.oR},RequestManager:function(){return e.i_},SmartLib:function(){return e.$2},StreamingSession:function(){return e.u3},StreamingSessionOptions:function(){return e.MK},StreamingSessionResult:function(){return e.Gm}});var e=__webpack_require__(9393),t=__webpack_require__(4221);__webpack_require__(5911).Z.getInstance().init()}(),__webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__}()}));