!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("baseSmartLibModule",[],t):"object"==typeof exports?exports.baseSmartLibModule=t():e.baseSmartLibModule=t()}("undefined"!=typeof self?self:global,(function(){return function(){"use strict";var __webpack_modules__={34:function(e,t,n){var r=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},81:function(e,t,n){var r=n(9565),i=n(9306),o=n(8551),a=n(6823),s=n(851),u=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(i(n))return o(r(n,e));throw new u(a(e)+" is not iterable")}},134:function(e,t,n){n.d(t,{A:function(){return O}});n(2675),n(9463),n(2259),n(5700),n(4423),n(5276),n(3792),n(4554),n(9572),n(3110),n(2892),n(6099),n(7495),n(8781),n(1699),n(7764),n(1761),n(5440),n(1392),n(8992),n(3949),n(3500),n(2953);var r=n(8140),i=n(3914),o=n(2913),a=n(3299),s=n(7058),u=(n(8921),n(4782),n(6910),n(3419)),c=n(6578),l=n(5186),d=n(213),f=n(5166);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"requestedURL",void 0),p(this,"redirectedURL",void 0),p(this,"sessionRunning",void 0),p(this,"sessionCreated",void 0),p(this,"sessionId",void 0),p(this,"teardownActivated",void 0),p(this,"smartLibParameters",void 0),p(this,"customParameters",void 0),p(this,"playerName",void 0),p(this,"playerVersion",void 0),p(this,"osName",void 0),p(this,"osVersion",void 0),p(this,"deviceType",void 0),p(this,"smartLibVersion",void 0),p(this,"networkTypeList",void 0),p(this,"nanoCDNStatus",void 0),p(this,"statusCode",void 0),p(this,"cdnStatusCode",void 0),p(this,"nanoCDNStatusCode",void 0),p(this,"nanoCDNErrorCode",void 0),p(this,"bpkhttpserverTiming",void 0),p(this,"playerErrorCode",void 0),p(this,"metrics",void 0),p(this,"adMetrics",void 0),p(this,"timeline",void 0),p(this,"diversity",void 0),p(this,"startSessionDate",void 0),p(this,"endSessionDate",void 0),p(this,"keepaliveRequestDate",void 0),p(this,"teardownRequestDate",void 0),p(this,"endSessionRequestDate",void 0),p(this,"precached",void 0),p(this,"precacheEnded",void 0),p(this,"precacheDuration",void 0),this.requestedURL="",this.redirectedURL="",this.sessionRunning=!1,this.sessionCreated=!1,this.sessionId="",this.teardownActivated=!1,this.smartLibParameters={},this.customParameters={},this.playerName="",this.playerVersion="",this.osName="",this.osVersion="",this.deviceType="",this.smartLibVersion=u.A,this.networkTypeList=[],this.nanoCDNStatus=O.NANOCDN_STATUS_UNAVAILABLE,this.statusCode=r.A.BPSessionEndsNormally,this.cdnStatusCode=-1,this.nanoCDNStatusCode=-1,this.nanoCDNErrorCode=f.S.RESULT_NO_ERROR,this.bpkhttpserverTiming=-1,this.playerErrorCode="",this.gdpr=d.H.GDPR_CLEAR,void 0!==r.A.analyticsModule&&(this.timeline=new r.A.analyticsModule.SessionTrackerTimeline),this.startSessionDate=0,this.endSessionDate=0,this.keepaliveRequestDate=0,this.teardownRequestDate=0,this.endSessionRequestDate=0,this.precached=!1,this.precacheEnded=!1,this.precacheDuration=0}return t=e,(n=[{key:"toQuery",value:function(){var e,t=""===this.playerName?"Generic":this.playerName,n=this.customParameters.pre_startup_time;if(this.gdpr===d.H.GDPR_DELETE)return"+++++++++++++++++++++++++++++++++++++++1";if(e=void 0===this.metrics?"-1+"+encodeURIComponent(t)+"+"+encodeURIComponent(this.playerVersion)+"+"+encodeURIComponent(this.osName)+"+"+encodeURIComponent(this.osVersion)+"+"+(""!==this.smartLibParameters.deviceType?encodeURIComponent(this.smartLibParameters.deviceType):encodeURIComponent(this.deviceType))+"+-1+-1+-1++-1+-1+-1+-1+-1+-1+-1+-1+-1+-1+-1++":this.metrics.redirectionTime+"+"+encodeURIComponent(t)+"+"+encodeURIComponent(this.playerVersion)+"+"+encodeURIComponent(this.osName)+"+"+encodeURIComponent(this.osVersion)+"+"+(""!==this.smartLibParameters.deviceType?encodeURIComponent(this.smartLibParameters.deviceType):encodeURIComponent(this.deviceType))+"+"+this.metrics.startupTime+"+"+this.metrics.completion+"+"+Math.round(this.metrics.playbackDuration/1e3)+"+"+this.metrics.playbackType+"+"+this.metrics.stallsNumber+"+"+this.metrics.maxStallDuration+"+"+this.metrics.totalStallsDuration+"+"+this.metrics.rebufferingsNumber+"+"+this.metrics.maxRebufferingDuration+"+"+this.metrics.totalRebufferingDuration+"+"+Math.round(this.metrics.maxBitrate)+"+"+Math.round(this.metrics.minBitrate)+"+"+Math.round(this.metrics.averageBitrate)+"+"+this.metrics.layerSwitchesNumber+"+"+Math.round(this.metrics.sessionDuration/1e3)+"+"+this.getTimeSpentPerLayerQuery()+"+",e+=encodeURIComponent(this.smartLibParameters.uuid)+"+"+this.nanoCDNStatus+"+"+(void 0!==n?encodeURIComponent(n):"")+"+"+encodeURIComponent(this.smartLibVersion)+"+",void 0!==r.A.adModule&&void 0!==this.adMetrics&&this.adMetrics.length>0){var i=r.A.adModule.AdMetrics.merge(this.adMetrics);e+=(i.adSkippable?1:0)+"+"+(i.adSkipped?1:0)+"+"+(i.adProgress>=0?i.adProgress/25:i.adProgress)+"+"+Math.round(i.adDuration/1e3)+"+"+i.stallsNumber+"+"+Math.round(i.stallsDuration/1e3)+"+"+i.layerSwitchesNumber+"+"+i.averageBitrate}else e+="+++++++";return e+="+"+this.getNetworkTypeListStr()+"+"+encodeURIComponent(this.playerErrorCode),e+="+"+(this.cdnStatusCode>=0?this.cdnStatusCode:"")+"+"+(this.nanoCDNStatusCode>=0?this.nanoCDNStatusCode:"")+"+"+this.bpkhttpserverTiming+"+"+this.gdpr}},{key:"toEndSessionJSON",value:function(){var t={};if(t[e.IS_START]=!1,t[e.GDPR]=this.gdpr,this.gdpr===d.H.GDPR_DELETE)return t;if(t[e.SESSION_ID]=this.sessionId,t[e.STATUS_CODE]=this.statusCode,t[e.CONTENT_URL]=l.A.toBkAString(this.requestedURL),this.redirectedURL.includes(c.A.AD_NONCE_QUERY_PARAMETER)?t[e.REDIRECT_URL]=l.A.toBkAString(a.A.addOrReplaceParam(this.redirectedURL,c.A.AD_NONCE_QUERY_PARAMETER,"ignored")):t[e.REDIRECT_URL]=l.A.toBkAString(this.redirectedURL),void 0!==this.metrics?(t[e.REDIRECTION_TIME]=this.metrics.redirectionTime,t[e.STARTUP_TIME]=this.metrics.startupTime,t[e.COMPLETION]=this.metrics.completion,t[e.PLAYED_TIME]=Math.round(this.metrics.playbackDuration/1e3),t[e.DURATION]=Math.round(this.metrics.sessionDuration/1e3),t[e.PLAYBACK_TYPE]=this.metrics.playbackType,t[e.NUMBER_OF_STALLS]=this.metrics.stallsNumber,t[e.MAX_STALL_TIME]=this.metrics.maxStallDuration,t[e.TOTAL_STALL_TIME]=this.metrics.totalStallsDuration,t[e.NUMBER_OF_REBUFFERING]=this.metrics.rebufferingsNumber,t[e.MAX_REBUFFERING_TIME]=this.metrics.maxRebufferingDuration,t[e.TOTAL_REBUFFERING_TIME]=this.metrics.totalRebufferingDuration,t[e.MIN_BITRATE]=Math.round(this.metrics.minBitrate),t[e.MAX_BITRATE]=Math.round(this.metrics.maxBitrate),t[e.AVERAGE_BITRATE]=Math.round(this.metrics.averageBitrate),t[e.NUMBER_OF_LAYER_SWITCH]=this.metrics.layerSwitchesNumber,t[e.TIME_SPENT_PER_LAYER]=this.metrics.timeSpentPerLayer):(t[e.REDIRECTION_TIME]=-1,t[e.STARTUP_TIME]=-1,t[e.COMPLETION]=-1,t[e.PLAYED_TIME]=-1,t[e.DURATION]=-1,t[e.PLAYBACK_TYPE]="",t[e.NUMBER_OF_STALLS]=-1,t[e.MAX_STALL_TIME]=-1,t[e.TOTAL_STALL_TIME]=-1,t[e.NUMBER_OF_REBUFFERING]=-1,t[e.MAX_REBUFFERING_TIME]=-1,t[e.TOTAL_REBUFFERING_TIME]=-1,t[e.MIN_BITRATE]=-1,t[e.MAX_BITRATE]=-1,t[e.AVERAGE_BITRATE]=-1,t[e.NUMBER_OF_LAYER_SWITCH]=-1,t[e.TIME_SPENT_PER_LAYER]={}),t[e.PLAYER_NAME]=l.A.toBkAString(this.playerName),t[e.PLAYER_VERSION]=l.A.toBkAString(this.playerVersion),t[e.DEVICE_OS]=l.A.toBkAString(this.osName),t[e.DEVICE_VERSION]=l.A.toBkAString(this.osVersion),""!==this.smartLibParameters.deviceType?t[e.DEVICE_TYPE]=l.A.toBkAString(this.smartLibParameters.deviceType):t[e.DEVICE_TYPE]=l.A.toBkAString(this.deviceType),t[e.UUID]=l.A.toBkAString(this.smartLibParameters.uuid),t[e.NANOCDN_STATUS]=this.nanoCDNStatus,t[e.CUSTOM_PARAMETERS]=this.customParameters,void 0!==this.timeline?t[e.TIMELINE]=this.timeline.data().base64():t[e.TIMELINE]="",t[e.SMARTLIB_VERSION]=l.A.toBkAString(this.smartLibVersion),t[e.DIVERSITY]=this.diversity,t[e.PLAYER_ERROR_CODE]=l.A.toBkAString(this.playerErrorCode),t[e.AD_METRICS]=[],void 0!==this.adMetrics&&this.adMetrics.length>0)for(var n=0;n<this.adMetrics.length;n++){var r=this.adMetrics[n],i=this.cleanJson({ad_skippable:r.adSkippable?1:0,ad_skipped:r.adSkipped?1:0,ad_progress:r.adProgress>=0?r.adProgress/25:r.adProgress,ad_duration:Math.round(r.adDuration/1e3),stalls_number:r.stallsNumber,stalls_duration:Math.round(r.stallsDuration/1e3),layer_switches_number:r.layerSwitchesNumber,average_bitrate:r.averageBitrate,creative_id:r.creativeId,ad_id:r.adId.slice(0,r.adId.lastIndexOf("-")),ad_index:r.adIndex,ad_count:r.adCount,ad_format:r.adFormat,impression_date:r.impressionDate});t[e.AD_METRICS].push(i)}return t[e.NETWORK_TYPE]=this.getNetworkTypeListStr(),t[e.CDN_STATUS_CODE]=this.cdnStatusCode>=0?this.cdnStatusCode:"",t[e.NANOCDN_STATUS_CODE]=this.nanoCDNStatusCode>=0?this.nanoCDNStatusCode:"",t[e.BPKHTTPSERVER_TIMING]=this.bpkhttpserverTiming,t[e.PRECACHED]=this.precached,t[e.PRECACHE_ENDED]=this.precacheEnded,t[e.PRECACHE_DURATION]=this.precacheDuration,t}},{key:"cleanJson",value:function(e){var t=["ad_progress","ad_index","ad_count"];for(var n in e){var r=e[n];-1===t.indexOf(n)&&(r<=0||""===r)&&delete e[n]}return e}},{key:"getTimeSpentPerLayerQuery",value:function(){var e="";for(var t in this.metrics.timeSpentPerLayer)""!==e&&(e+=","),e+=t+":"+this.metrics.timeSpentPerLayer[t];return e}},{key:"addNetworkType",value:function(e){this.networkTypeList.includes(e)||this.networkTypeList.push(e)}},{key:"getNetworkTypeListStr",value:function(){return this.networkTypeList.length>0?this.networkTypeList.sort().join("-"):""}},{key:"toString",value:function(){return JSON.stringify(this,(function(e,t){return"timeline"===e&&void 0!==r.A.analyticsModule&&t instanceof r.A.analyticsModule.SessionTrackerTimeline?t.toString():void 0===t?"undefined":t}),"  ")}}])&&v(t.prototype,n),i&&v(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}();p(g,"SESSION_ID","session_id"),p(g,"IS_START","start"),p(g,"STATUS_CODE","status_code"),p(g,"STARTUP_TIME","startup_time"),p(g,"REDIRECTION_TIME","redirection_time"),p(g,"COMPLETION","completion"),p(g,"PLAYED_TIME","played_time"),p(g,"DURATION","duration"),p(g,"PLAYBACK_TYPE","playback_type"),p(g,"NUMBER_OF_STALLS","cnt_stall"),p(g,"TOTAL_STALL_TIME","total_stall_time"),p(g,"MAX_STALL_TIME","max_stall_time"),p(g,"NUMBER_OF_REBUFFERING","cnt_rebuffering"),p(g,"TOTAL_REBUFFERING_TIME","total_rebuffering_time"),p(g,"MAX_REBUFFERING_TIME","max_rebuffering_time"),p(g,"REDIRECT_URL","redirect_url"),p(g,"CONTENT_URL","content_url"),p(g,"MAX_BITRATE","max_bitrate"),p(g,"MIN_BITRATE","min_bitrate"),p(g,"AVERAGE_BITRATE","average_bitrate"),p(g,"NUMBER_OF_LAYER_SWITCH","cnt_layer_switch"),p(g,"TIME_SPENT_PER_LAYER","time_spent_per_layer"),p(g,"PLAYER_NAME","player_name"),p(g,"PLAYER_VERSION","player_version"),p(g,"DEVICE_OS","device_os"),p(g,"DEVICE_VERSION","device_version"),p(g,"DEVICE_TYPE","device_type"),p(g,"DIVERSITY","diversity"),p(g,"UUID","uuid"),p(g,"NANOCDN_STATUS","nano_status"),p(g,"CUSTOM_PARAMETERS","custom_parameters"),p(g,"TIMELINE","timeline"),p(g,"SMARTLIB_VERSION","smartlib_version"),p(g,"AD_METRICS","ad_metrics"),p(g,"NETWORK_TYPE","network_type_list"),p(g,"PLAYER_ERROR_CODE","player_error_code"),p(g,"CDN_STATUS_CODE","cdn_status_code"),p(g,"NANOCDN_STATUS_CODE","nanocdn_status_code"),p(g,"BPKHTTPSERVER_TIMING","bpkhttpserver_timing"),p(g,"GDPR","gdpr"),p(g,"PRECACHED","precached"),p(g,"PRECACHE_ENDED","precache_ended"),p(g,"PRECACHE_DURATION","precache_duration");var E=n(7565),S=n(8636),m=n(977);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function A(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var R="BpkSessionHandler",O=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"smartLib",void 0),A(this,"streamingSession",void 0),A(this,"analyticsAddress",void 0),A(this,"options",void 0),A(this,"diversitySession",void 0),A(this,"adSession",void 0),A(this,"omSessionHandler",void 0),A(this,"id",void 0),A(this,"listeners",void 0),A(this,"playerAdapterInitialized",void 0),A(this,"playerAdapter",void 0),A(this,"simidControllerAdapter",void 0),A(this,"metricsManager",void 0),A(this,"keepAliveManager",void 0),A(this,"adMetricsManager",void 0),A(this,"adTrackingManager",void 0),A(this,"sessionResult",void 0),A(this,"sessionReport",void 0),A(this,"firstImageCalled",void 0),A(this,"stopped",void 0),A(this,"jobs",void 0),A(this,"deviceInitDate",void 0),A(this,"manifestInitDate",void 0),A(this,"videoMulticastStatus",void 0),A(this,"audioMulticastStatus",void 0),A(this,"dataMulticastStatus",void 0),this.smartLib=t,this.streamingSession=n,this.diversitySession=void 0,this.adSession=void 0,this.listeners=[],this.playerAdapterInitialized=!1,this.sessionResult=void 0,this.sessionReport=new g,this.firstImageCalled=!1,this.stopped=!1,this.jobs=[],this.sessionReport.smartLibParameters=t.getParameters(),this.sessionReport.customParameters=this.getCustomParameters(),this.videoMulticastStatus=d.H.MULTICAST_INACTIVE,this.audioMulticastStatus=d.H.MULTICAST_INACTIVE,this.dataMulticastStatus=d.H.MULTICAST_INACTIVE,this.analyticsAddress=this.sessionReport.smartLibParameters.analyticsAddress,this.multicastStatusListener=void 0}return t=e,n=[{key:"initPlayerAdapter",value:function(){!1===this.playerAdapterInitialized&&(this.playerAdapterInitialized=!0,void 0!==this.playerAdapter?(i.g.i(R,"Player:name="+this.playerAdapter.getName()+", version="+this.playerAdapter.getVersion(),this.id),i.g.i(R,"Player:capabilities="+JSON.stringify(this.playerAdapter.getCapabilities()),this.id),this.playerAdapter.attachSession(this),this.playerAdapter.initSessionPlayerObjects()):i.g.i(R,"Player:no player attached",this.id))}},{key:"initManagers",value:function(){var e,t,n;void 0!==r.A.analyticsModule&&(this.metricsManager=new r.A.analyticsModule.MetricsManager(this,this.playerAdapter),this.addListener(this.sessionReport.timeline),S.CE.getInstance().addListener(this.sessionReport.timeline)),void 0!==r.A.adModule&&(this.adMetricsManager=new r.A.adModule.AdMetricsManager(this),this.adTrackingManager=new r.A.adModule.AdTrackingManager(this,this.playerAdapter),this.addListener(this.adMetricsManager),this.adTrackingManager.addListener(this.adMetricsManager),void 0!==this.simidControllerAdapter&&this.addListener(this.simidControllerAdapter)),void 0!==this.playerAdapter&&(this.addListener(this.metricsManager),this.addListener(this.playerAdapter)),void 0!==this.adSession&&this.adSession.isAdActivated()&&null!==(e=r.A.adModule)&&void 0!==e&&e.OMSDKManager.getInstance().isEnabled()&&(this.omSessionHandler=new r.A.adModule.OMSessionHandler(this,this.playerAdapter),this.addListener(this.omSessionHandler),null===(n=this.adTrackingManager)||void 0===n||n.addListener(this.omSessionHandler)),this.addListener(this),S.CE.getInstance().addListener(this),null===(t=this.smartLib.monitoringManager)||void 0===t||t.startSession(this)}},{key:"start",value:function(t){var n,r,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};i.g.i(R,"Starting session...",this.id),this.sessionReport.startSessionDate=Date.now(),this.sessionReport.requestedURL=t,this.sessionReport.precached=this.isPrecached(),this.initPlayerAdapter(),this.initManagers(),this.notifyStart();var u=this.smartLib.getParameters(),c={analyticsAddress:this.analyticsAddress,nanoCDNDescr:null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getCurrentNanoCDNDescr(),nanoCDNDescrConfigured:null===(r=this.smartLib.nanoCDNHostManager)||void 0===r?void 0:r.getCurrentNanoCDNDescr(),broadpeakDomainNames:u.broadpeakDomainNames,forceTeardown:u.forceTeardown,userAgent:u.userAgent};return o.A.isBroadpeakDomainName(t,c.broadpeakDomainNames)&&this.options.get(d.H.REQUEST_BROADPEAK_CDN),void 0!==c.nanoCDNDescr&&(this.sessionReport.nanoCDNStatus=e.NANOCDN_STATUS_DETECTED_NOT_USED),this.sessionReport.gdpr=this.options.get(d.H.GDPR_PREFERENCE),o.A.getInstance().getURL(t,c,this).then((function(e){return a.sessionResult=e,e.isError()&&(a.sessionReport.statusCode=e.getErrorCode()),a.sessionReport.redirectedURL=a.patchBkmResult(e.getURL()),a.handleRedirectedURL(c),e.url=a.sessionReport.redirectedURL,a.stopped?(i.g.d(R,"The session has been stopped while creating it.",a.id),a.stop(),e=S.Sy.error(S.Sy.RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST),i.g.i(R,"Session error code: "+e.getErrorMessage()+" (code "+e.getErrorCode()+", detail "+e.getDetailedErrorMessage()+")",a.id),i.g.i(R,"Session redirected URL: ",a.id),s(""),e):(i.g.i(R,"Session status: "+e.getErrorMessage()+" (code "+e.getErrorCode()+", detail "+e.getDetailedErrorMessage()+")",a.id),a.sessionReport.redirectedURL.length>0&&i.g.i(R,"Session redirected URL: "+a.sessionReport.redirectedURL,a.id),s(a.sessionReport.redirectedURL),e)}))}},{key:"handleRedirectedURL",value:function(t){var n,o;this.isNanoCDNUsed()&&(this.sessionReport.nanoCDNStatus=e.NANOCDN_STATUS_USED,this.notifyUnicastUsed());var a,s=this.sessionResult.nanoCDNDescr||(null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getCurrentNanoCDNDescr()),u=null==s?void 0:s.bka100;if(void 0!==u&&(i.g.i(R,"nanoCDN is overwriting the analytics address to "+u,this.id),this.analyticsAddress=u),0!==this.sessionReport.redirectedURL.length){var c,l;if(!0===(null===(c=this.diversitySession)||void 0===c?void 0:c.activated)&&null!==(l=this.diversitySession)&&void 0!==l&&l.manifest){var d=this.playerAdapter.initDiversitySession(this.diversitySession.options);this.addListener(d),this.playerAdapter.setDiversityManifest(this.diversitySession.manifest)}this.sessionReport.sessionRunning=!0}this.sessionReport.sessionCreated=!0,this.sessionReport.sessionRunning&&(this.sessionReport.teardownActivated=this.isTeardownActivated(t)),this.sessionReport.redirectedURL=this.removeBroadpeakParameters(this.sessionReport.redirectedURL),this.sessionReport.sessionId=this.getTicket(),this.sessionReport.teardownActivated||null===(a=this.sessionReport.timeline)||void 0===a||a.encoder.extend(),this.notifyRedirectionEnd(),this.isPrecached()&&this.startKeepalive(),void 0===this.playerAdapter&&this.sessionReport.sessionRunning&&this.notifyFirstImage(0,0),null===(o=r.A.analyticsModule)||void 0===o||o.CacheManager.getInstance().clean()}},{key:"stop",value:function(e){var t,n;if(this.updatePrecacheDuration(),S.CE.getInstance().removeListener(this.sessionReport.timeline),S.CE.getInstance().removeListener(this),void 0===e||isNaN(e)||(this.sessionReport.statusCode=e),this.sessionReport.endSessionDate=Date.now(),this.notifyStop(this.sessionReport.statusCode),void 0!==this.keepAliveManager&&this.keepAliveManager.stop(),null===(t=this.smartLib.monitoringManager)||void 0===t||t.stopSession(this),this.sessionReport.sessionCreated){var a;i.g.d(R,"Session ends with status code: "+this.sessionReport.statusCode,this.id);var s=this.smartLib.getParameters();this.sessionReport.sessionRunning=!1,this.sessionReport.sessionCreated=!1,this.sessionReport.smartLibParameters=JSON.parse(JSON.stringify(this.sessionReport.smartLibParameters)),this.sessionReport.customParameters=JSON.parse(JSON.stringify(this.getCustomParameters())),this.notifyEndSessionReportUpdateRequested(this.sessionReport),i.g.d(R,"SessionReport: "+this.sessionReport.toString(),this.id),this.resetCustomParameters();var u,c={analyticsAddress:this.analyticsAddress,userAgent:s.userAgent},l=this.options.get(d.H.SESSION_TEARDOWN),f=this.options.get(d.H.SESSION_REPORTING_MODE),h=void 0===this.keepAliveManager||"POST"===(null===(a=this.keepAliveManager)||void 0===a?void 0:a.method)?"POST":"GET";if(i.g.d(R,"Keepalive manager method set to "+h,this.id),l===d.H.SESSION_ENABLED)this.sessionReport.teardownRequestDate=Date.now(),o.A.getInstance().teardown(this,c,h),f===d.H.SESSION_REPORTING_MODE_METRICS_RECEIVER&&(this.sessionReport.endSessionRequestDate=Date.now(),null===(u=r.A.analyticsModule)||void 0===u||u.AnalyticsRequestManager.getInstance().endSession(this,c));else if(l===d.H.SESSION_ENABLED_IF_BROADPEAK_DOMAIN){var v,p;this.sessionReport.teardownActivated?(this.sessionReport.teardownRequestDate=Date.now(),o.A.getInstance().teardown(this,c,h),f===d.H.SESSION_REPORTING_MODE_METRICS_RECEIVER&&(this.sessionReport.endSessionRequestDate=Date.now(),null===(v=r.A.analyticsModule)||void 0===v||v.AnalyticsRequestManager.getInstance().endSession(this,c))):f!==d.H.SESSION_REPORTING_MODE_DEFAULT&&f!==d.H.SESSION_REPORTING_MODE_METRICS_RECEIVER||(this.sessionReport.endSessionRequestDate=Date.now(),null===(p=r.A.analyticsModule)||void 0===p||p.AnalyticsRequestManager.getInstance().endSession(this,c))}else if(l===d.H.SESSION_DISABLED){var y;f!==d.H.SESSION_REPORTING_MODE_DEFAULT&&f!==d.H.SESSION_REPORTING_MODE_METRICS_RECEIVER||(this.sessionReport.endSessionRequestDate=Date.now(),null===(y=r.A.analyticsModule)||void 0===y||y.AnalyticsRequestManager.getInstance().endSession(this,c))}}void 0!==this.playerAdapter&&(!0===(null===(n=this.diversitySession)||void 0===n?void 0:n.activated)&&this.playerAdapter.releaseDiversitySession(),this.playerAdapter.releaseSessionPlayerObjects(),this.playerAdapter.detachSession());for(var g=0,E=0;E<this.jobs.length;E++)!0===this.jobs[E].active&&g++,m.A.getInstance().interrupt(this.jobs[E]);i.g.d(R,g+" active job(s)",this.id),this.jobs=[],this.listeners=[],this.stopped=!0}},{key:"onFirstImage",value:function(e,t){void 0===this.keepAliveManager&&this.startKeepalive()}},{key:"startKeepalive",value:function(){var e;this.notifyStartSessionReportUpdateRequested(this.sessionReport);var t,n=this.options.get(d.H.SESSION_KEEPALIVE),o=void 0!==r.A.analyticsModule&&this.options.get(d.H.SESSION_REPORTING_MODE)===d.H.SESSION_REPORTING_MODE_METRICS_RECEIVER,a=0===this.smartLib.getParameters().analyticsAddress.length;n===d.H.SESSION_ENABLED?(i.g.i(R,"Keepalive is enabled (SESSION_KEEPALIVE=SESSION_ENABLED)",this.id),this.keepAliveManager=o&&!a?new r.A.analyticsModule.BroadpeakCDNCacheKeepaliveManager(this):new E.q(this)):n===d.H.SESSION_ENABLED_IF_BROADPEAK_DOMAIN?this.sessionReport.teardownActivated?this.keepAliveManager=o&&!a?new r.A.analyticsModule.BroadpeakCDNCacheKeepaliveManager(this):new E.q(this):void 0===r.A.analyticsModule||a||(this.keepAliveManager=new r.A.analyticsModule.CacheKeepaliveManager(this)):n===d.H.SESSION_DISABLED&&(this.sessionReport.teardownActivated&&i.g.i(R,"Keepalive is disabled (SESSION_KEEPALIVE=SESSION_DISABLED)",this.id),void 0===r.A.analyticsModule||a||(this.keepAliveManager=new r.A.analyticsModule.CacheKeepaliveManager(this))),null===(e=this.keepAliveManager)||void 0===e||e.start(),void 0!==r.A.monitoringModule&&!0===this.isNanoCDNUsed()&&(null===(t=this.keepAliveManager)||void 0===t||t.process(!1))}},{key:"getMulticastStatus",value:function(e,t){if(void 0!==e&&"number"==typeof e.status){var n=e.status,r=e.daiperiod||0;if(1===n)return i.g.d(R,"Multicast status: active",this.id),d.H.MULTICAST_ACTIVE;if(0!==r||1!==n)return t!==d.H.MULTICAST_INACTIVE?(i.g.d(R,"Multicast status: inactive was active"+(r>=1?" (playing DAI period)":""),this.id),d.H.MULTICAST_INACTIVE_WAS_ACTIVE):(i.g.d(R,"Multicast status: inactive",this.id),d.H.MULTICAST_INACTIVE)}return i.g.d(R,"Multicast status: unknown (segment:"+JSON.stringify(e)+")",this.id),d.H.MULTICAST_UNKNOWN}},{key:"onKeepaliveRequestEnded",value:function(e,t){if(this.isNanoCDNUsed()){if("object"!==b(t))return i.g.d(R,"Data is not an object: (data:"+JSON.stringify(t)+")",this.id),this.videoMulticastStatus=d.H.MULTICAST_UNKNOWN,this.audioMulticastStatus=d.H.MULTICAST_UNKNOWN,void(this.dataMulticastStatus=d.H.MULTICAST_UNKNOWN);i.g.d(R,"nanoCDN data: "+JSON.stringify(t)+")",this.id);var n,r,o,a=this.videoMulticastStatus,s=this.audioMulticastStatus,u=this.dataMulticastStatus;i.g.d(R,"Getting multicast status for video",this.id),this.videoMulticastStatus=this.getMulticastStatus(t.last_video_segment,a),i.g.d(R,"Getting multicast status for audio",this.id),this.audioMulticastStatus=this.getMulticastStatus(t.last_audio_segment,s),i.g.d(R,"Getting multicast status for data",this.id),this.dataMulticastStatus=this.getMulticastStatus(t.last_data_segment,u),a!==this.videoMulticastStatus&&(null===(n=this.streamingSession.multicastStatusListener)||void 0===n||n.onVideoMulticastStatusChange(this.videoMulticastStatus),this.videoMulticastStatus===d.H.MULTICAST_ACTIVE?this.notifyMulticastUsed():this.notifyUnicastUsed()),s!==this.audioMulticastStatus&&(null===(r=this.streamingSession.multicastStatusListener)||void 0===r||r.onAudioMulticastStatusChange(this.audioMulticastStatus)),u!==this.dataMulticastStatus&&(null===(o=this.streamingSession.multicastStatusListener)||void 0===o||o.onDataMulticastStatusChange(this.dataMulticastStatus))}}},{key:"isNanoCDNUsed",value:function(){var e=this,t=!1;if(void 0===r.A.nanoCDNModule)return!1;if("string"==typeof this.sessionReport.redirectedURL&&0!==this.sessionReport.redirectedURL.length){var n,i=null===(n=this.smartLib.nanoCDNHostManager)||void 0===n?void 0:n.getNanoCDNDescrList();null==i||i.forEach((function(n){e.sessionReport.redirectedURL.indexOf(n.hostIP)>0&&(t=!0)}))}return t}},{key:"patchBkmResult",value:function(e){var t=a.A.parseURL(e);if(null!==t){var n=e,r=t.query.split("&");return r.length>=2&&-1===r[0].indexOf("bk-teardown=")&&(n=n.replace("?bk-teardown=","&bk-teardown=")),-1!==n.indexOf("//bpk-token")&&(n=n.replace("//bpk-token","/bpk-token")),n}return e}},{key:"getTicket",value:function(){var e,t="";if(void 0!==this.adTrackingManager&&!0===this.adTrackingManager.bkYouSession&&void 0!==this.adTrackingManager.sessionToken&&this.adTrackingManager.sessionToken.length>0&&(t=this.adTrackingManager.sessionToken),""===t&&(t=a.A.getParam(this.sessionReport.redirectedURL,o.A.QUERY_PARAMETER_SESSION_ID)),""===t&&(t=a.A.getParam(this.sessionReport.redirectedURL,"bpkio_sessionid")),""===t&&(e=this.sessionReport.redirectedURL.split("/")).length>=4&&(e[3].match("\\[(.*)\\]")?t=e[3].substring(1,e[3].length-1):e[3].match("\\%5B(.*)\\%5D")&&(t=e[3].substring(3,e[3].length-3))),""===t){var n=this.sessionReport.redirectedURL.split("//");(e=n[n.length-1].split("/")).length>=3&&(e[0].match(a.A.REGEX_IP)||e[0].match(a.A.REGEX_HOSTNAME))&&"bpk-token"===e[1]&&(e[2].match(a.A.REGEX_TICKET)||e[2].match(a.A.REGEX_TICKET_TRANSCODED))&&(t=e[2],i.g.v(R,"Ticket detected: "+t,this.id))}if(""===t){var r=this.sessionReport.redirectedURL.split("//");(e=r[r.length-1].split("/")).length>=2&&(e[0].match(a.A.REGEX_IP)||e[0].match(a.A.REGEX_HOSTNAME))&&(e[1].match(a.A.REGEX_TICKET)||e[1].match(a.A.REGEX_TICKET_TRANSCODED))&&(t=e[1],i.g.v(R,"Ticket detected: "+t,this.id))}return""===t&&(t=this.generateTicket()),""===t&&(i.g.w(R,"Failed getting ticket",this.id),i.g.w(R,"SmartLib won't be able to post metrics",this.id)),t}},{key:"generateTicket",value:function(){var e=Date.now(),t=s.A.randomIntFromInterval(1e6,9999999),n=s.A.randomIntFromInterval(1e6,9999999),r=s.A.stringToBase64(t+""+e+n);return null===r?(i.g.w(R,"Cannot encode base 64 ticket",this.id),""):(i.g.v(R,"Ticket generated: "+r,this.id),r)}},{key:"getTeardown",value:function(){var e=a.A.getParam(this.sessionReport.redirectedURL,"bk-teardown");return e.startsWith("T")||e.startsWith("t")||e.startsWith("1")}},{key:"isTeardownActivated",value:function(t){return t.forceTeardown===r.A.FORCE_TEARDOWN_ENABLED?(i.g.i(R,"Session will start with keepalives/teardown (forceTeardown)",this.id),!0):t.forceTeardown===r.A.FORCE_TEARDOWN_DISABLED?(i.g.i(R,"Session will start without keepalives/teardown (forceTeardown)",this.id),!1):null!==this.sessionReport.redirectedURL&&"0"===a.A.getParam(this.sessionReport.redirectedURL,"bk-teardown")?(i.g.i(R,"Session will start without keepalives/teardown (bk-teardown=0)",this.id),!1):null!==this.sessionReport.redirectedURL&&this.getTeardown()?(i.g.i(R,"Session will start with keepalives/teardown (bk-teardown=1)",this.id),!0):this.sessionReport.nanoCDNStatus===e.NANOCDN_STATUS_USED?(i.g.i(R,"Session will start with keepalives/teardown (nanoCDN used)",this.id),!0):!1===this.options.get(d.H.REQUEST_BROADPEAK_CDN)?(i.g.i(R,"Session will start without keepalives/teardown (REQUEST_BROADPEAK_CDN=false)",this.id),!1):null!==this.sessionReport.requestedURL&&o.A.isBroadpeakDomainName(this.sessionReport.requestedURL,t.broadpeakDomainNames)?(i.g.i(R,"Session will start with keepalives/teardown (in broadpeak domains list)",this.id),!0):(i.g.i(R,"Session will start without keepalives/teardown",this.id),!1)}},{key:"removeBroadpeakParameters",value:function(e){var t=a.A.parseURL(e);if(null!==t){for(var n="",r=t.query.split("&"),o=1,s=0;s<r.length;s++){var u=r[s];u.startsWith("bk-")?i.g.d(R,"Remove query parameter '"+u+"' from url",this.id):(o||(n+="&"),n+=u,o=0)}return""===n?e.replace("?"+t.query,""):e.replace(t.query,n)}return e}},{key:"isSessionCreated",value:function(e){if(null===e)return!1;var t=a.A.getParam(e,o.A.QUERY_PARAMETER_SESSION_ID);return 0!==t.length||(t=a.A.getParam(e,o.A.QUERY_PARAMETER_SESSION_CREATED)).startsWith("T")||t.startsWith("t")||t.startsWith("1")}},{key:"isPrecached",value:function(){return!0===this.options.get(d.H.SESSION_PRECACHE)}},{key:"updatePrecacheDuration",value:function(){this.isPrecached()&&0===this.sessionReport.precacheDuration&&(this.sessionReport.precacheDuration=Date.now()-this.sessionReport.startSessionDate)}},{key:"getCustomParameters",value:function(){return void 0!==this.streamingSession?this.streamingSession.customParameters:this.smartLib.getParameters().customParameters}},{key:"resetCustomParameters",value:function(){void 0!==this.streamingSession||this.smartLib.resetCustomParameters()}},{key:"addListener",value:function(e){void 0===e||this.listeners.includes(e)||this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyEvent",value:function(e,t,n,r){"function"==typeof e[t]&&e[t](n,r)}},{key:"notifyLoading",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onLoading")}))}},{key:"notifyStart",value:function(){var e,t,n=this;e=S.CE.getInstance().networkType,this.sessionReport.addNetworkType(e),t=S.CE.getInstance().mute,this.listeners.forEach((function(r){n.notifyEvent(r,"onStart",e,t)}))}},{key:"notifyRedirectionEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onRedirectionEnd")}))}},{key:"notifyPrecacheEnded",value:function(){var e=this;this.isPrecached()&&!0!==this.sessionReport.precacheEnded&&(i.g.d(R,"Precache ended",this.id),this.sessionReport.precacheEnded=!0,this.updatePrecacheDuration(),this.listeners.forEach((function(t){e.notifyEvent(t,"onPrecacheEnded")})))}},{key:"notifyFirstImage",value:function(e,t){var n=this;this.firstImageCalled?i.g.e(R,"Implementation error: PlayerEventListener.onSessionStart() already called. If you don't attach any player, please remove this call, SmartLib is now handling it automatically.",this.id):(this.firstImageCalled=!0,void 0!==this.adSession&&this.adSession.isAdActivated()?void 0!==this.playerAdapter?!0===this.playerAdapter.getCapabilities().adTracking?this.addListener(this.adTrackingManager):i.g.d(R,"Ad tracking disabled (player not compatible)",this.id):i.g.d(R,"Ad tracking disabled (no player attached)",this.id):i.g.d(R,"Ad tracking disabled (advertising not activated)",this.id),this.listeners.forEach((function(r){n.notifyEvent(r,"onFirstImage",e,t)})))}},{key:"notifyLayerSwitch",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onLayerSwitch",e)}))}},{key:"notifyPause",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onPause")}))}},{key:"notifyResume",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onResume")}))}},{key:"notifyBufferingStart",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onBufferingStart")}))}},{key:"notifyBufferingEnd",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onBufferingEnd",e)}))}},{key:"notifyStallEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onStallEnd")}))}},{key:"notifyRebufferingEnd",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onRebufferingEnd")}))}},{key:"notifySeek",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onSeek",e,t)}))}},{key:"notifyStop",value:function(e){var t,n=this;null===(t=this.adSession)||void 0===t||null===(t=t.adPalSession)||void 0===t||t.setAdView(void 0),this.listeners.forEach((function(t){n.notifyEvent(t,"onStop",e)}))}},{key:"notifyClose",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.listeners.forEach((function(n){e.notifyEvent(n,"onClose",t)}))}},{key:"notifyStartSessionReportUpdateRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onStartSessionReportUpdateRequested",e)}))}},{key:"notifyKeepaliveSessionReportRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onKeepaliveSessionReportUpdateRequested",e)}))}},{key:"notifyKeepaliveRequestEnded",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onKeepaliveRequestEnded",e,t)}))}},{key:"notifyEndSessionReportUpdateRequested",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onEndSessionReportUpdateRequested",e)}))}},{key:"notifyVolumeChanged",value:function(e){var t=this;this.listeners.forEach((function(n){t.notifyEvent(n,"onVolumeChanged",e)}))}},{key:"notifyPlayerError",value:function(e,t){var n=this;this.listeners.forEach((function(r){n.notifyEvent(r,"onPlayerError",e,t)}))}},{key:"notifyMulticastUsed",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onMulticastUsed")}))}},{key:"notifyUnicastUsed",value:function(){var e=this;this.listeners.forEach((function(t){e.notifyEvent(t,"onUnicastUsed")}))}},{key:"notifySimidClickthrough",value:function(e){var t=this;i.g.d(R,"NOTIFY SIMID CLICKTHROUGH IN SESSION HANDLER"),this.listeners.forEach((function(n){t.notifyEvent(n,"onSimidClickthrough",e)}))}},{key:"notifySimidImpression",value:function(){var e=this;i.g.d(R,"NOTIFY SIMID IMPRESSION IN SESSION HANDLER"),this.listeners.forEach((function(t){e.notifyEvent(t,"onSimidImpression")}))}},{key:"onNetworkAvailable",value:function(e){i.g.v(R,"Received event onNetworkAvailable type:"+e,this.id),this.sessionReport.addNetworkType(e)}}],n&&_(t.prototype,n),u&&_(t,u),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,u}();A(O,"NANOCDN_STATUS_UNAVAILABLE",1),A(O,"NANOCDN_STATUS_DETECTED_NOT_USED",2),A(O,"NANOCDN_STATUS_USED",3)},213:function(e,t,n){n.d(t,{H:function(){return d}});n(2675),n(9463),n(2259),n(5700),n(2008),n(5276),n(3792),n(9572),n(2892),n(3851),n(1278),n(6099),n(7764),n(8992),n(4520),n(3949),n(3500),n(2953);var r=n(3914),i=n(2913);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var l="BpkStreamingSessionOptions",d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"options",void 0),u(this,"updates",void 0),this.options={},this.options[e.MULTICAST_ONLY]=!1,this.options[e.ULTRA_LOW_LATENCY_SUPPORT]=!1,this.options[e.PIP_SESSION]=!1,this.options[e.GDPR_PREFERENCE]=e.GDPR_CLEAR,this.options[e.REQUEST_REDIRECT_THIRD_PARTY_CDN]=!1,this.options[e.REQUEST_DIVERSITY]=!1,this.options[e.REQUEST_NANO_CDN]=!0,this.options[e.REQUEST_BROADPEAK_CDN]=!0,this.options[e.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI]=!0,this.options[e.REQUEST_NANO_CDN_DURING_GET_QUERY]=!0,this.options[e.REQUEST_BKYOU_IF_BROADPEAK_CDN]=!1,this.options[e.REQUEST_NANO_CDN_PRIORITY]=e.PRIORITY_NANO_CDN_CONF,this.options[e.SESSION_KEEPALIVE]=e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN,this.options[e.SESSION_TEARDOWN]=e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN,this.options[e.SESSION_REPORTING_MODE]=e.SESSION_REPORTING_MODE_DEFAULT,this.options[e.SESSION_KEEPALIVE_FREQUENCY]=i.A.KEEPALIVE_REQUEST_INTERVAL,this.options[e.SESSION_PRECACHE]=!1,this.options[e.USERAGENT_AD_EVENT]=void 0,this.options[e.TIMEOUT_NANO_CDN_REQUEST_ROUTER]=2e3,this.options[e.TIMEOUT_NANO_CDN_STATIC_RESOLVING]=3e3,this.options[e.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING]=3e3,this.options[e.EXPERIMENTAL_METRICS_LATENCY]=!1,this.options[e.LEGACY_MULTICAST_ONLY]=!1,this.updates=[]}return t=e,n=[{key:"option",value:function(t,n){return this.validate(t,n)&&(this.options[t]=n,t===e.PIP_SESSION&&!0===n&&this.option(e.REQUEST_NANO_CDN,!1),-1===this.updates.indexOf(t)&&this.updates.push(t)),this}},{key:"get",value:function(t){var n=[e.USERAGENT_AD_EVENT];return void 0===this.options[t]&&-1===n.indexOf(t)&&r.g.w(l,"Warning: get option "+t+" not found"),this.options[t]}},{key:"set",value:function(e,t){this.option(e,t)}},{key:"validate",value:function(t,n){if(t===e.SESSION_REPORTING_MODE)return n===e.SESSION_REPORTING_MODE_DEFAULT||n===e.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN||n===e.SESSION_REPORTING_MODE_METRICS_RECEIVER||n===e.SESSION_REPORTING_MODE_DISABLED||(r.g.e(l,"Error: SESSION_REPORTING_MODE should be SESSION_REPORTING_MODE_DEFAULT, SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN, SESSION_REPORTING_MODE_METRICS_RECEIVER or SESSION_REPORTING_MODE_DISABLED"),!1);if(t===e.SESSION_KEEPALIVE||t===e.SESSION_TEARDOWN)return n===e.SESSION_DISABLED||n===e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN||n===e.SESSION_ENABLED||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be SESSION_ENABLED_IF_BROADPEAK_DOMAIN, SESSION_DISABLED or SESSION_ENABLED"),!1);if(t===e.SESSION_KEEPALIVE_FREQUENCY)return"number"==typeof n&&n>=5e3&&n<=6e4||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be a number within 5000ms and 60000ms"),!1);if(t===e.USERAGENT_AD_EVENT)return"string"==typeof n||void 0===n||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be a string or undefined"),!1);if(t===e.GDPR_PREFERENCE)return"number"==typeof n&&n>=1&&n<=4||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be a number within 1 and 4"),!1);if(t>=e.TIMEOUT_NANO_CDN_REQUEST_ROUTER&&t<=e.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING)return"number"==typeof n||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be a number"),!1);if(t===e.REQUEST_NANO_CDN_PRIORITY)return n>=e.PRIORITY_NANO_CDN_CONF&&n<=e.PRIORITY_LOAD_BALANCING||(r.g.e(l,"Error: "+e.optionToString(t)+" value should be PRIORITY_NANO_CDN_CONF, PRIORITY_APP_CONF or PRIORITY_LOAD_BALANCING"),!1);if(void 0===t)return r.g.e(l,"Error: option should not be undefined"),!1;var i="boolean"==typeof n;return i||r.g.e(l,"Error: "+e.optionToString(t)+" value should be a boolean"),i}},{key:"print",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;r.g.i(t,n+"Options",i),r.g.i(t,n+"   MULTICAST_ONLY="+this.get(e.MULTICAST_ONLY),i),r.g.i(t,n+"   LEGACY_MULTICAST_ONLY="+this.get(e.LEGACY_MULTICAST_ONLY),i),r.g.i(t,n+"   REQUEST_REDIRECT_THIRD_PARTY_CDN="+this.get(e.REQUEST_REDIRECT_THIRD_PARTY_CDN),i),r.g.i(t,n+"   REQUEST_DIVERSITY="+this.get(e.REQUEST_DIVERSITY),i),r.g.i(t,n+"   REQUEST_NANO_CDN="+this.get(e.REQUEST_NANO_CDN),i),r.g.i(t,n+"   REQUEST_NANO_CDN_DURING_GET_QUERY="+this.get(e.REQUEST_NANO_CDN_DURING_GET_QUERY),i),r.g.i(t,n+"   REQUEST_BROADPEAK_CDN="+this.get(e.REQUEST_BROADPEAK_CDN),i),r.g.i(t,n+"   REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI="+this.get(e.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI),i),r.g.i(t,n+"   REQUEST_BKYOU_IF_BROADPEAK_CDN="+this.get(e.REQUEST_BKYOU_IF_BROADPEAK_CDN),i),r.g.i(t,n+"   REQUEST_NANO_CDN_PRIORITY="+e.nanoCDNPriorityToString(this.get(e.REQUEST_NANO_CDN_PRIORITY)),i),r.g.i(t,n+"   SESSION_KEEPALIVE="+e.stateToString(this.get(e.SESSION_KEEPALIVE)),i),r.g.i(t,n+"   SESSION_KEEPALIVE_FREQUENCY="+this.get(e.SESSION_KEEPALIVE_FREQUENCY)+"ms",i),r.g.i(t,n+"   SESSION_TEARDOWN="+e.stateToString(this.get(e.SESSION_TEARDOWN)),i),r.g.i(t,n+"   SESSION_REPORTING_MODE="+e.reportingModeToString(this.get(e.SESSION_REPORTING_MODE)),i),r.g.i(t,n+"   SESSION_PRECACHE="+this.get(e.SESSION_PRECACHE),i),r.g.i(t,n+"   TIMEOUT_NANO_CDN_REQUEST_ROUTER="+this.get(e.TIMEOUT_NANO_CDN_REQUEST_ROUTER)+"ms",i),void 0!==this.get(e.USERAGENT_AD_EVENT)&&r.g.i(t,n+"   USERAGENT_AD_EVENT="+this.get(e.USERAGENT_AD_EVENT),i),r.g.i(t,n+"   PIP_SESSION="+this.get(e.PIP_SESSION),i),r.g.i(t,n+"   ULTRA_LOW_LATENCY_SUPPORT="+this.get(e.ULTRA_LOW_LATENCY_SUPPORT),i),r.g.i(t,n+"   GDPR_PREFERENCE="+this.get(e.GDPR_PREFERENCE),i)}},{key:"printUpdates",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;this.updates.forEach((function(a){r.g.i(n,i+"   "+e.optionToString(a)+"="+e.valueToString(a,t.get(a)),o)}))}}],o=[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=new e;return t instanceof e&&(r.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.options)),void 0!==n&&n.updates.forEach((function(e){r.options[e]=n.options[e]})),r}},{key:"optionToString",value:function(e){switch(e){case this.MULTICAST_ONLY:return"MULTICAST_ONLY";case this.PIP_SESSION:return"PIP_SESSION";case this.ULTRA_LOW_LATENCY_SUPPORT:return"ULTRA_LOW_LATENCY_SUPPORT";case this.GDPR_PREFERENCE:return"GDPR_PREFERENCE";case this.REQUEST_REDIRECT_THIRD_PARTY_CDN:return"REQUEST_REDIRECT_THIRD_PARTY_CDN";case this.REQUEST_DIVERSITY:return"REQUEST_DIVERSITY";case this.REQUEST_NANO_CDN:return"REQUEST_NANO_CDN";case this.REQUEST_BROADPEAK_CDN:return"REQUEST_BROADPEAK_CDN";case this.REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI:return"REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI";case this.REQUEST_NANO_CDN_DURING_GET_QUERY:return"REQUEST_NANO_CDN_DURING_GET_QUERY";case this.REQUEST_BKYOU_IF_BROADPEAK_CDN:return"REQUEST_BKYOU_IF_BROADPEAK_CDN";case this.REQUEST_NANO_CDN_PRIORITY:return"REQUEST_NANO_CDN_PRIORITY";case this.SESSION_KEEPALIVE:return"SESSION_KEEPALIVE";case this.SESSION_TEARDOWN:return"SESSION_TEARDOWN";case this.SESSION_REPORTING_MODE:return"SESSION_REPORTING_MODE";case this.SESSION_KEEPALIVE_FREQUENCY:return"SESSION_KEEPALIVE_FREQUENCY";case this.SESSION_PRECACHE:return"SESSION_PRECACHE";case this.USERAGENT_AD_EVENT:return"USERAGENT_AD_EVENT";case this.TIMEOUT_NANO_CDN_REQUEST_ROUTER:return"TIMEOUT_NANO_CDN_REQUEST_ROUTER";case this.TIMEOUT_NANO_CDN_STATIC_RESOLVING:return"TIMEOUT_NANO_CDN_STATIC_RESOLVING";case this.TIMEOUT_NANO_CDN_DISCOVER_RESOLVING:return"TIMEOUT_NANO_CDN_DISCOVER_RESOLVING";case this.PRIORITY_NANO_CDN_CONF:return"PRIORITY_NANO_CDN_CONF";case this.PRIORITY_APP_CONF:return"PRIORITY_APP_CONF";case this.PRIORITY_LOAD_BALANCING:return"PRIORITY_LOAD_BALANCING";case this.LEGACY_MULTICAST_ONLY:return"LEGACY_MULTICAST_ONLY"}return"unknown"}},{key:"valueToString",value:function(e,t){switch(e){case this.SESSION_KEEPALIVE:case this.SESSION_TEARDOWN:return this.stateToString(t);case this.SESSION_REPORTING_MODE:return this.reportingModeToString(t);case this.REQUEST_NANO_CDN_PRIORITY:return this.nanoCDNPriorityToString(t)}return String(t)}},{key:"stateToString",value:function(t){switch(t){case e.SESSION_DISABLED:return"disabled";case e.SESSION_ENABLED_IF_BROADPEAK_DOMAIN:return"enabled if broadpeak domain name";case e.SESSION_ENABLED:return"enabled"}return"unknown"}},{key:"reportingModeToString",value:function(t){switch(t){case e.SESSION_REPORTING_MODE_DEFAULT:return"default";case e.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN:return"keepalive/teardown";case e.SESSION_REPORTING_MODE_METRICS_RECEIVER:return"metricsReceiver";case e.SESSION_REPORTING_MODE_DISABLED:return"disabled"}return"unknown"}},{key:"nanoCDNPriorityToString",value:function(t){switch(t){case e.PRIORITY_NANO_CDN_CONF:return"nanoCDN conf";case e.PRIORITY_APP_CONF:return"init order";case e.PRIORITY_LOAD_BALANCING:return"load balancing"}return"unknown"}}],n&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();u(d,"MULTICAST_ONLY",0),u(d,"ULTRA_LOW_LATENCY_SUPPORT",1),u(d,"PIP_SESSION",2),u(d,"GDPR_PREFERENCE",3),u(d,"REQUEST_REDIRECT_THIRD_PARTY_CDN",100),u(d,"REQUEST_DIVERSITY",101),u(d,"REQUEST_NANO_CDN",102),u(d,"REQUEST_BROADPEAK_CDN",103),u(d,"REQUEST_LOCAL_NANO_CDN_IF_CONNECTED_TO_WIFI",104),u(d,"REQUEST_NANO_CDN_DURING_GET_QUERY",106),u(d,"REQUEST_BKYOU_IF_BROADPEAK_CDN",107),u(d,"REQUEST_NANO_CDN_PRIORITY",108),u(d,"SESSION_KEEPALIVE",200),u(d,"SESSION_TEARDOWN",201),u(d,"SESSION_REPORTING_MODE",202),u(d,"SESSION_KEEPALIVE_FREQUENCY",203),u(d,"SESSION_PRECACHE",204),u(d,"USERAGENT_AD_EVENT",300),u(d,"TIMEOUT_NANO_CDN_REQUEST_ROUTER",500),u(d,"TIMEOUT_NANO_CDN_STATIC_RESOLVING",501),u(d,"TIMEOUT_NANO_CDN_DISCOVER_RESOLVING",502),u(d,"PRIORITY_NANO_CDN_CONF",600),u(d,"PRIORITY_APP_CONF",601),u(d,"PRIORITY_LOAD_BALANCING",602),u(d,"EXPERIMENTAL_METRICS_LATENCY",900),u(d,"LEGACY_MULTICAST_ONLY",1e3),u(d,"SESSION_DISABLED",-1),u(d,"SESSION_ENABLED_IF_BROADPEAK_DOMAIN",0),u(d,"SESSION_ENABLED",1),u(d,"SESSION_REPORTING_MODE_DEFAULT",0),u(d,"SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN",1),u(d,"SESSION_REPORTING_MODE_METRICS_RECEIVER",2),u(d,"SESSION_REPORTING_MODE_DISABLED",-1),u(d,"MULTICAST_UNKNOWN",-1),u(d,"MULTICAST_INACTIVE",0),u(d,"MULTICAST_INACTIVE_WAS_ACTIVE",1),u(d,"MULTICAST_ACTIVE",2),u(d,"GDPR_DELETE",1),u(d,"GDPR_ANONYMIZED",2),u(d,"GDPR_ENCRYPTED",3),u(d,"GDPR_CLEAR",4)},235:function(e,t,n){var r=n(9213).forEach,i=n(4598)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},280:function(e,t,n){var r=n(6518),i=n(7751),o=n(6395),a=n(550),s=n(916).CONSTRUCTOR,u=n(3438),c=i("Promise"),l=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return u(l&&this===c?a:this,e)}})},283:function(e,t,n){var r=n(9504),i=n(9039),o=n(4901),a=n(9297),s=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),d=l.enforce,f=l.get,h=String,v=Object.defineProperty,p=r("".slice),y=r("".replace),g=r([].join),E=s&&!i((function(){return 8!==v((function(){}),"length",{value:8}).length})),S=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===p(h(t),0,7)&&(t="["+y(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||u&&e.name!==t)&&(s?v(e,"name",{value:t,configurable:!0}):e.name=t),E&&n&&a(n,"arity")&&e.length!==n.arity&&v(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=d(e);return a(r,"source")||(r.source=g(S,"string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&f(this).source||c(this)}),"toString")},298:function(e,t,n){var r=n(2195),i=n(5397),o=n(8480).f,a=n(7680),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"===r(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},350:function(e,t,n){var r=n(3724),i=n(9297),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},397:function(e,t,n){var r=n(7751);e.exports=r("document","documentElement")},421:function(e){e.exports={}},436:function(e,t,n){var r,i,o,a=n(6518),s=n(6395),u=n(6193),c=n(4576),l=n(9565),d=n(6840),f=n(2967),h=n(687),v=n(7633),p=n(9306),y=n(4901),g=n(34),E=n(679),S=n(2293),m=n(9225).set,b=n(1955),_=n(3138),A=n(1103),N=n(8265),R=n(1181),O=n(550),T=n(916),w=n(6043),I="Promise",D=T.CONSTRUCTOR,k=T.REJECTION_EVENT,P=T.SUBCLASSING,M=R.getterFor(I),C=R.set,L=O&&O.prototype,U=O,x=L,j=c.TypeError,B=c.document,V=c.process,H=w.f,F=H,G=!!(B&&B.createEvent&&c.dispatchEvent),W="unhandledrejection",q=function(e){var t;return!(!g(e)||!y(t=e.then))&&t},Y=function(e,t){var n,r,i,o=t.value,a=1===t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,d=e.domain;try{s?(a||(2===t.rejection&&$(t),t.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===e.promise?c(new j("Promise-chain cycle")):(r=q(n))?l(r,n,u,c):u(n)):c(o)}catch(e){d&&!i&&d.exit(),c(e)}},K=function(e,t){e.notified||(e.notified=!0,b((function(){for(var n,r=e.reactions;n=r.get();)Y(n,e);e.notified=!1,t&&!e.rejection&&z(e)})))},Q=function(e,t,n){var r,i;G?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!k&&(i=c["on"+e])?i(r):e===W&&_("Unhandled promise rejection",n)},z=function(e){l(m,c,(function(){var t,n=e.facade,r=e.value;if(X(e)&&(t=A((function(){u?V.emit("unhandledRejection",r,n):Q(W,n,r)})),e.rejection=u||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},$=function(e){l(m,c,(function(){var t=e.facade;u?V.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(r){e(t,r,n)}},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,K(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new j("Promise can't be resolved itself");var r=q(t);r?b((function(){var n={done:!1};try{l(r,t,J(ee,n,e),J(Z,n,e))}catch(t){Z(n,t,e)}})):(e.value=t,e.state=1,K(e,!1))}catch(t){Z({done:!1},t,e)}}};if(D&&(x=(U=function(e){E(this,x),p(e),l(r,this);var t=M(this);try{e(J(ee,t),J(Z,t))}catch(e){Z(t,e)}}).prototype,(r=function(e){C(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:null})}).prototype=d(x,"then",(function(e,t){var n=M(this),r=H(S(this,U));return n.parent=!0,r.ok=!y(e)||e,r.fail=y(t)&&t,r.domain=u?V.domain:void 0,0===n.state?n.reactions.add(r):b((function(){Y(r,n)})),r.promise})),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(Z,t)},w.f=H=function(e){return e===U||undefined===e?new i(e):F(e)},!s&&y(O)&&L!==Object.prototype)){o=L.then,P||d(L,"then",(function(e,t){var n=this;return new U((function(e,t){l(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}f&&f(L,x)}a({global:!0,constructor:!0,wrap:!0,forced:D},{Promise:U}),h(U,I,!1,!0),v(I)},491:function(e,t,n){n.d(t,{f:function(){return g}});n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(3110),n(2892),n(6099),n(3362),n(7764),n(8992),n(4520),n(2953);var r=n(9637),i=n(3914),o=n(213),a=n(5166),s=n(6164),u=n(5186),c=n(7058),l=n(1942),d=n(8140);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function v(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var y="BpkStreamingSession",g=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"smartLib",void 0),v(this,"options",void 0),v(this,"customParameters",void 0),v(this,"diversitySession",void 0),v(this,"adSession",void 0),v(this,"id",void 0),v(this,"date",void 0),v(this,"handler",void 0),v(this,"playerAdapter",void 0),v(this,"simidControllerAdapter",void 0),v(this,"stopped",void 0),v(this,"multicastStatusListener",void 0),this.smartLib=t,this.options=n,this.customParameters={},this.id=c.A.randomIntFromInterval(1e4,99999),this.date=Date.now(),this.stopped=!1},t=[{key:"attachPlayer",value:function(e,t){void 0!==e?void 0===this.handler?(this.playerAdapter=e,i.g.i(y,"Player "+this.playerAdapter.getName()+" attached",this.id)):i.g.e(y,"Exception: attachPlayer error, you cannot attach a player when a session is running.",this.id):void 0===d.A.analyticsModule?i.g.w(y,"Try to attach a player, but analytics module not loaded",this.id):i.g.w(y,"Try to attach a player, but it is not recognized",this.id)}},{key:"attachSimidController",value:function(e){void 0!==e?void 0===this.handler?(this.simidControllerAdapter=e,i.g.i(y,"SIMID Controller "+this.simidControllerAdapter.getName()+" attached",this.id)):i.g.e(y,"Exception: attachSimidController error, you cannot attach a player when a session is running.",this.id):void 0===d.A.simidModule||void 0===d.A.adModule?i.g.w(y,"Try to attach a SIMID controller, but need simid and ad modules",this.id):i.g.w(y,"Try to attach a SIMID controller, but it is not recognized",this.id)}},{key:"setOption",value:function(e,t){void 0===this.handler?(i.g.d(y,"Setting session option "+o.H.optionToString(e)+" to "+o.H.valueToString(e,t),this.id),this.options.set(e,t)):i.g.e(y,"Exception: setOption error, you cannot set an option when a session is running.",this.id)}},{key:"setAdEventsListener",value:function(e){void 0===this.adSession&&(this.adSession=new l.A),this.adSession.setAdEventsListener(e)}},{key:"setAdDataListener",value:function(e){void 0===this.adSession&&(this.adSession=new l.A),this.adSession.setAdDataListener(e)}},{key:"activateDiversity",value:function(e){void 0!==d.A.diversityModule.DiversitySession?void 0===this.diversitySession&&(this.diversitySession=new d.A.diversityModule.DiversitySession,this.diversitySession.activate(e)):i.g.e(y,"Diversity module not loaded, please import it",this.id)}},{key:"activateAdvertising",value:function(){void 0===this.adSession&&(this.adSession=new l.A),this.adSession.activateAdvertising()}},{key:"setAdParameter",value:function(e,t){void 0===this.adSession&&(this.adSession=new l.A),this.adSession.setAdParameter(e,t)}},{key:"setAdView",value:function(e){var t;void 0===this.adSession&&(this.adSession=new l.A),this.adSession.adView=e,null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.setAdView(e)}},{key:"setAdViewState",value:function(e){var t;void 0===this.adSession&&(this.adSession=new l.A),!0===r.up.isAdViewState(e)?(this.adSession.adViewState=e,null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.setAdViewState(e)):i.g.e(y,"Please use a defined state within the AdViewState enum.",this.id)}},{key:"registerAdFriendlyObstructionView",value:function(e,t,n){var o;void 0===this.adSession&&(this.adSession=new l.A),r.D6.isAdFriendlyObstructionPurpose(t)&&"string"==typeof n?(this.adSession.adFriendlyObstructionViews.push({view:e,purpose:t,reason:n}),null===(o=this.handler)||void 0===o||null===(o=o.omSessionHandler)||void 0===o||null===(o=o.omAdSession)||void 0===o||o.registerAdFriendlyObstructionView(e,t,n)):i.g.e(y,"Ad friendly objection view not registered, please check arguments types: purpose -> state within the AdFriendlyObstructionPurpose enum, reason -> string",this.id)}},{key:"unregisterFriendlyObstruction",value:function(e){var t;void 0!==this.adSession&&(this.adSession.adFriendlyObstructionViews=this.adSession.adFriendlyObstructionViews.filter((function(t){return t.view!==e})),null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t||null===(t=t.omAdSession)||void 0===t||t.unregisterFriendlyObstruction(e))}},{key:"unregisterAllFriendlyObstructions",value:function(){var e;void 0!==this.adSession&&(this.adSession.adFriendlyObstructionViews=[],null===(e=this.handler)||void 0===e||null===(e=e.omSessionHandler)||void 0===e||null===(e=e.omAdSession)||void 0===e||e.unregisterAllFriendlyObstructions())}},{key:"setAdCustomReference",value:function(e){var t;void 0===this.adSession&&(this.adSession=new l.A),"string"==typeof e?(this.adSession.adCustomReference=e,void 0!==(null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t?void 0:t.omAdSession)&&i.g.w(y,'An ad is already playing, the ad custom reference "'+e+'" will be set for the next ad',this.id)):i.g.e(y,"Ad custom reference not set, reference argument has to be a string",this.id)}},{key:"registerAdVerificationData",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0===this.adSession&&(this.adSession=new l.A);var o={verificationVendor:n,verificationURL:e,verificationParameters:r};this.adSession.adVerificationData.push(o),void 0!==(null===(t=this.handler)||void 0===t||null===(t=t.omSessionHandler)||void 0===t?void 0:t.omAdSession)&&i.g.w(y,'An ad is already playing, the ad verification data "'+JSON.stringify(o)+'" will be set for the next ad',this.id)}},{key:"adUserInteraction",value:function(e){var t,n,r;void 0===this.adSession&&(this.adSession=new l.A),"string"==typeof e?(i.g.d(y,"Ad interaction: "+e,this.id),null===(t=this.handler)||void 0===t||null===(t=t.adTrackingManager)||void 0===t||t.adUserInteraction(e),null===(n=this.adSession.adPalSession)||void 0===n||n.sendAdClick(),void 0!==(null===(r=this.handler)||void 0===r||null===(r=r.omSessionHandler)||void 0===r?void 0:r.omAdSession)&&this.handler.omSessionHandler.omAdSession.adUserInteraction(e)):i.g.e(y,"Ad interaction type not triggered, interactionType argument has to be a string",this.id)}},{key:"adTouch",value:function(e){var t;void 0===this.adSession&&(this.adSession=new l.A),i.g.d(y,"Ad touch",this.id),null===(t=this.adSession.adPalSession)||void 0===t||t.sendTouch(e)}},{key:"setCustomParameter",value:function(e,t){"string"==typeof e?this.customParameters[e]=u.A.toBkAString(String(t)):i.g.e(y,"Error: Only string values are accepted for custom parameters",this.id)}},{key:"setEventCallbackEnabled",value:function(e){void 0===this.adSession&&(this.adSession=new l.A),this.adSession.setEventCallbackEnabled(e)}},{key:"getURL",value:function(e){return i.g.i(y,"getURL with "+e,this.id),void 0===this.handler?u.A.typeParameter(e,"string","Error: requestedURL should be a string")&&u.A.stringNonEmpty(e,"Error: requestedURL is empty")?(this.handler=this.smartLib.sessionManager.createSessionHandler(this),this.handler.diversitySession=this.diversitySession,void 0!==this.diversitySession&&(this.diversitySession.handler=this.handler),this.handler.adSession=this.adSession,void 0!==this.adSession&&(this.handler.simidControllerAdapter=this.simidControllerAdapter,this.adSession.handler=this.handler),this.handler.start(e)):Promise.resolve(a.S.error(a.S.RESULT_API_PARAMETER_FORMAT_ERROR)):(i.g.e(y,"Exception: getURL error, the session is already running.",this.id),Promise.resolve(a.S.error(a.S.RESULT_REQUEST_ALREADY_DONE)))}},{key:"getQuery",value:function(){return i.g.i(y,"getQuery",this.id),void 0===this.handler?(this.handler=this.smartLib.sessionManager.createProxySessionHandler(this),this.handler.getQuery()):(i.g.e(y,"Exception: getQuery error, the session is already running.",this.id),"")}},{key:"precacheEnded",value:function(){var e;null===(e=this.handler)||void 0===e||e.notifyPrecacheEnded()}},{key:"startStreamingSession",value:function(e,t){return i.g.i(y,"startStreamingSession with "+e+" and "+t,this.id),!(!u.A.typeParameter(e,"string","Error: requestedURL should be a string")||!u.A.typeParameter(t,"string","Error: redirectedURL should be a string")||(void 0===this.handler?(i.g.e(y,"Exception: startSteamingSession error, getQuery() should be called prior to startStreamingSession(...)"),1):this.handler instanceof s.A?(this.handler.start(e,t),0):(i.g.e(y,"Exception: startSteamingSession error, startStreamingSession(...) cannot be called once getURL(...) has been called"),1)))}},{key:"stopStreamingSession",value:function(e){return void 0!==e?i.g.i(y,"Stopping streaming session with statusCode "+e+"...",this.id):i.g.i(y,"Stopping streaming session...",this.id),void 0!==this.handler&&this.handler.stop(e),void 0!==this.playerAdapter&&this.playerAdapter.detachPlayer(),void 0!==this.simidControllerAdapter&&this.simidControllerAdapter.detachSimidController(),this.stopped=!0,this.handler}},{key:"isNanoCDNUsed",value:function(){return void 0!==this.handler&&this.handler.isNanoCDNUsed()}},{key:"getVideoMulticastStatus",value:function(){return void 0!==this.handler?this.handler.videoMulticastStatus:o.H.MULTICAST_INACTIVE}},{key:"getAudioMulticastStatus",value:function(){return void 0!==this.handler?this.handler.audioMulticastStatus:o.H.MULTICAST_INACTIVE}},{key:"getDataMulticastStatus",value:function(){return void 0!==this.handler?this.handler.dataMulticastStatus:o.H.MULTICAST_INACTIVE}},{key:"setMulticastStatusListener",value:function(e){i.g.d(y,"Multicast status listener "+(void 0!==e?"set":"unset"),this.id),this.multicastStatusListener=e}},{key:"getAdList",value:function(){var e;return(null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.adList)||[]}},{key:"getCurrentAd",value:function(){var e;return null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getCurrentAd()}},{key:"getCurrentAdBreak",value:function(){var e;return null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getCurrentAdBreak()}},{key:"getPositionForBookmark",value:function(){var e,t=null===(e=this.handler)||void 0===e||null===(e=e.adTrackingManager)||void 0===e?void 0:e.getPositionForBookmark();return void 0!==t?t:-1}},{key:"getPositionForPlayback",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null===(t=this.handler)||void 0===t||null===(t=t.adTrackingManager)||void 0===t?void 0:t.getPositionForPlayback(Number(e),n);return void 0!==r?r:-1}}],t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},511:function(e,t,n){var r=n(9167),i=n(9297),o=n(1951),a=n(4913).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},537:function(e,t,n){var r=n(550),i=n(4428),o=n(916).CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},550:function(e,t,n){var r=n(4576);e.exports=r.Promise},566:function(e,t,n){var r=n(9504),i=n(9306),o=n(34),a=n(9297),s=n(7680),u=n(616),c=Function,l=r([].concat),d=r([].join),f={};e.exports=u?c.bind:function(e){var t=i(this),n=t.prototype,r=s(arguments,1),u=function(){var n=l(r,s(arguments));return this instanceof u?function(e,t,n){if(!a(f,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";f[t]=c("C,a","return new C("+d(r,",")+")")}return f[t](e,n)}(t,n.length,n):t.apply(e,n)};return o(n)&&(u.prototype=n),u}},597:function(e,t,n){var r=n(9039),i=n(8227),o=n(9519),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},616:function(e,t,n){var r=n(9039);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},655:function(e,t,n){var r=n(6955),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},679:function(e,t,n){var r=n(1625),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},687:function(e,t,n){var r=n(4913).f,i=n(9297),o=n(8227)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,o)&&r(e,o,{configurable:!0,value:t})}},706:function(e,t,n){var r=n(350).PROPER,i=n(9039),o=n(7452);e.exports=function(e){return i((function(){return!!o[e]()||""!==""[e]()||r&&o[e].name!==e}))}},741:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},744:function(e,t,n){var r=n(9565),i=n(9504),o=n(9228),a=n(8551),s=n(4117),u=n(7750),c=n(2293),l=n(7829),d=n(8014),f=n(655),h=n(5966),v=n(6682),p=n(8429),y=n(9039),g=p.UNSUPPORTED_Y,E=Math.min,S=i([].push),m=i("".slice),b=!y((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;o("split",(function(e,t,n){var i="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t;return[function(t,n){var o=u(this),a=s(t)?void 0:h(t,e);return a?r(a,t,o,n):r(i,f(o),t,n)},function(e,r){var o=a(this),s=f(e);if(!_){var u=n(i,o,s,r,i!==t);if(u.done)return u.value}var h=c(o,RegExp),p=o.unicode,y=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(g?"g":"y"),b=new h(g?"^(?:"+o.source+")":o,y),A=void 0===r?4294967295:r>>>0;if(0===A)return[];if(0===s.length)return null===v(b,s)?[s]:[];for(var N=0,R=0,O=[];R<s.length;){b.lastIndex=g?0:R;var T,w=v(b,g?m(s,R):s);if(null===w||(T=E(d(b.lastIndex+(g?R:0)),s.length))===N)R=l(s,R,p);else{if(S(O,m(s,N,R)),O.length===A)return O;for(var I=1;I<=w.length-1;I++)if(S(O,w[I]),O.length===A)return O;R=N=T}}return S(O,m(s,N)),O}]}),_||!b,g)},757:function(e,t,n){var r=n(7751),i=n(4901),o=n(1625),a=n(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},788:function(e,t,n){var r=n(34),i=n(2195),o=n(8227)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===i(e))}},825:function(e,t,n){var r=n(6518),i=n(7751),o=n(8745),a=n(566),s=n(5548),u=n(8551),c=n(34),l=n(2360),d=n(9039),f=i("Reflect","construct"),h=Object.prototype,v=[].push,p=d((function(){function e(){}return!(f((function(){}),[],e)instanceof e)})),y=!d((function(){f((function(){}))})),g=p||y;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){s(e),u(t);var n=arguments.length<3?e:s(arguments[2]);if(y&&!p)return f(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return o(v,r,t),new(o(a,e,r))}var i=n.prototype,d=l(c(i)?i:h),g=o(e,d,t);return c(g)?g:d}})},851:function(e,t,n){var r=n(6955),i=n(5966),o=n(4117),a=n(6269),s=n(8227)("iterator");e.exports=function(e){if(!o(e))return i(e,s)||i(e,"@@iterator")||a[r(e)]}},875:function(e,t,n){var r=n(6518),i=n(9039),o=n(8981),a=n(2787),s=n(2211);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},906:function(e,t,n){n(7495);var r,i,o=n(6518),a=n(9565),s=n(4901),u=n(8551),c=n(655),l=(r=!1,(i=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===i.test("abc")&&r),d=/./.test;o({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=u(this),n=c(e),r=t.exec;if(!s(r))return a(d,t,n);var i=a(r,t,n);return null!==i&&(u(i),!0)}})},916:function(e,t,n){var r=n(4576),i=n(550),o=n(4901),a=n(2796),s=n(3706),u=n(8227),c=n(4215),l=n(6395),d=n(9519),f=i&&i.prototype,h=u("species"),v=!1,p=o(r.PromiseRejectionEvent),y=a("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(l&&(!f.catch||!f.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=r,!(v=n.then((function(){}))instanceof r))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||p)}));e.exports={CONSTRUCTOR:y,REJECTION_EVENT:p,SUBCLASSING:v}},977:function(e,t,n){n.d(t,{A:function(){return d}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(3362),n(7764),n(2953);var r=n(7058),i=n(8636),o=n(2913);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var l="BpkJobMgr",d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"worker",void 0),u(this,"jobs",void 0),this.jobs={}}return t=e,n=[{key:"async",value:function(e,t,n,r){return this.start(e,0,-1,t,n,r)}},{key:"asyncGet",value:function(e,t,n,r){return this.start("get",0,-1,(function(){o.A.getInstance().requestHandler.get(e,t,n,r)}),(function(){return{url:e,headers:t,timeout:n}}),r)}},{key:"asyncPost",value:function(e,t,n,r,i){return this.start("post",0,-1,(function(){o.A.getInstance().requestHandler.post(e,t,n,r,i)}),(function(){return{url:e,headers:t,body:n,timeout:r}}),i)}},{key:"asyncDelay",value:function(e,t){var n,r=this.start("delay",e,-1,(function(t){n=setTimeout(t,e)}),void 0,t);return r.task=n,r}},{key:"asyncDelayPromise",value:function(t){return new Promise((function(n,r){e.getInstance().asyncDelay(t,(function(){n()}))}))}},{key:"asyncNonce",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===o&&(o=function(){i.gD.d(l,"ios async nonce"),r=setTimeout(n,e)});var a=this.start("waitNonce",0,e,o,void 0,t,n,!0);return a.task=r,a}},{key:"waitNonce",value:function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0===o&&(o=function(){i.gD.d(l,"ios wait nonce"),r=setTimeout(n,e)});var a=this.start("waitNonce",0,e,o,void 0,t,n,!1);return a.task=r,a}},{key:"start",value:function(e,t,n,r,o,s){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){},c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7];if(void 0===this.worker&&("function"==typeof CoreWorker?this.worker=new CoreWorker:"object"===("undefined"==typeof CoreWorker?"undefined":a(CoreWorker))&&(this.worker=CoreWorker)),void 0!==this.worker){var d=this.createJob();return d.active=!0,d.command=e,d.startDelay=t,d.timeoutDelay=n,d.requestInfo=o,d.result=s,d.timeout=u,d.async=c,i.gD.v(l,'Starting job "'+e+'" (id: '+d.id+", async: "+d.async+")..."),c?this.worker.async(d.id,d.command,d.startDelay,d.timeoutDelay):this.worker.sync(d.id,d.command,d.startDelay,d.timeoutDelay),d}return r(s),{command:e}}},{key:"interrupt",value:function(e){void 0!==e&&void 0!==this.worker&&(i.gD.v(l,'Interrupting job "'+e.command+'"...'),this.worker.interrupt(e.id))}},{key:"cancel",value:function(e){void 0!==e&&(void 0!==this.worker&&(i.gD.v(l,'Cancelling job "'+e.command+'"...'),e.active=!1,this.worker.cancel(e.id),delete this.jobs[e.id]),void 0!==e.task&&clearTimeout(e.task))}},{key:"requestInfo",value:function(e){var t=this.jobs[e];return void 0!==t&&"function"==typeof t.requestInfo?t.requestInfo():{}}},{key:"result",value:function(e,t){var n=this.jobs[e];void 0!==n&&"function"==typeof n.result&&!0===n.active&&(n.active=!1,n.result(t)),delete this.jobs[e]}},{key:"timeout",value:function(e){var t=this.jobs[e];void 0!==t&&"function"==typeof t.timeout&&!0===t.active&&(i.gD.v(l,'Job "'+t.command+'" timeout...'),t.active=!1,t.timeout()),delete this.jobs[e]}},{key:"createJob",value:function(){for(var e=r.A.randomIntFromInterval(1e6,9999999);void 0!==this.jobs[e];)e=r.A.randomIntFromInterval(1e6,9999999);return this.jobs[e]={id:e},this.jobs[e]}}],c=[{key:"getInstance",value:function(){return f._||(f._=new e),f._}}],n&&s(t.prototype,n),c&&s(t,c),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,c}(),f={_:void 0}},1034:function(e,t,n){var r=n(9565),i=n(9297),o=n(1625),a=n(7979),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in s||i(e,"flags")||!o(s,e)?t:r(a,e)}},1056:function(e,t,n){var r=n(4913).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},1072:function(e,t,n){var r=n(1828),i=n(8727);e.exports=Object.keys||function(e){return r(e,i)}},1088:function(e,t,n){var r=n(6518),i=n(9565),o=n(6395),a=n(350),s=n(4901),u=n(3994),c=n(2787),l=n(2967),d=n(687),f=n(6699),h=n(6840),v=n(8227),p=n(6269),y=n(7657),g=a.PROPER,E=a.CONFIGURABLE,S=y.IteratorPrototype,m=y.BUGGY_SAFARI_ITERATORS,b=v("iterator"),_="keys",A="values",N="entries",R=function(){return this};e.exports=function(e,t,n,a,v,y,O){u(n,t,a);var T,w,I,D=function(e){if(e===v&&L)return L;if(!m&&e&&e in M)return M[e];switch(e){case _:case A:case N:return function(){return new n(this,e)}}return function(){return new n(this)}},k=t+" Iterator",P=!1,M=e.prototype,C=M[b]||M["@@iterator"]||v&&M[v],L=!m&&C||D(v),U="Array"===t&&M.entries||C;if(U&&(T=c(U.call(new e)))!==Object.prototype&&T.next&&(o||c(T)===S||(l?l(T,S):s(T[b])||h(T,b,R)),d(T,k,!0,!0),o&&(p[k]=R)),g&&v===A&&C&&C.name!==A&&(!o&&E?f(M,"name",A):(P=!0,L=function(){return i(C,this)})),v)if(w={values:D(A),keys:y?L:D(_),entries:D(N)},O)for(I in w)(m||P||!(I in M))&&h(M,I,w[I]);else r({target:t,proto:!0,forced:m||P},w);return o&&!O||M[b]===L||h(M,b,L,{name:v}),p[t]=L,w}},1103:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1181:function(e,t,n){var r,i,o,a=n(8622),s=n(4576),u=n(34),c=n(6699),l=n(9297),d=n(7629),f=n(6119),h=n(421),v="Object already initialized",p=s.TypeError,y=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,r=function(e,t){if(g.has(e))throw new p(v);return t.facade=e,g.set(e,t),t},i=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var E=f("state");h[E]=!0,r=function(e,t){if(l(e,E))throw new p(v);return t.facade=e,c(e,E,t),t},i=function(e){return l(e,E)?e[E]:{}},o=function(e){return l(e,E)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw new p("Incompatible receiver, "+e+" required");return n}}}},1240:function(e,t,n){var r=n(9504);e.exports=r(1..valueOf)},1278:function(e,t,n){var r=n(6518),i=n(3724),o=n(5031),a=n(5397),s=n(7347),u=n(4659);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,c=o(r),l={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&u(l,t,n);return l}})},1291:function(e,t,n){var r=n(741);e.exports=function(e){var t=+e;return t!=t||0===t?0:r(t)}},1296:function(e,t,n){var r=n(4495);e.exports=r&&!!Symbol.for&&!!Symbol.keyFor},1392:function(e,t,n){var r,i=n(6518),o=n(7476),a=n(7347).f,s=n(8014),u=n(655),c=n(5749),l=n(7750),d=n(1436),f=n(6395),h=o("".slice),v=Math.min,p=d("startsWith");i({target:"String",proto:!0,forced:!!(f||p||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(e){var t=u(l(this));c(e);var n=s(v(arguments.length>1?arguments[1]:void 0,t.length)),r=u(e);return h(t,n,n+r.length)===r}})},1436:function(e,t,n){var r=n(8227)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},1469:function(e,t,n){var r=n(7433);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1481:function(e,t,n){var r=n(6518),i=n(6043);r({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},1510:function(e,t,n){var r=n(6518),i=n(7751),o=n(9297),a=n(655),s=n(5745),u=n(1296),c=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=a(e);if(o(c,t))return c[t];var n=i("Symbol")(t);return c[t]=n,l[n]=t,n}})},1625:function(e,t,n){var r=n(9504);e.exports=r({}.isPrototypeOf)},1699:function(e,t,n){var r=n(6518),i=n(9504),o=n(5749),a=n(7750),s=n(655),u=n(1436),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},1761:function(e,t,n){var r=n(9565),i=n(9228),o=n(8551),a=n(4117),s=n(8014),u=n(655),c=n(7750),l=n(5966),d=n(7829),f=n(6682);i("match",(function(e,t,n){return[function(t){var n=c(this),i=a(t)?void 0:l(t,e);return i?r(i,t,n):new RegExp(t)[e](u(n))},function(e){var r=o(this),i=u(e),a=n(t,r,i);if(a.done)return a.value;if(!r.global)return f(r,i);var c=r.unicode;r.lastIndex=0;for(var l,h=[],v=0;null!==(l=f(r,i));){var p=u(l[0]);h[v]=p,""===p&&(r.lastIndex=d(i,s(r.lastIndex),c)),v++}return 0===v?null:h}]}))},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},1828:function(e,t,n){var r=n(9504),i=n(9297),o=n(5397),a=n(9617).indexOf,s=n(421),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},1942:function(e,t,n){n.d(t,{A:function(){return l}});n(2675),n(9463),n(2259),n(5700),n(5276),n(3792),n(9572),n(2892),n(6099),n(7764),n(8992),n(3949),n(3500),n(2953);var r=n(3914),i=n(9637);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c="BpkAdSession",l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"handler",void 0),s(this,"adEventsListener",void 0),s(this,"adDataListener",void 0),s(this,"adActivated",void 0),s(this,"adParameters",void 0),s(this,"eventCallbackEnabled",void 0),s(this,"adView",void 0),s(this,"adViewState",void 0),s(this,"adFriendlyObstructionViews",void 0),s(this,"adCustomReference",void 0),s(this,"adVerificationData",void 0),s(this,"adPalSession",void 0),this.adEventsListener=void 0,this.adActivated=!1,this.adParameters={},this.eventCallbackEnabled=!0,this.adView=void 0,this.adViewState=i.up.NORMAL,this.adFriendlyObstructionViews=[],this.adCustomReference="",this.adVerificationData=[]},(t=[{key:"setAdEventsListener",value:function(e){var t;this.adEventsListener=e,r.g.d(c,"Ad events listener "+(void 0!==e?"set":"unset"),null===(t=this.handler)||void 0===t?void 0:t.id)}},{key:"setAdDataListener",value:function(e){var t;this.adDataListener=e,r.g.d(c,"Ad data listener "+(void 0!==e?"set":"unset"),null===(t=this.handler)||void 0===t?void 0:t.id)}},{key:"activateAdvertising",value:function(){var e;!0!==this.adActivated&&(this.adActivated=!0,r.g.d(c,"Ad session activated",null===(e=this.handler)||void 0===e?void 0:e.id))}},{key:"setAdParameter",value:function(e,t){var n;this.activateAdvertising(),this.adParameters[e]=String(t),r.g.d(c,"Adding parameter "+e+"="+t,null===(n=this.handler)||void 0===n?void 0:n.id)}},{key:"setEventCallbackEnabled",value:function(e){this.eventCallbackEnabled=e}},{key:"isAdActivated",value:function(){return!0===this.adActivated}},{key:"getAdAllowedQuery",value:function(){var e=this,t=["ad_allowed","adallowed"],n=["0","false"],r=!0;return Object.keys(this.adParameters).forEach((function(i){t.indexOf(i.toLowerCase())>=0&&n.indexOf(e.adParameters[i].toLowerCase())>=0&&(r=!1)})),r}},{key:"resetAdParameters",value:function(){this.adParameters={}}},{key:"hasAdParameters",value:function(){return Object.keys(this.adParameters).length>0}},{key:"onDashEvent",value:function(e){this.isAdActivated()?this.eventCallbackEnabled?r.g.d(c,"Event received but legacy mode has been deprecated",this.handler.id):r.g.d(c,"Event received but callbacks are disabled",this.handler.id):r.g.d(c,"Event received but ad not enabled (advertising not activated)",this.handler.id)}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},1951:function(e,t,n){var r=n(8227);t.f=r},1955:function(e,t,n){var r,i,o,a,s,u=n(4576),c=n(3389),l=n(6080),d=n(9225).set,f=n(8265),h=n(9544),v=n(4265),p=n(7860),y=n(6193),g=u.MutationObserver||u.WebKitMutationObserver,E=u.document,S=u.process,m=u.Promise,b=c("queueMicrotask");if(!b){var _=new f,A=function(){var e,t;for(y&&(e=S.domain)&&e.exit();t=_.get();)try{t()}catch(e){throw _.head&&r(),e}e&&e.enter()};h||y||p||!g||!E?!v&&m&&m.resolve?((a=m.resolve(void 0)).constructor=m,s=l(a.then,a),r=function(){s(A)}):y?r=function(){S.nextTick(A)}:(d=l(d,u),r=function(){d(A)}):(i=!0,o=E.createTextNode(""),new g(A).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),b=function(e){_.head||r(),_.add(e)}}e.exports=b},2003:function(e,t,n){var r=n(6518),i=n(6395),o=n(916).CONSTRUCTOR,a=n(550),s=n(7751),u=n(4901),c=n(6840),l=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&u(a)){var d=s("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},2008:function(e,t,n){var r=n(6518),i=n(9213).filter;r({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},2106:function(e,t,n){var r=n(283),i=n(4913);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},2140:function(e,t,n){var r={};r[n(8227)("toStringTag")]="z",e.exports="[object z]"===String(r)},2195:function(e,t,n){var r=n(9504),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},2211:function(e,t,n){var r=n(9039);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2259:function(e,t,n){n(511)("iterator")},2293:function(e,t,n){var r=n(8551),i=n(5548),o=n(4117),a=n(8227)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},2360:function(e,t,n){var r,i=n(8551),o=n(6801),a=n(8727),s=n(421),u=n(397),c=n(4055),l=n(6119),d="prototype",f="script",h=l("IE_PROTO"),v=function(){},p=function(e){return"<"+f+">"+e+"</"+f+">"},y=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&r?y(r):(t=c("iframe"),n="java"+f+":",t.style.display="none",u.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):y(r);for(var i=a.length;i--;)delete g[d][a[i]];return g()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[d]=i(e),n=new v,v[d]=null,n[h]=e):n=g(),void 0===t?n:o.f(n,t)}},2478:function(e,t,n){var r=n(9504),i=n(8981),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var h=n+e.length,v=r.length,p=l;return void 0!==d&&(d=i(d),p=c),s(f,p,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,h);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>v){var f=o(l/10);return 0===f?i:f<=v?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},2489:function(e,t,n){var r=n(6518),i=n(9565),o=n(9306),a=n(8551),s=n(1767),u=n(9462),c=n(6319),l=n(6395),d=u((function(){for(var e,t,n=this.iterator,r=this.predicate,o=this.next;;){if(e=a(i(o,n)),this.done=!!e.done)return;if(t=e.value,c(n,r,[t,this.counter++],!0))return t}}));r({target:"Iterator",proto:!0,real:!0,forced:l},{filter:function(e){return a(this),o(e),new d(s(this),{predicate:e})}})},2529:function(e){e.exports=function(e,t){return{value:e,done:t}}},2652:function(e,t,n){var r=n(6080),i=n(9565),o=n(8551),a=n(6823),s=n(4209),u=n(6198),c=n(1625),l=n(81),d=n(851),f=n(9539),h=TypeError,v=function(e,t){this.stopped=e,this.result=t},p=v.prototype;e.exports=function(e,t,n){var y,g,E,S,m,b,_,A=n&&n.that,N=!(!n||!n.AS_ENTRIES),R=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),w=r(t,A),I=function(e){return y&&f(y,"normal",e),new v(!0,e)},D=function(e){return N?(o(e),T?w(e[0],e[1],I):w(e[0],e[1])):T?w(e,I):w(e)};if(R)y=e.iterator;else if(O)y=e;else{if(!(g=d(e)))throw new h(a(e)+" is not iterable");if(s(g)){for(E=0,S=u(e);S>E;E++)if((m=D(e[E]))&&c(p,m))return m;return new v(!1)}y=l(e,g)}for(b=R?e.next:y.next;!(_=i(b,y)).done;){try{m=D(_.value)}catch(e){f(y,"throw",e)}if("object"==typeof m&&m&&c(p,m))return m}return new v(!1)}},2675:function(e,t,n){n(6761),n(1510),n(7812),n(3110),n(9773)},2744:function(e,t,n){var r=n(9039);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2762:function(e,t,n){var r=n(6518),i=n(3802).trim;r({target:"String",proto:!0,forced:n(706)("trim")},{trim:function(){return i(this)}})},2777:function(e,t,n){var r=n(9565),i=n(34),o=n(757),a=n(5966),s=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,u=a(e,l);if(u){if(void 0===t&&(t="default"),n=r(u,e,t),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},2787:function(e,t,n){var r=n(9297),i=n(4901),o=n(8981),a=n(6119),s=n(2211),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(r(t,u))return t[u];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?l:null}},2796:function(e,t,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n===l||n!==c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},2812:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},2839:function(e,t,n){var r=n(4576).navigator,i=r&&r.userAgent;e.exports=i?String(i):""},2892:function(e,t,n){var r=n(6518),i=n(6395),o=n(3724),a=n(4576),s=n(9167),u=n(9504),c=n(2796),l=n(9297),d=n(3167),f=n(1625),h=n(757),v=n(2777),p=n(9039),y=n(8480).f,g=n(7347).f,E=n(4913).f,S=n(1240),m=n(3802).trim,b="Number",_=a[b],A=s[b],N=_.prototype,R=a.TypeError,O=u("".slice),T=u("".charCodeAt),w=function(e){var t,n,r,i,o,a,s,u,c=v(e,"number");if(h(c))throw new R("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=m(c),43===(t=T(c,0))||45===t){if(88===(n=T(c,2))||120===n)return NaN}else if(48===t){switch(T(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=O(c,2)).length,s=0;s<a;s++)if((u=T(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c},I=c(b,!_(" 0o1")||!_("0b1")||_("+0x1")),D=function(e){var t,n=arguments.length<1?0:_(function(e){var t=v(e,"number");return"bigint"==typeof t?t:w(t)}(e));return f(N,t=this)&&p((function(){S(t)}))?d(Object(n),this,D):n};D.prototype=N,I&&!i&&(N.constructor=D),r({global:!0,constructor:!0,wrap:!0,forced:I},{Number:D});var k=function(e,t){for(var n,r=o?y(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)l(t,n=r[i])&&!l(e,n)&&E(e,n,g(t,n))};i&&A&&k(s[b],A),(I||i)&&k(s[b],_)},2913:function(e,t,n){n.d(t,{A:function(){return _}});n(2675),n(9463),n(2259),n(5700),n(3418),n(5276),n(3792),n(4782),n(9572),n(3110),n(2892),n(875),n(6099),n(3362),n(7495),n(906),n(8781),n(9449),n(7764),n(1392),n(8992),n(3949),n(3500),n(2953);var r=n(3914),i=n(3299),o=n(3419),a=n(977),s=n(8636),u=n(6578),c=n(8140);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(){f=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof S?t:S,a=Object.create(o.prototype),s=new P(r||[]);return i(a,"_invoke",{value:w(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",v="suspendedYield",y="executing",g="completed",E={};function S(){}function m(){}function b(){}var _={};c(_,a,(function(){return this}));var A=Object.getPrototypeOf,N=A&&A(A(M([])));N&&N!==n&&r.call(N,a)&&(_=N);var R=b.prototype=S.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var u=d(e[i],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function w(t,n,r){var i=h;return function(o,a){if(i===y)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var u=I(s,r);if(u){if(u===E)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var c=d(t,n,r);if("normal"===c.type){if(i=r.done?g:v,c.arg===E)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),E;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,E;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,E):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,E)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(p(t)+" is not iterable")}return m.prototype=b,i(R,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(R),e},t.awrap=function(e){return{__await:e}},O(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(R),c(R,u,"Generator"),c(R,a,(function(){return this})),c(R,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),E},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),E}},t}function h(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function E(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var m="BpkRequestMgr",b=function(){return E((function e(){y(this,e)}),null,[{key:"get",value:function(e,t,n,r){r({body:void 0,headers:void 0,statusCode:-1,message:"",responseURL:""})}},{key:"post",value:function(e,t,n,r,i){i({body:void 0,headers:void 0,statusCode:-1,message:"",responseURL:""})}}])}(),_=function(){function e(){y(this,e),v(this,"requestHandler",b),v(this,"smartLib",void 0)}return E(e,[{key:"init",value:function(e){this.requestHandler=e}},{key:"attachInstance",value:function(e){this.smartLib=e}},{key:"release",value:function(){}},{key:"getHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.smartLib.getParameters(),t={};return void 0!==e.userAgent&&(t["User-Agent"]=e.userAgent),t}},{key:"getURL",value:(t=f().mark((function t(n,l,d){var h,v,p,y,g,E,S,b,_,A,N,R,O,T;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y=d.options,g=void 0!==l.nanoCDNDescr&&!0===y.get(s.H1.REQUEST_NANO_CDN),E=e.isBroadpeakDomainName(n,l.broadpeakDomainNames)&&!0===y.get(s.H1.REQUEST_BROADPEAK_CDN),S=!0===y.get(s.H1.MULTICAST_ONLY)||!0===y.get(s.H1.LEGACY_MULTICAST_ONLY),g?"*"===l.broadpeakDomainNames?r.g.i(m,"Workflow 5.2 (v"+o.A+")",d.id):""===l.broadpeakDomainNames?r.g.i(m,"Workflow 5.4 (v"+o.A+")",d.id):E?r.g.i(m,"Workflow 5.6 => 5.2 (v"+o.A+")",d.id):r.g.i(m,"Workflow 5.6 => 5.4 (v"+o.A+")",d.id):"*"===l.broadpeakDomainNames?r.g.i(m,"Workflow 5.1 (v"+o.A+")",d.id):""===l.broadpeakDomainNames?r.g.i(m,"Workflow 5.3 (v"+o.A+")",d.id):E?r.g.i(m,"Workflow 5.5 => 5.1 (v"+o.A+")",d.id):r.g.i(m,"Workflow 5.5 => 5.3 (v"+o.A+")",d.id),r.g.i(m,"   Parameters",d.id),r.g.i(m,"      analyticsAddress="+l.analyticsAddress,d.id),r.g.i(m,"      nanoCDNHost="+(void 0===l.nanoCDNDescr?"":l.nanoCDNDescr.hostIP),d.id),r.g.i(m,"      broadpeakDomainNames="+l.broadpeakDomainNames,d.id),y.print(m,"   ",d.id),!g){t.next=29;break}if(void 0!==c.A.nanoCDNModule){t.next=14;break}return r.g.e(m,"Error: detected nanoCDN session but nanoCDNModule not loaded."),t.abrupt("return",s.Sy.error(s.Sy.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN));case 14:return t.next=16,c.A.nanoCDNModule.NanoCDNRequestManager.getInstance().requestNanoCDNSession(n,l,d);case 16:if(!(b=t.sent).result.isError()){t.next=27;break}if(!E){t.next=22;break}r.g.d(m,"nanoCDN responded an error, requesting the BkM (using nanoCDN: "+b.nanoCDNHostIP+")",d.id),t.next=27;break;case 22:if(!0!==S){t.next=26;break}return t.abrupt("return",b.noFallbackResult);case 26:b.result=s.Sy.success(n);case 27:t.next=32;break;case 29:if(!0!==S){t.next=32;break}return r.g.e(m,"Error: multicast only option enabled but session is not using nanoCDN."),t.abrupt("return",s.Sy.error(s.Sy.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN));case 32:if(void 0===(null===(h=b)||void 0===h?void 0:h.nanoCDNHostIP)&&!0===(null===(v=d.adSession)||void 0===v?void 0:v.getAdAllowedQuery())&&(_=this.smartLib.internalAdManager.requestAdPalSession()),S&&g&&(null===(p=b)||void 0===p||!p.result.isError())){t.next=39;break}return t.next=36,this.requestBkM(n,l,null===(N=b)||void 0===N?void 0:N.nanoCDNHostIP,d);case 36:if(!(A=t.sent).isError()){t.next=39;break}return t.abrupt("return",A);case 39:if(void 0===b||b.result.isError()||(void 0!==A&&!0===E&&!1===S?-1!==A.url.indexOf("://"+b.nanoCDNHostIP+":")&&(A.nanoCDNUsed=!0,A.nanoCDNDescr=b.nanoCDNDescr,!0===d.options.get(s.H1.ULTRA_LOW_LATENCY_SUPPORT)&&(A.url=i.A.addOrReplaceParam(A.url,"ulls","1"))):A=b.result),void 0===A||!1!==A.nanoCDNUsed||void 0===d.adSession||!d.adSession.isAdActivated()){t.next=53;break}for(O in R=d.adSession.adParameters)A.url=i.A.addOrReplaceParam(A.url,O,encodeURIComponent(R[O]));if(void 0===_){t.next=51;break}if(!0!==_.generating||E){t.next=47;break}return t.next=47,a.A.getInstance().asyncDelayPromise(80);case 47:return t.next=49,_.getAdPalSession();case 49:void 0!==(T=t.sent)&&(A.url=i.A.addOrReplaceParam(A.url,u.A.AD_NONCE_QUERY_PARAMETER,T.getNonce()),d.adSession.adPalSession=T,T.setAdView(d.adSession.adView));case 51:return t.next=53,this.requestBkYou(A,l,d,E,T);case 53:if(void 0!==A){t.next=55;break}return t.abrupt("return",s.Sy.error(s.Sy.RESULT_NO_STREAMING_URL_FOUND));case 55:return t.abrupt("return",A);case 56:case"end":return t.stop()}}),t,this)})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))},function(e,t,r){return n.apply(this,arguments)})},{key:"requestBkM",value:function(t,n,o,a){var u=this,l=t,d=a.options;if(e.isBroadpeakDomainName(t,n.broadpeakDomainNames)&&!0===d.get(s.H1.REQUEST_BROADPEAK_CDN)||!0===d.get(s.H1.REQUEST_REDIRECT_THIRD_PARTY_CDN)){var f;l=i.A.addOrReplaceParam(l,"response","200"),l=i.A.addOrReplaceParam(l,"bk-ml","1"),"string"==typeof o&&0!==o.length&&(l=i.A.addOrReplaceParam(l,"nanocdnhost",o)),!0===d.get(s.H1.SESSION_PRECACHE)&&(l=i.A.addOrReplaceParam(l,"bk-precache","1"));var h=null;return!0===(null===(f=a.diversitySession)||void 0===f?void 0:f.activated)?h=c.A.diversityModule.DiversityRequestManager.getInstance().requestDiversitySession(t,e.CDN_REQUEST_TIMEOUT,n,a):(e.isBroadpeakDomainName(t,n.broadpeakDomainNames)?r.g.d(m,"Sending request to the BkM/umbrella: "+l,a.id):r.g.d(m,"Sending request to third party CDN: "+l,a.id),h=this.getRedirectionLocation(l,e.CDN_REQUEST_TIMEOUT,n,a)),h.then((function(i){return e.isBroadpeakDomainName(t,n.broadpeakDomainNames)?r.g.d(m,"BkM/umbrella responded with status code "+i.httpStatus,a.id):r.g.d(m,"Third party CDN responded with status code "+i.httpStatus,a.id),u.parseCDNTiming(i,a),a.sessionReport.cdnStatusCode=i.httpStatus,i.httpStatus>=200&&i.httpStatus<400?""!==i.redirectedURL?s.Sy.success(i.redirectedURL):s.Sy.error(s.Sy.RESULT_CDN_RESPONSE_UNREADABLE,u.getBkMDetailedErrorMessage(i,a)):i.httpStatus<=0?s.Sy.error(s.Sy.RESULT_CDN_RESPONSE_UNREADABLE):i.httpStatus>=400&&i.httpStatus<500?s.Sy.error(s.Sy.RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN,u.getBkMDetailedErrorMessage(i,a)):i.httpStatus>=500&&i.httpStatus<600?s.Sy.error(s.Sy.RESULT_REQUESTED_URL_CDN_ERROR,u.getBkMDetailedErrorMessage(i,a)):s.Sy.error(s.Sy.RESULT_NO_STREAMING_URL_FOUND,u.getBkMDetailedErrorMessage(i,a))})).then((function(e){return e.isError()&&(a.sessionReport.cdnStatusCode=e.getDetailedErrorCode()),e}))}return Promise.resolve(s.Sy.success(l))}},{key:"parseCDNTiming",value:function(t,n){var i=t.headers[e.HEADER_CDN_TIMING];if(void 0!==i&&"string"==typeof i){var o,a=l(i.split(";"));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.startsWith("bpkhttpserver,")){var u=s;try{var c=parseInt(s.split(",")[1],10);if(!isNaN(c))return r.g.d(m,"bpkhttpserver response timing: "+c+"ms",n.id),void(n.sessionReport.bpkhttpserverTiming=c)}catch(e){}return void r.g.e(m,"BkM/umbrella is providing a bpkhttpserver response timing but it cannot be parsed ("+u+")",n.id)}}}catch(e){a.e(e)}finally{a.f()}}r.g.d(m,"BkM/umbrella is not providing a response timing",n.id)}},{key:"getBkMDetailedErrorMessage",value:function(t,n){if(!0===t.headers.hasOwnProperty(e.HEADER_CDN_DETAILED_ERROR_CODE)){var i=t.headers[e.HEADER_CDN_DETAILED_ERROR_CODE];return r.g.d(m,"Reading detailed error code from header: "+i,n.id),i}return r.g.d(m,"Reading detailed error code from http status: "+t.httpStatus+" "+t.httpMessage,n.id),String(t.httpStatus+" "+t.httpMessage)}},{key:"requestBkYou",value:function(e,t,n,o,a){var u,c;null===(u=n.simidControllerAdapter)||void 0===u||u.attachSession(n);var l,d=void 0!==(null===(c=n.adSession)||void 0===c?void 0:c.adDataListener),f=i.A.addOrReplaceParam(e.url,"bk-ml","1.0");if(!1===n.options.get(s.H1.REQUEST_BKYOU_IF_BROADPEAK_CDN)&&o&&!d)return null===(l=n.adTrackingManager)||void 0===l||l.initBkYouSession(f,void 0,{},a,null==a?void 0:a.getNonce()),e;var h=i.A.addOrReplaceParam(e.url,"bk-ml",d?"2.0":"1.0");return this.adTracking(n,t,h,!1).then((function(t){var s,u,c;if(!(t.httpStatus>=200&&t.httpStatus<300))return r.g.d(m,"BkYou response unreadable (status code), falling back to legacy mode",n.id),null===(s=n.adTrackingManager)||void 0===s||s.notifyAdDataListener(!0),e;!o&&t.responseURL&&(r.g.d(m,"Using BkYou redirection: "+t.responseURL,n.id),e.url=t.responseURL);try{c=JSON.parse(t.content)}catch(t){var l;return r.g.d(m,"BkYou file unreadable (parsing), falling back to legacy mode",n.id),null===(l=n.adTrackingManager)||void 0===l||l.notifyAdDataListener(!0),e}var d=c.sessiontoken;if(void 0===d)return e;r.g.d(m,"BkYou session token: "+d,n.id);var h=c.playbackqueries;return Array.isArray(h)&&h.forEach((function(t){if(-1!==t.indexOf("=")){var n=t.split("=");e.url=i.A.addOrReplaceParam(e.url,n[0],n[1]),f=i.A.addOrReplaceParam(f,n[0],n[1])}})),null===(u=n.adTrackingManager)||void 0===u||u.initBkYouSession(f,d,c,a,null==a?void 0:a.getNonce()),e}))}},{key:"getRedirectionLocation",value:function(e,t,n,o){var s=this;return new Promise((function(u,c){var l=s.getHeaders(n);l.Connection="close";var d=a.A.getInstance().asyncGet(e,l,t,(function(t){var n=0,a="";void 0!==t.statusCode&&(n=parseInt(t.statusCode,10)),void 0!==t.headers&&void 0!==t.headers.location?a=t.headers.location:n>=200&&n<400&&r.g.e(m,'Location header cannot be read, please ensure "Access-Control-Expose-Headers: Location" is configured.',o.id),i.A.isValidUrl(a)&&i.A.isRelativeUrl(a)&&(r.g.i(m,"Redirected URL is relative, patching to absolute URL",o.id),a=i.A.patchRelativeUrl(a,e)),u({httpStatus:n,httpMessage:t.message,headers:t.headers,redirectedURL:a})}));o.jobs.push(d)}))}},{key:"requestSession",value:function(t,n,i,o){var u=this,c=n.sessionReport,l=c.redirectedURL,d=l.indexOf("?");d>0&&(l=l.substring(0,d)),l.endsWith("/")||(l+="/"),l+=t;var f=n.options.get(s.H1.SESSION_REPORTING_MODE),h=f===s.H1.SESSION_REPORTING_MODE_DEFAULT||f===s.H1.SESSION_REPORTING_MODE_KEEPALIVE_TEARDOWN;return!0===h?(l+="?",void 0!==c.timeline&&c.gdpr!==s.H1.GDPR_DELETE&&(l+=e.TEARDOWN_TIMELINE_QUERY+c.timeline.data().base64()+"&"),l+=e.TEARDOWN_METRICS_QUERY+c.toQuery(),!0===n.isPrecached()&&(l+="&precache="+(!0===n.sessionReport.precacheEnded?0:1)),r.g.i(m,"Sending session request using method "+o+" with metrics to "+l,n.id)):r.g.i(m,"Sending session request using method "+o+" without metrics to "+l,n.id),new Promise((function(s,d){var f=u.getHeaders(i),v=function(e){r.g.i(m,"Send session request ends with status code: "+e.statusCode,n.id);var a="";void 0!==e.body&&(a=e.body),"POST"===o&&(e.statusCode<200||e.statusCode>=300)?u.requestSession(t,n,i,"GET").then((function(e){s({httpStatus:e.httpStatus,body:e.body,method:"GET"})})):s({httpStatus:e.statusCode,body:a,method:o})};if("GET"===o)a.A.getInstance().asyncGet(l,f,e.BKS_REQUEST_TIMEOUT,v);else if("POST"===o){f["Content-Type"]="application/json";var p="";!0===h&&(p=JSON.stringify({Player:c.toEndSessionJSON()})),r.g.v(m,"Executing POST request with body: "+p),a.A.getInstance().asyncPost(l,f,p,e.BKS_REQUEST_TIMEOUT,v)}}))}},{key:"keepalive",value:function(t,n,r){return this.requestSession(e.KEEPALIVE_PATH,t,n,r)}},{key:"teardown",value:function(t,n,r){var i=e.TEARDOWN_PATH+t.sessionReport.statusCode;return this.requestSession(i,t,n,r)}},{key:"adEvent",value:function(e,t){var n=this.getHeaders(),i=e.options.get(s.H1.USERAGENT_AD_EVENT);void 0!==i&&(n["User-Agent"]=i),a.A.getInstance().asyncGet(t,n,2e4,(function(t){r.g.i(m,"Ad event request ends with status code: "+t.statusCode,e.id)}))}},{key:"adTracking",value:function(t,n,i){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.g.d(m,"Sending request to the BkYou (async:"+s+"): "+i,t.id),new Promise((function(n,u){var c=o.getHeaders();if(!1===s){var l=a.A.getInstance().asyncGet(i,c,e.BKS_REQUEST_TIMEOUT,(function(e){r.g.d(m,"BkYou responded with status code "+e.statusCode,t.id),n({httpStatus:e.statusCode,content:e.body,responseURL:e.responseURL})}));t.jobs.push(l)}else a.A.getInstance().asyncGet(i,c,e.BKS_REQUEST_TIMEOUT,(function(e){r.g.d(m,"BkYou responded with status code "+e.statusCode,t.id),n({httpStatus:e.statusCode,content:e.body,responseURL:e.responseURL})}))}))}}],[{key:"getInstance",value:function(){return A._||(A._=new e),A._}},{key:"isBroadpeakDomainName",value:function(e,t){if(null===t||""===t)return!1;if("*"===t)return!0;var n=i.A.parseURL(e);return null!==n&&null!==n.hostname&&t.split(",").indexOf(n.hostname)>=0}}]);var t,n}();v(_,"TEARDOWN_PATH","teardown/"),v(_,"TEARDOWN_METRICS_QUERY","metrics="),v(_,"TEARDOWN_TIMELINE_QUERY","metricsTL="),v(_,"KEEPALIVE_PATH","keepalive"),v(_,"QUERY_PARAMETER_SESSION_ID","bk-session_id"),v(_,"QUERY_PARAMETER_SESSION_CREATED","bk-session"),v(_,"HEADER_CDN_DETAILED_ERROR_CODE","x-bpk-error"),v(_,"HEADER_CDN_TIMING","x-bpk-timing"),v(_,"CDN_REQUEST_TIMEOUT",2e4),v(_,"BKS_REQUEST_TIMEOUT",5e3),v(_,"KEEPALIVE_REQUEST_INTERVAL",5e3);var A={_:void 0}},2953:function(e,t,n){var r=n(4576),i=n(7400),o=n(9296),a=n(3792),s=n(6699),u=n(687),c=n(8227)("iterator"),l=a.values,d=function(e,t){if(e){if(e[c]!==l)try{s(e,c,l)}catch(t){e[c]=l}if(u(e,t,!0),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")},2967:function(e,t,n){var r=n(6706),i=n(34),o=n(7750),a=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),a(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},3110:function(e,t,n){var r=n(6518),i=n(7751),o=n(8745),a=n(9565),s=n(9504),u=n(9039),c=n(4901),l=n(757),d=n(7680),f=n(6933),h=n(4495),v=String,p=i("JSON","stringify"),y=s(/./.exec),g=s("".charAt),E=s("".charCodeAt),S=s("".replace),m=s(1..toString),b=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,N=!h||u((function(){var e=i("Symbol")("stringify detection");return"[null]"!==p([e])||"{}"!==p({a:e})||"{}"!==p(Object(e))})),R=u((function(){return'"\\udf06\\ud834"'!==p("\udf06\ud834")||'"\\udead"'!==p("\udead")})),O=function(e,t){var n=d(arguments),r=f(t);if(c(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(c(r)&&(t=a(r,this,v(e),t)),!l(t))return t},o(p,null,n)},T=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return y(_,e)&&!y(A,i)||y(A,e)&&!y(_,r)?"\\u"+m(E(e,0),16):e};p&&r({target:"JSON",stat:!0,arity:3,forced:N||R},{stringify:function(e,t,n){var r=d(arguments),i=o(N?O:p,null,r);return R&&"string"==typeof i?S(i,b,T):i}})},3138:function(e){e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},3167:function(e,t,n){var r=n(4901),i=n(34),o=n(2967);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},3179:function(e,t,n){var r=n(2140),i=n(6955);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},3299:function(e,t,n){n.d(t,{A:function(){return s}});n(2675),n(9463),n(2259),n(5700),n(8706),n(5276),n(3792),n(8921),n(4782),n(9572),n(2892),n(6099),n(4864),n(7495),n(7745),n(8781),n(7764),n(1761),n(5440),n(1392),n(2953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var s=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"parseURL",value:function(e){if(!this.isValidUrl(e))return null;var t=e.match("^(https?)\\:\\/\\/(([^:\\/?#]*)(?:\\:([0-9]+))?)([\\/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$"),n=t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],path:t[5],query:t[6],hash:t[7]};return null!==n&&null!==n.query&&n.query.length>0&&(n.query=n.query.substring(1)),n}},{key:"getParam",value:function(e,t){if(!this.isValidUrl(e))return"";t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n&&n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):""}},{key:"addOrReplaceParam",value:function(e,t,n){var r=e.indexOf("?"+t+"=");if(r<0&&(r=e.indexOf("&"+t+"=")),r>=0){var i=e.substring(0,e.indexOf(t)),o=e.substring(e.indexOf(t));return i+t+"="+n+(o=o.indexOf("&")>=0?o.substring(o.indexOf("&")):"")}return(e.indexOf("?")<0?e+"?":e+"&")+t+"="+n}},{key:"extractHostnamePort",value:function(e){return this.isValidUrl(e)?(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split("?")[0]:""}},{key:"extractProtocol",value:function(e){return this.isValidUrl(e)?e.split("://")[0]:""}},{key:"isValidUrl",value:function(e){return null!==e&&""!==e&&void 0!==e}},{key:"isRelativeUrl",value:function(e){return e.startsWith("/")||e.startsWith("../")}},{key:"patchRelativeUrl",value:function(e,t){var n=this.parseURL(t),r=n.path;if(e.startsWith("../")){r=r.slice(0,r.lastIndexOf("/")+1)+e;var i=[];r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?i.pop():i.push(e)})),r=i.join("").replace(/^\//,"/")}else r=e;return n.protocol+"://"+n.host+r}},{key:"replaceHostnameAndPort",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e.replace(/^(https?:\/\/)([^:/]+)(:\d+)?/,(function(e,r,i,o){return"".concat(r).concat(t).concat(n?":".concat(n):"")}))}}],(t=null)&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();o(s,"REGEX_IP","^(?:[0-9]{1,3}\\.){3}[0-9]{1,3}(:[0-9]+)?$"),o(s,"REGEX_HOSTNAME","^([A-Za-z0-9\\_\\-\\.]+)(:[0-9]+)?$"),o(s,"REGEX_TICKET","^[0-5a-z]{30,50}$"),o(s,"REGEX_TICKET_TRANSCODED","^.*@[0-5a-z]{30,50}$")},3362:function(e,t,n){n(436),n(6499),n(2003),n(7743),n(1481),n(280)},3389:function(e,t,n){var r=n(4576),i=n(3724),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=o(r,e);return t&&t.value}},3392:function(e,t,n){var r=n(9504),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3418:function(e,t,n){var r=n(6518),i=n(7916);r({target:"Array",stat:!0,forced:!n(4428)((function(e){Array.from(e)}))},{from:i})},3419:function(e,t){t.A="05.02.02.72666a9"},3438:function(e,t,n){var r=n(8551),i=n(34),o=n(6043);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},3451:function(e,t,n){var r=n(6518),i=n(9504),o=n(421),a=n(34),s=n(9297),u=n(4913).f,c=n(8480),l=n(298),d=n(4124),f=n(3392),h=n(2744),v=!1,p=f("meta"),y=0,g=function(e){u(e,p,{value:{objectID:"O"+y++,weakData:{}}})},E=e.exports={enable:function(){E.enable=function(){},v=!0;var e=c.f,t=i([].splice),n={};n[p]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===p){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,p)){if(!d(e))return"F";if(!t)return"E";g(e)}return e[p].objectID},getWeakData:function(e,t){if(!s(e,p)){if(!d(e))return!0;if(!t)return!1;g(e)}return e[p].weakData},onFreeze:function(e){return h&&v&&d(e)&&!s(e,p)&&g(e),e}};o[p]=!0},3500:function(e,t,n){var r=n(4576),i=n(7400),o=n(9296),a=n(235),s=n(6699),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},3506:function(e,t,n){var r=n(3925),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},3517:function(e,t,n){var r=n(9504),i=n(9039),o=n(4901),a=n(6955),s=n(7751),u=n(3706),c=function(){},l=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),h=!d.test(c),v=function(e){if(!o(e))return!1;try{return l(c,[],e),!0}catch(e){return!1}},p=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!f(d,u(e))}catch(e){return!0}};p.sham=!0,e.exports=!l||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?p:v},3557:function(e,t,n){n.d(t,{A:function(){return Oe}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(9085),n(6099),n(7764),n(3772),n(2953);var r=n(8636);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var s=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"log",value:function(e,t,n){var i=r.Em.formatDate();switch(e){case 0:console.log(i+" V/"+t+": "+n);break;case 1:console.log(i+" D/"+t+": "+n);break;case 2:console.log(i+" I/"+t+": "+n);break;case 3:console.log(i+" W/"+t+": "+n);break;case 4:console.log(i+" E/"+t+": "+n);break;default:console.log(i+" ?/"+t+": "+n)}}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();n(7495),n(744),n(2762),n(8992),n(3949),n(3500);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var d="BpkRequestHandler",f=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"get",value:function(e,t,n,i){var o=new XMLHttpRequest,a=!1,s={};for(var u in o.onreadystatechange=function(){if(o.readyState===o.DONE){var e,t=null===(e=o.getAllResponseHeaders())||void 0===e?void 0:e.trim().split(/[\r\n]+/);null==t||t.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase();s[n]=t.join(": ")})),o.status>=200&&o.status<300?i({body:o.responseText,headers:s,statusCode:o.status,message:o.statusText,responseURL:o.responseURL}):0!==o.status&&i({body:"",headers:s,statusCode:o.status,message:o.statusText})}},o.onerror=function(){a||(o.status<=0&&r.gD.e(d,"Request ended with error (CORS error, connection error...)"),i({body:"",headers:s,statusCode:o.status,message:o.statusText}))},o.ontimeout=function(){r.gD.d(d,"Request ended with timeout (xhr)"),i({body:"",headers:s,statusCode:o.status,message:o.statusText})},o.open("GET",e,!0),o.timeout=n,this.deleteUnsafeHeaders(t),t)o.setRequestHeader(u,t[u]);o.send(),setTimeout((function(){o.readyState!==o.DONE&&(a=!0,o.abort(),r.gD.d(d,"Request ended with timeout (setTimeout)"),i({body:"",headers:s,statusCode:o.status,message:o.statusText}))}),n+100)}},{key:"post",value:function(e,t,n,i,o){var a=new XMLHttpRequest,s=!1,u={};for(var c in a.onreadystatechange=function(){if(a.readyState===a.DONE){var e,t=null===(e=a.getAllResponseHeaders())||void 0===e?void 0:e.trim().split(/[\r\n]+/);null==t||t.forEach((function(e){var t=e.split(": "),n=t.shift().toLowerCase();u[n]=t.join(": ")})),a.status>=200&&a.status<300?o({body:a.responseText,headers:u,statusCode:a.status,message:a.statusText,responseURL:a.responseURL}):0!==a.status&&o({body:"",headers:u,statusCode:a.status,message:a.statusText})}},a.onerror=function(){s||(a.status<=0&&r.gD.e(d,"Request ended with error (CORS error, connection error...)"),o({body:"",headers:u,statusCode:a.status,message:a.statusText}))},a.ontimeout=function(){r.gD.d(d,"Request ended with timeout (xhr)"),o({body:"",headers:u,statusCode:a.status,message:a.statusText})},a.open("POST",e,!0),a.timeout=i,this.deleteUnsafeHeaders(t),t)a.setRequestHeader(c,t[c]);a.send(n),setTimeout((function(){a.readyState!==a.DONE&&(s=!0,a.abort(),r.gD.d(d,"Request ended with timeout (setTimeout)"),o({body:"",headers:u,statusCode:a.status,message:a.statusText}))}),i+100)}},{key:"deleteUnsafeHeaders",value:function(e){"object"!==("undefined"==typeof window?"undefined":u(window))&&"function"!=typeof XMLHttpRequest||(delete e["User-Agent"],delete e["Accept-Charset"],delete e["Accept-Encoding"],delete e["Access-Control-Request-Headers"],delete e["Access-Control-Request-Method"],delete e.Connection,delete e["Content-Length"],delete e.Cookie,delete e.Cookie2,delete e.Date,delete e.DNT,delete e.Expect,delete e.Host,delete e["Keep-Alive"],delete e.Origin,delete e.Referer,delete e.TE,delete e.Trailer,delete e["Transfer-Encoding"],delete e.Upgrade,delete e.Via)}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),h=n(7270);n(5440);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function y(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var E="BpkBrowserAppStateMgr",S=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"initialized",void 0),y(this,"listeners",void 0)},(t=[{key:"init",value:function(){r.gD.d(E,"Initializing browser app state manager..."),this.initialized||(r.CE.getInstance().setDeviceInfo(this.getOSName(),this.getOSVersion(),this.getDeviceType()),r.CE.getInstance().bind(),this.listeners={},"undefined"!=typeof window&&void 0===window.addEventListener&&r.gD.w(E,"Are you running a React Native app? If yes, please import module '@broadpeak/smartlib-react-native'"),this.registerNetworkObserver(),this.initialized=!0)}},{key:"getOSName",value:function(){return"undefined"!=typeof device&&void 0!==device.platform?device.platform:"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.platform?window.navigator.platform:"NA"}},{key:"getOSVersion",value:function(){var e;"undefined"!=typeof device&&void 0!==device.version?e=device.version:"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.appVersion&&(e=window.navigator.appVersion),void 0===e&&(e="");var t=e.replace(/ /g,"_").replace(/;/g,"_");return t.length>=30?t.substring(0,30):0===t.length?"NA":t}},{key:"getDeviceType",value:function(){return"undefined"!=typeof cast&&void 0!==cast.receiver?"chromecast":"browser"}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"registerNetworkObserver",value:function(){this.listeners[0]=this.onNetworkOnline.bind(this),this.listeners[1]=this.onNetworkOffline.bind(this),"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.onLine&&(!0===window.navigator.onLine?r.CE.getInstance().notifyNetworkAvailable(1):r.CE.getInstance().notifyNetworkLost()),window.addEventListener("online",this.listeners[0]),window.addEventListener("offline",this.listeners[1])}},{key:"unregisterNetworkObserver",value:function(){window.removeEventListener("online",this.listeners[0]),window.removeEventListener("offline",this.listeners[1]),this.listeners[0]=void 0,this.listeners[1]=void 0}},{key:"onNetworkOnline",value:function(){r.CE.getInstance().notifyNetworkAvailable(1)}},{key:"onNetworkOffline",value:function(){r.CE.getInstance().notifyNetworkLost()}},{key:"registerLifecycleEvents",value:function(){this.listeners[2]=this.onMoveToForeground.bind(this),this.listeners[3]=this.onMoveToBackground.bind(this),window.addEventListener("focus",this.listeners[2]),window.addEventListener("blur",this.listeners[3])}},{key:"unregisterLifecycleEvents",value:function(){window.removeEventListener("focus",this.listeners[2]),window.removeEventListener("blur",this.listeners[3]),this.listeners[2]=void 0,this.listeners[3]=void 0}},{key:"onMoveToForeground",value:function(){r.CE.getInstance().notifyForeground()}},{key:"onMoveToBackground",value:function(){r.CE.getInstance().notifyBackground()}}])&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();n(3110),n(1392);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function _(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var N="BpkWebOSAppStateMgr",R=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"initialized",void 0),_(this,"subscriptionHandle",void 0),_(this,"webOSVersion",void 0)},(t=[{key:"init",value:function(){var e=this;r.gD.d(N,"Initializing webOS app state manager..."),this.initialized||(this.webOSVersion="",webOS.deviceInfo((function(t){e.webOSVersion=t.sdkVersion,void 0!==e.webOSVersion?(r.gD.d(N,"Receiving sdk version through deviceInfo: "+e.webOSVersion),e.registerNetworkObserver(),r.CE.getInstance().setDeviceInfo("webOS",e.webOSVersion,"tv"),r.CE.getInstance().bind()):webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion"]},onSuccess:function(t){void 0!==t.sdkVersion&&(e.webOSVersion=t.sdkVersion,r.gD.d(N,"Receiving sdk version through luna API: "+e.webOSVersion),e.registerNetworkObserver(),r.CE.getInstance().setDeviceInfo("webOS",e.webOSVersion,"tv"),r.CE.getInstance().bind())},onFailure:function(e){r.gD.d(N,"Error while receiving webOS version ("+JSON.stringify(e)+")")}})})),this.initialized=!0)}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"updateNetworkState",value:function(e){var t,n,i="yes"===(null===(t=e.wifi)||void 0===t?void 0:t.onInternet);!0==("yes"===(null===(n=e.wired)||void 0===n?void 0:n.onInternet))?r.CE.getInstance().notifyNetworkAvailable(30):!0===i?r.CE.getInstance().notifyNetworkAvailable(10):r.CE.getInstance().notifyNetworkLost()}},{key:"registerNetworkObserver",value:function(){var e=this.webOSVersion.startsWith("3")?"luna://com.webos.service.connectionmanager":"luna://com.palm.connectionmanager",t=this;webOS.service.request(e,{method:"getStatus",onSuccess:function(e){t.updateNetworkState(e)},onFailure:function(e){r.gD.e(N,"Failed to get network state"),r.gD.e(N,"["+e.errorCode+"]: "+e.errorText)}}),this.subscriptionHandle=webOS.service.request(e,{method:"getStatus",parameters:{subscribe:!0},onSuccess:function(e){void 0===e.subscribed||e.subscribed?t.updateNetworkState(e):r.gD.e(N,"Failed to subscribe network state")},onFailure:function(e){r.gD.e(N,"Failed to get network state"),r.gD.e(N,"["+e.errorCode+"]: "+e.errorText)}})}},{key:"unregisterNetworkObserver",value:function(){void 0!==this.subscriptionHandle&&(this.subscriptionHandle.cancel(),this.subscriptionHandle=void 0)}}])&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function w(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}var D="BpkTizenAppStateMgr",k=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"initialized",void 0),w(this,"networkInitializer",void 0),w(this,"networkInitializerNumber",void 0),w(this,"listeners",void 0)},t=[{key:"init",value:function(){r.gD.d(D,"Initializing tizen app state manager..."),this.initialized||(r.CE.getInstance().setDeviceInfo("Tizen",this.getOSVersion(),"tv"),r.CE.getInstance().bind(),this.listeners={},this.startNetworkInitializer(),this.initialized=!0)}},{key:"getOSVersion",value:function(){return"undefined"!=typeof tizen&&void 0!==tizen.systeminfo?tizen.systeminfo.getCapability("http://tizen.org/feature/platform.version"):"NA"}},{key:"release",value:function(){this.initialized&&(this.unregisterNetworkObserver(),this.initialized=!1)}},{key:"onNetworkChange",value:function(e){var t=null;try{t=webapis.network.getActiveConnectionType()}catch(e){r.gD.e(D,"getActiveConnectionType exception ["+e.code+"] message: "+e.message)}if(null!=t){switch(t){case webapis.network.NetworkActiveConnectionType.DISCONNECTED:r.CE.getInstance().notifyNetworkLost();break;case webapis.network.NetworkActiveConnectionType.WIFI:r.CE.getInstance().notifyNetworkAvailable(10);break;case webapis.network.NetworkActiveConnectionType.ETHERNET:r.CE.getInstance().notifyNetworkAvailable(30)}r.gD.d(D,"Active connection type: "+t)}}},{key:"startNetworkInitializer",value:function(){var e=this;void 0!==this.networkInitializer&&clearInterval(this.networkInitializer),this.networkInitializerNumber=0,this.networkInitializer=setInterval((function(){void 0!==webapis.network?(r.gD.d(D,"Network API is now available"),clearInterval(e.networkInitializer),e.networkInitializer=void 0,e.registerNetworkObserver()):e.networkInitializerNumber>30?(r.gD.e(D,"The webapis.js script is required in order to get the network type."),clearInterval(e.networkInitializer),e.networkInitializer=void 0):e.networkInitializerNumber++}),100)}},{key:"registerNetworkObserver",value:function(){void 0===webapis.network&&r.gD.e(D,"The webapis.js script is required in order to get the network type."),this.onNetworkChange(void 0);try{this.listeners[0]=webapis.network.addNetworkStateChangeListener(this.onNetworkChange)}catch(e){r.gD.e(D,"addNetworkStateChangeListener exception ["+e.code+"] name: "+e.name+" message: "+e.message)}}},{key:"unregisterNetworkObserver",value:function(){try{webapis.network.removeNetworkStateChangeListener(this.listeners[0])}catch(e){r.gD.e(D,"removeNetworkStateChangeListener exception ["+e.code+"] name: "+e.name+" message: "+e.message)}this.listeners[0]=void 0}}],t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();n(875),n(825);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function C(e,t,n){return t=U(t),function(e,t){if(t&&("object"==P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],U(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function j(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}var B=function(e){function t(e){var n,r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=C(this,t),r=n,o=void 0,(i=j(i="nonceManager"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,n.nonceManager=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(t,e),n=t,r=[{key:"getNonce",value:function(){return this.nonceManager.getNonce()}},{key:"sendAdClick",value:function(){"function"==typeof this.nonceManager.sendAdClick&&this.nonceManager.sendAdClick()}},{key:"sendAdImpression",value:function(){"function"==typeof this.nonceManager.sendAdImpression&&this.nonceManager.sendAdImpression()}},{key:"sendPlaybackStart",value:function(){"function"==typeof this.nonceManager.sendPlaybackStart&&this.nonceManager.sendPlaybackStart()}},{key:"sendPlaybackEnd",value:function(){"function"==typeof this.nonceManager.sendPlaybackEnd&&this.nonceManager.sendPlaybackEnd()}},{key:"sendTouch",value:function(e){"function"==typeof this.nonceManager.sendAdTouch&&this.nonceManager.sendAdTouch(e)}}],r&&M(n.prototype,r),i&&M(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.r2);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,K(r.key),r)}}function F(e,t,n){return t=W(t),function(e,t){if(t&&("object"==V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,G()?Reflect.construct(t,n||[],W(e).constructor):t.apply(e,n))}function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function Y(e,t,n){return(t=K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}var Q="BpkBrowserAdPalManager",z=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y(e=F(this,t),"palSDK",void 0),Y(e,"consentSettings",void 0),Y(e,"nonceLoader",void 0),Y(e,"descriptionURL",void 0),Y(e,"partnerName",void 0),Y(e,"partnerVersion",void 0),Y(e,"omidVersion",void 0),Y(e,"playerType",void 0),Y(e,"playerVersion",void 0),Y(e,"ppid",void 0),Y(e,"videoPlayerHeight",void 0),Y(e,"videoPlayerWidth",void 0),Y(e,"willAdAutoPlay",void 0),Y(e,"willAdPlayMuted",void 0),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(t,e),n=t,(i=[{key:"loadPALSDK",value:function(){this.palSDK=r.X2.getInstance().palSDK}},{key:"setConsentSettings",value:function(e){this.loadPALSDK(),void 0!==this.palSDK?(this.consentSettings=e,this.nonceLoader=new this.palSDK.pal.NonceLoader(e)):r.gD.e(Q,"PAL SDK not attached, please set it through AdManager.getInstance().attachPALSDK(...)")}},{key:"generateAdPalSession",value:function(e){if(void 0===this.nonceLoader||void 0===this.consentSettings)return r.gD.e(Q,"Cannot generate a nonce, please set a ConsentSettings through AdManager.getInstance().setConsentSettings(...)"),void e(void 0);var t=new this.palSDK.pal.NonceRequest;void 0!==this.descriptionURL&&(t.descriptionUrl=this.descriptionURL),void 0!==this.partnerName&&(t.omidPartnerName=this.partnerName),void 0!==this.partnerVersion&&(t.omidPartnerVersion=this.partnerVersion),void 0!==this.omidVersion&&(t.omidVersion=this.omidVersion),void 0!==this.playerType&&(t.playerType=this.playerType),void 0!==this.playerVersion&&(t.playerVersion=this.playerVersion),void 0!==this.ppid&&(t.ppid=this.ppid),void 0!==this.videoPlayerHeight&&(t.videoHeight=this.videoPlayerHeight),void 0!==this.videoPlayerWidth&&(t.videoWidth=this.videoPlayerWidth),void 0!==this.willAdAutoPlay&&(t.adWillAutoPlay=this.willAdAutoPlay),void 0!==this.willAdPlayMuted&&(t.adWillPlayMuted=this.willAdPlayMuted),this.nonceLoader.loadNonceManager(t).then((function(t){var n=new B(t);e(n)})).catch((function(t){r.gD.e(Q,"Error when generating the nonce"),console.log(t),e(void 0)}))}},{key:"reset",value:function(){}},{key:"release",value:function(){this.consentSettings=void 0,this.nonceLoader=void 0}},{key:"setDescriptionURL",value:function(e){this.descriptionURL=e}},{key:"setOmidPartner",value:function(e,t){this.partnerName=e,this.partnerVersion=t}},{key:"setOmidVersion",value:function(e){this.omidVersion=e}},{key:"setPlayerType",value:function(e){this.playerType=e}},{key:"setPlayerVersion",value:function(e){this.playerVersion=e}},{key:"setPpid",value:function(e){this.ppid=e}},{key:"setVideoPlayerHeight",value:function(e){this.videoPlayerHeight=e}},{key:"setVideoPlayerWidth",value:function(e){this.videoPlayerWidth=e}},{key:"setWillAdAutoPlay",value:function(e){this.willAdAutoPlay=e}},{key:"setWillAdPlayMuted",value:function(e){this.willAdPlayMuted=e}}])&&H(n.prototype,i),o&&H(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,o}(r.GM);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function J(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}var Z=function(){return e=function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r=void 0,(n=J(n="initialized"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r},(t=[{key:"init",value:function(){r.gD.d("BpkNodeAppStateMgr","Initializing Node.js app state manager..."),this.initialized||(r.CE.getInstance().setDeviceInfo(this.getOSName(),this.getOSVersion(),this.getDeviceType()),r.CE.getInstance().bind(),this.initialized=!0)}},{key:"getOSName",value:function(){return"undefined"!=typeof process?process.platform:"NA"}},{key:"getOSVersion",value:function(){var e=(0,h.t)("os");return void 0!==e?e.release():"NA"}},{key:"getDeviceType",value:function(){return"nodejs"}},{key:"release",value:function(){this.initialized&&(this.initialized=!1)}}])&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ie(r.key),r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function re(e,t,n){return(t=ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ee(t)?t:t+""}var oe=ne((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function ue(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function ce(e,t,n){return(t=le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ae(t)?t:t+""}function de(e,t){return e.get(he(e,t))}function fe(e,t,n){return e.set(he(e,t),n),n}function he(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}re(oe,"CLICK","click"),re(oe,"INVITATION_ACCEPTED","invitationAccept");var ve="BpkCoreEngine",pe=new WeakMap,ye=new WeakMap,ge=new WeakMap,Ee=new WeakMap,Se=new WeakMap,me=new WeakMap,be=new WeakMap,_e=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,Re=new WeakMap,Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ue(this,pe,void 0),ue(this,ye,void 0),ue(this,ge,void 0),ue(this,Ee,void 0),ue(this,Se,void 0),ue(this,me,void 0),ue(this,be,void 0),ue(this,_e,void 0),ue(this,Ae,void 0),ue(this,Ne,void 0),ue(this,Re,void 0),fe(pe,this,!1),fe(ye,this,void 0),fe(ge,this,new s)}return t=e,o=[{key:"getInstance",value:function(){return Te._||(Te._=new e),Te._}}],(i=[{key:"init",value:function(){if(!de(pe,this)){fe(pe,this,!0);var e=Date.now();this.log(r.$b.VERBOSE,ve,"Loading engine..."),this.log(r.$b.VERBOSE,ve,"Version: 66cccb4"),this.registerSystemFunctions(),"object"===("undefined"==typeof window?"undefined":ae(window))?this.registerSmartLibFunctions(window):(this.registerSmartLibFunctions(),"undefined"==typeof XMLHttpRequest&&(n.g.XMLHttpRequest=(0,h.t)("xmlhttprequest").XMLHttpRequest)),this.log(r.$b.VERBOSE,ve,"Took "+(Date.now()-e)+"ms to load")}}},{key:"registerSystemFunctions",value:function(){this.log(r.$b.VERBOSE,ve,"Registering system functions..."),r.gD.getInstance().init(de(ge,this)),r.Je.getInstance().init(new f),r.x6.getInstance().internalAdManager.setPalManager(new z)}},{key:"registerPlayerAdapters",value:function(){void 0!==e.analyticsModule&&(fe(Ee,this,new e.analyticsModule.PlayerManagerHandler),"object"===("undefined"==typeof window?"undefined":ae(window))&&(window.PlayerEventListener=e.analyticsModule.PlayerEventListener,window.GenericPlayerApi=e.analyticsModule.GenericPlayerApi))}},{key:"registerSimidControllerAdapters",value:function(){"object"===("undefined"==typeof window?"undefined":ae(window))&&(window.GenericSimidControllerApi=e.simidModule.GenericSimidControllerApi)}},{key:"loadModules",value:function(){"object"===("undefined"==typeof window?"undefined":ae(window))?(r.x6.analyticsModule=this.getBrowserModule("analyticsSmartLibModule","Analytics",r.x6.analyticsModule),r.x6.adModule=this.getBrowserModule("adSmartLibModule","Ad",r.x6.adModule),r.x6.nanoCDNModule=this.getBrowserModule("nanocdnSmartLibModule","nanoCDN",r.x6.nanoCDNModule),r.x6.diversityModule=this.getBrowserModule("diversitySmartLibModule","Diversity",r.x6.diversityModule),r.x6.monitoringModule=this.getBrowserModule("monitoringSmartLibModule","Monitoring",r.x6.monitoringModule),e.reactNativeModule=this.getBrowserModule("reactnativeSmartLibModule","React Native",e.reactNativeModule),e.omsdkModule=this.getBrowserModule("omsdkModuleSmartLibModule","OMSDK",e.omsdkModule),void 0!==e.omsdkModule&&(window.OMSDKHandler=e.omsdkModule.OMSDKHandler),e.simidModule=this.getBrowserModule("simidSmartLibModule","SIMID",e.simidModule),e.shakaModule=this.getBrowserModule("shakaSmartLibModule","Shaka Player",e.shakaModule),void 0!==e.shakaModule&&(window.ShakaPlayerAdapter=e.shakaModule.ShakaPlayerAdapter),e.dashjsModule=this.getBrowserModule("dashjsSmartLibModule","Dash.js",e.dashjsModule),void 0!==e.dashjsModule&&(window.DashJsPlayerAdapter=e.dashjsModule.DashJsPlayerAdapter),e.html5Module=this.getBrowserModule("html5SmartLibModule","HTML5 player",e.html5Module),e.avplayModule=this.getBrowserModule("avplaySmartLibModule","AVPlay",e.avplayModule),e.diw387Module=this.getBrowserModule("diw387SmartLibModule","Sagemcom",e.diw387Module),e.hbbtv1Module=this.getBrowserModule("hbbtv1SmartLibModule","HbbTV1",e.hbbtv1Module),e.kalturaModule=this.getBrowserModule("kalturaSmartLibModule","Kaltura",e.kalturaModule),e.connectplayerModule=this.getBrowserModule("connectplayerSmartLibModule","CONNECT Player",e.connectplayerModule),void 0!==e.connectplayerModule&&(window.ConnectPlayerAdapter=e.connectplayerModule.ConnectPlayerAdapter),e.rxplayerModule=this.getBrowserModule("rxplayerSmartLibModule","RxPlayer",e.rxplayerModule),e.hlsjsModule=this.getBrowserModule("hlsjsModule","HLS.js",e.hlsjsModule),e.bitmovinModule=this.getBrowserModule("bitmovinModule","Bitmovin",e.bitmovinModule),e.theoplayerModule=this.getBrowserModule("theoplayerModule","THEOplayer",e.theoplayerModule),void 0!==e.theoplayerModule&&(window.THEOPlayerAdapter=e.theoplayerModule.THEOPlayerAdapter),e.videojsModule=this.getBrowserModule("videojsSmartLibModule","Video.js",e.videojsModule),void 0!==e.videojsModule&&(window.VideoJsPlayerAdapter=e.videojsModule.VideoJsPlayerAdapter),e.voplayerModule=this.getBrowserModule("voplayerModule","VOPlayer",e.voplayerModule),e.reactnativeconnectplayerModule=this.getBrowserModule("reactnativeconnectplayerModule","React Native CONNECT Player",e.reactnativeconnectplayerModule),e.reactnativetheoplayerModule=this.getBrowserModule("reactnativetheoplayerModule","React Native THEOplayer",e.reactnativetheoplayerModule),e.chromecastModule=this.getBrowserModule("chromecastModule","Chromecast",e.chromecastModule)):!0===e.modular&&(r.x6.analyticsModule=this.getNodeModule("analytics","Analytics"),r.x6.adModule=this.getNodeModule("ad","Ad"),r.x6.nanoCDNModule=this.getNodeModule("nanocdn","nanoCDN"),r.x6.diversityModule=this.getNodeModule("diversity","Diversity"),r.x6.monitoringModule=this.getNodeModule("monitoring","Monitoring"),e.reactNativeModule=this.getNodeModule("reactnative","React Native"),e.omsdkModule=this.getNodeModule("omsdkModule","OMSDK"),e.simidModule=this.getNodeModule("simid","SIMID"),e.shakaModule=this.getNodeModule("shaka","Shaka Player"),e.dashjsModule=this.getNodeModule("dashjs","Dash.js"),e.html5Module=this.getNodeModule("html5","HTML5 player"),e.avplayModule=this.getNodeModule("avplay","AVPlay"),e.diw387Module=this.getNodeModule("diw387","Sagemcom"),e.hbbtv1Module=this.getNodeModule("hbbtv1","HbbTV1"),e.kalturaModule=this.getNodeModule("kaltura","Kaltura"),e.connectplayerModule=this.getNodeModule("connectplayer","CONNECT Player"),e.rxplayerModule=this.getNodeModule("rxplayer","RxPlayer"),e.hlsjsModule=this.getNodeModule("hlsjs","HLS.js"),e.bitmovinModule=this.getNodeModule("bitmovin","Bitmovin"),e.theoplayerModule=this.getNodeModule("theoplayer","THEOplayer"),e.videojsModule=this.getNodeModule("videojs","Video.js"),e.voplayerModule=this.getNodeModule("voplayer","VOPlayer"),e.reactnativeconnectplayerModule=this.getNodeModule("reactnativeconnectplayer","React Native CONNECT Player"),e.reactnativetheoplayerModule=this.getNodeModule("reactnativetheoplayer","React Native THEOplayer"),e.chromecastModule=this.getNodeModule("chromecast","Chromecast")),void 0!==de(ye,this)&&void 0!==r.x6.monitoringModule&&(de(ye,this).RealTimeMonitoringManager=r.x6.monitoringModule.RealTimeMonitoringManager)}},{key:"getBrowserModule",value:function(e,t,n){if(void 0!==n)return r.gD.i(ve,t+" module loaded (from index)"),n;r.gD.i(ve,t+" module not loaded")}},{key:"getNodeModule",value:function(e,t){try{var n=(0,h.C)("@broadpeak/smartlib-"+e);return r.gD.i(ve,t+" module loaded"),n}catch(n){try{var i=(0,h.t)("./"+e+".smartlib.browser");return r.gD.i(ve,t+" module loaded"),i}catch(e){r.gD.i(ve,t+" module not loaded")}}}},{key:"registerSmartLibFunctions",value:function(t){var n=this;fe(ye,this,t);var i,o,a,s=function(){var t,i;"undefined"!=typeof webOS?(void 0===de(_e,n)&&fe(_e,n,new R),de(_e,n).init()):"undefined"!=typeof tizen&&"undefined"!=typeof webapis?(void 0===de(Ae,n)&&fe(Ae,n,new k),de(Ae,n).init()):"undefined"!=typeof sagem||(void 0!==(null===(t=e.reactNativeModule)||void 0===t?void 0:t.ReactNativeAppStateManager.platform)?(void 0===de(Re,n)&&fe(Re,n,new e.reactNativeModule.ReactNativeAppStateManager),de(Re,n).init()):"undefined"!=typeof window?(void 0===de(be,n)&&fe(be,n,new S),de(be,n).init()):"undefined"!=typeof process&&"node"===process.release.name&&(void 0===de(Ne,n)&&fe(Ne,n,new Z),de(Ne,n).init())),n.loadModules(),void 0!==de(Re,n)?fe(me,n,new e.reactNativeModule.ReactNativeCacheHandler(e.reactNativeModule.ReactNativeAppStateManager.asyncCache)):void 0!==e.analyticsModule&&fe(me,n,new e.analyticsModule.CacheHandler),null===(i=r.x6.analyticsModule)||void 0===i||i.CacheManager.getInstance().init(de(me,n)),void 0!==e.omsdkModule&&r.x6.adModule.OMSDKManager.getInstance().attachHandler(new e.omsdkModule.OMSDKHandler),void 0!==e.simidModule&&fe(Se,n,new e.simidModule.SimidControllerManagerHandler)};r.x6.prototype.defaultInit=r.x6.prototype.init,r.x6.prototype.init=function(e,t,n,r){s(),this.defaultInit(e,t,n,r)},r.x6.prototype.defaultInitAnalytics=r.x6.prototype.initAnalytics,r.x6.prototype.initAnalytics=function(e){s(),this.defaultInitAnalytics(e)},r.x6.prototype.defaultAttachPlayer=r.x6.prototype.attachPlayer,r.x6.prototype.attachPlayer=function(e,t){var i,o;null===(i=r.x6.analyticsModule)||void 0===i||i.PlayerManager.getInstance().init(de(Ee,n));var a=null===(o=de(Ee,n))||void 0===o?void 0:o.attachPlayer(e,t);this.defaultAttachPlayer(a)},r.x6.prototype.defaultRelease=r.x6.prototype.release,r.x6.prototype.release=function(){this.defaultRelease(),void 0!==de(be,n)&&(de(be,n).release(),fe(be,n,void 0)),void 0!==de(_e,n)&&(de(_e,n).release(),fe(_e,n,void 0)),void 0!==de(Ae,n)&&(de(Ae,n).release(),fe(Ae,n,void 0)),void 0!==de(Ne,n)&&(de(Ne,n).release(),fe(Ne,n,void 0)),void 0!==de(Re,n)&&(de(Re,n).release(),fe(Re,n,void 0))},r.fF.prototype.defaultAttachPlayer=r.fF.prototype.attachPlayer,r.fF.prototype.attachPlayer=function(e,t){var i,o;null===(i=r.x6.analyticsModule)||void 0===i||i.PlayerManager.getInstance().init(de(Ee,n));var a=null===(o=de(Ee,n))||void 0===o?void 0:o.attachPlayer(e,t);this.defaultAttachPlayer(a)},r.fF.prototype.defaultAttachSimidController=r.fF.prototype.attachSimidController,r.fF.prototype.attachSimidController=function(t,r){var i,o;null===(i=e.simidModule)||void 0===i||i.SimidControllerManager.getInstance().init(de(Se,n));var a=null===(o=de(Se,n))||void 0===o?void 0:o.attachSimidController(t,r);this.defaultAttachSimidController(a,r)},"object"===ae(t)&&(t.SmartLib=Object.assign(r.x6.getInstance(),r.x6),t.SmartLib.getInstance=function(){return r.x6.getInstance()},t.LoggerManager=r.gD,t.PlayerEventListener=null===(i=e.analyticsModule)||void 0===i?void 0:i.PlayerEventListener,t.GenericPlayerApi=null===(o=e.analyticsModule)||void 0===o?void 0:o.GenericPlayerApi,t.GenericSimidControllerApi=null===(a=e.simidModule)||void 0===a?void 0:a.GenericSimidControllerApi,t.PlayerApiImp={getVersion:function(){var e,t=null===(e=r.x6.analyticsModule)||void 0===e?void 0:e.PlayerManager.getInstance().getPlayerAdapter();return void 0!==t&&"function"==typeof t.getVersion?t.getVersion():"undefined"},getErrorCode:function(e){var t,n=null===(t=r.x6.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter();return void 0!==n&&"function"==typeof n.getErrorCode?n.getErrorCode(e):r.x6.BPUnspecifiedError}},t.StreamingSession=r.fF,t.StreamingSessionOptions=r.H1,t.StreamingSessionResult=r.Sy,t.AdManager=r.X2,t.AdInteractionType=oe)}},{key:"log",value:function(e,t,n){de(ge,this).log(e,t,n)}}])&&se(t.prototype,i),o&&se(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,o}(),Te={_:void 0};ce(Oe,"modular",!0),ce(Oe,"analyticsModule",void 0),ce(Oe,"reactNativeModule",void 0),ce(Oe,"omsdkModule",void 0),ce(Oe,"simidModule",void 0),ce(Oe,"shakaModule",void 0),ce(Oe,"dashjsModule",void 0),ce(Oe,"html5Module",void 0),ce(Oe,"avplayModule",void 0),ce(Oe,"diw387Module",void 0),ce(Oe,"hbbtv1Module",void 0),ce(Oe,"kalturaModule",void 0),ce(Oe,"connectplayerModule",void 0),ce(Oe,"rxplayerModule",void 0),ce(Oe,"hlsjsModule",void 0),ce(Oe,"bitmovinModule",void 0),ce(Oe,"theoplayerModule",void 0),ce(Oe,"videojsModule",void 0),ce(Oe,"voplayerModule",void 0),ce(Oe,"reactnativeconnectplayerModule",void 0),ce(Oe,"reactnativetheoplayerModule",void 0),ce(Oe,"chromecastModule",void 0)},3607:function(e,t,n){var r=n(2839).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},3635:function(e,t,n){var r=n(9039),i=n(4576).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},3640:function(e,t,n){var r=n(8551),i=n(4270),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},3706:function(e,t,n){var r=n(9504),i=n(4901),o=n(7629),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3709:function(e,t,n){var r=n(2839).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},3717:function(e,t){t.f=Object.getOwnPropertySymbols},3724:function(e,t,n){var r=n(9039);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3763:function(e,t,n){var r=n(2839);e.exports=/MSIE|Trident/.test(r)},3772:function(e,t,n){n(5746)},3792:function(e,t,n){var r=n(5397),i=n(6469),o=n(6269),a=n(1181),s=n(4913).f,u=n(1088),c=n(2529),l=n(6395),d=n(3724),f="Array Iterator",h=a.set,v=a.getterFor(f);e.exports=u(Array,"Array",(function(e,t){h(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=v(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,c(void 0,!0);switch(e.kind){case"keys":return c(n,!1);case"values":return c(t[n],!1)}return c([n,t[n]],!1)}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(e){}},3802:function(e,t,n){var r=n(9504),i=n(7750),o=n(655),a=n(7452),s=r("".replace),u=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,u,"")),2&e&&(n=s(n,c,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},3851:function(e,t,n){var r=n(6518),i=n(9039),o=n(5397),a=n(7347).f,s=n(3724);r({target:"Object",stat:!0,forced:!s||i((function(){a(1)})),sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},3914:function(e,t,n){n.d(t,{$:function(){return p},g:function(){return b}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7764),n(3772),n(2953);var r=n(4836);function i(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function o(e,t){return e.get(s(e,t))}function a(e,t,n){return e.set(s(e,t),n),n}function s(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function u(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var v=function(){return f((function e(){l(this,e)}),null,[{key:"log",value:function(e,t,n){}}])}(),p=f((function e(){l(this,e)}));u(p,"VERBOSE",0),u(p,"DEBUG",1),u(p,"INFO",2),u(p,"WARN",3),u(p,"ERROR",4);var y=f((function e(){l(this,e)}));u(y,"NONE",-1),u(y,"BASIC",0),u(y,"VERBOSE",1);var g=new WeakMap,E=new WeakMap,S=new WeakMap,m=new WeakMap,b=function(){function e(){l(this,e),i(this,g,v),i(this,E,void 0),i(this,S,void 0),i(this,m,void 0),a(E,this,[]),a(S,this,y.VERBOSE)}return f(e,[{key:"init",value:function(e){a(g,this,e)}},{key:"release",value:function(){a(g,this,void 0)}},{key:"printLogs",value:function(e,t,n,i){if(o(E,this).length>100&&a(E,this,[]),void 0!==i&&(n="["+i+"] "+n),o(E,this).push(t+": "+n),void 0!==o(m,this)){var s,u=r.A.formatDate()+" ";switch(e){case p.VERBOSE:u+="V/";break;case p.DEBUG:u+="D/";break;case p.INFO:u+="I/";break;case p.WARN:u+="W/";break;case p.ERROR:u+="E/"}u+=t+": "+n,null===(s=o(m,this))||void 0===s||s.onLog(u)}else o(g,this).log(e,t,n,i)}},{key:"printVerboseLogs",value:function(e,t,n){o(S,this)<y.VERBOSE||this.printLogs(p.VERBOSE,e,t,n)}},{key:"printDebugLogs",value:function(e,t,n){o(S,this)<y.VERBOSE||this.printLogs(p.DEBUG,e,t,n)}},{key:"printInfoLogs",value:function(e,t,n){o(S,this)<=y.NONE||this.printLogs(p.INFO,e,t,n)}},{key:"printWarnLogs",value:function(e,t,n){o(S,this)<=y.NONE||this.printLogs(p.WARN,e,t,n)}},{key:"printErrorLogs",value:function(e,t,n){o(S,this)<=y.NONE||this.printLogs(p.ERROR,e,t,n)}},{key:"getLogs",value:function(){return o(E,this).join("\n")}},{key:"resetLogs",value:function(){a(E,this,[])}},{key:"getLogLevel",value:function(e){return o(S,this)}},{key:"setLogLevel",value:function(e){a(S,this,e)}},{key:"setLogRedirectListener",value:function(e){a(m,this,e)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}},{key:"v",value:function(t,n,r){e.getInstance().printVerboseLogs(t,n,r)}},{key:"d",value:function(t,n,r){e.getInstance().printDebugLogs(t,n,r)}},{key:"i",value:function(t,n,r){e.getInstance().printInfoLogs(t,n,r)}},{key:"w",value:function(t,n,r){e.getInstance().printWarnLogs(t,n,r)}},{key:"e",value:function(t,n,r){e.getInstance().printErrorLogs(t,n,r)}}])}();u(b,"instance",void 0)},3925:function(e,t,n){var r=n(34);e.exports=function(e){return r(e)||null===e}},3949:function(e,t,n){n(7588)},3994:function(e,t,n){var r=n(7657).IteratorPrototype,i=n(2360),o=n(6980),a=n(687),s=n(6269),u=function(){return this};e.exports=function(e,t,n,c){var l=t+" Iterator";return e.prototype=i(r,{next:o(+!c,n)}),a(e,l,!1,!0),s[l]=u,e}},4006:function(e,t,n){var r=n(9504),i=n(6279),o=n(3451).getWeakData,a=n(679),s=n(8551),u=n(4117),c=n(34),l=n(2652),d=n(9213),f=n(9297),h=n(1181),v=h.set,p=h.getterFor,y=d.find,g=d.findIndex,E=r([].splice),S=0,m=function(e){return e.frozen||(e.frozen=new b)},b=function(){this.entries=[]},_=function(e,t){return y(e.entries,(function(e){return e[0]===t}))};b.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&E(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e((function(e,i){a(e,h),v(e,{type:t,id:S++,frozen:null}),u(i)||l(i,e[r],{that:e,AS_ENTRIES:n})})),h=d.prototype,y=p(t),g=function(e,t,n){var r=y(e),i=o(s(t),!0);return!0===i?m(r).set(t,n):i[r.id]=n,e};return i(h,{delete:function(e){var t=y(this);if(!c(e))return!1;var n=o(e);return!0===n?m(t).delete(e):n&&f(n,t.id)&&delete n[t.id]},has:function(e){var t=y(this);if(!c(e))return!1;var n=o(e);return!0===n?m(t).has(e):n&&f(n,t.id)}}),i(h,n?{get:function(e){var t=y(this);if(c(e)){var n=o(e);if(!0===n)return m(t).get(e);if(n)return n[t.id]}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},4055:function(e,t,n){var r=n(4576),i=n(34),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},4117:function(e){e.exports=function(e){return null==e}},4124:function(e,t,n){var r=n(9039),i=n(34),o=n(2195),a=n(5652),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!==o(e))&&(!s||s(e)))}:s},4209:function(e,t,n){var r=n(8227),i=n(6269),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},4213:function(e,t,n){var r=n(3724),i=n(9504),o=n(9565),a=n(9039),s=n(1072),u=n(3717),c=n(8773),l=n(8981),d=n(7055),f=Object.assign,h=Object.defineProperty,v=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||s(f({},t)).join("")!==i}))?function(e,t){for(var n=l(e),i=arguments.length,a=1,f=u.f,h=c.f;i>a;)for(var p,y=d(arguments[a++]),g=f?v(s(y),f(y)):s(y),E=g.length,S=0;E>S;)p=g[S++],r&&!o(h,y,p)||(n[p]=y[p]);return n}:f},4215:function(e,t,n){var r=n(4576),i=n(2839),o=n(2195),a=function(e){return i.slice(0,e.length)===e};e.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},4265:function(e,t,n){var r=n(2839);e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},4270:function(e,t,n){var r=n(9565),i=n(4901),o=n(34),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw new a("Can't convert object to primitive value")}},4376:function(e,t,n){var r=n(2195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},4423:function(e,t,n){var r=n(6518),i=n(9617).includes,o=n(9039),a=n(6469);r({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},4428:function(e,t,n){var r=n(8227)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4488:function(e,t,n){var r=n(7680),i=Math.floor,o=function(e,t){var n=e.length;if(n<8)for(var a,s,u=1;u<n;){for(s=u,a=e[u];s&&t(e[s-1],a)>0;)e[s]=e[--s];s!==u++&&(e[s]=a)}else for(var c=i(n/2),l=o(r(e,0,c),t),d=o(r(e,c),t),f=l.length,h=d.length,v=0,p=0;v<f||p<h;)e[v+p]=v<f&&p<h?t(l[v],d[p])<=0?l[v++]:d[p++]:v<f?l[v++]:d[p++];return e};e.exports=o},4495:function(e,t,n){var r=n(9519),i=n(9039),o=n(4576).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},4520:function(e,t,n){n(2489)},4527:function(e,t,n){var r=n(3724),i=n(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4554:function(e,t,n){var r=n(6518),i=n(8981),o=n(5610),a=n(1291),s=n(6198),u=n(4527),c=n(6837),l=n(1469),d=n(4659),f=n(4606),h=n(597)("splice"),v=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,h,y,g,E,S=i(this),m=s(S),b=o(e,m),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=m-b):(n=_-2,r=p(v(a(t),0),m-b)),c(m+n-r),h=l(S,r),y=0;y<r;y++)(g=b+y)in S&&d(h,y,S[g]);if(h.length=r,n<r){for(y=b;y<m-r;y++)E=y+n,(g=y+r)in S?S[E]=S[g]:f(S,E);for(y=m;y>m-r+n;y--)f(S,y-1)}else if(n>r)for(y=m-r;y>b;y--)E=y+n-1,(g=y+r-1)in S?S[E]=S[g]:f(S,E);for(y=0;y<n;y++)S[y+b]=arguments[y+2];return u(S,m-r+n),h}})},4576:function(e,t,n){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:function(e,t,n){var r=n(9039);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},4606:function(e,t,n){var r=n(6823),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},4659:function(e,t,n){var r=n(3724),i=n(4913),o=n(6980);e.exports=function(e,t,n){r?i.f(e,t,o(0,n)):e[t]=n}},4782:function(e,t,n){var r=n(6518),i=n(4376),o=n(3517),a=n(34),s=n(5610),u=n(6198),c=n(5397),l=n(4659),d=n(8227),f=n(597),h=n(7680),v=f("slice"),p=d("species"),y=Array,g=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(e,t){var n,r,d,f=c(this),v=u(f),E=s(e,v),S=s(void 0===t?v:t,v);if(i(f)&&(n=f.constructor,(o(n)&&(n===y||i(n.prototype))||a(n)&&null===(n=n[p]))&&(n=void 0),n===y||void 0===n))return h(f,E,S);for(r=new(void 0===n?y:n)(g(S-E,0)),d=0;E<S;E++,d++)E in f&&l(r,d,f[E]);return r.length=d,r}})},4836:function(e,t,n){n.d(t,{A:function(){return a}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7764),n(2953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var a=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"formatDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t="";e<0&&(e*=-1,t="-");var n=e.getDate()<=9?"0"+e.getDate():e.getDate(),r=e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1,i=e.getHours()<=9?"0"+e.getHours():e.getHours(),o=e.getMinutes()<=9?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<=9?"0"+e.getSeconds():e.getSeconds(),s=String(e.getMilliseconds());return 1===s.length?s="00"+s:2===s.length&&(s="0"+s),t+r+"-"+n+" "+i+":"+o+":"+a+"."+s}},{key:"formatTime",value:function(e){var t="";e<0&&(e*=-1,t="-");var n=e%1e3,r=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),a=o<=9?"0"+o:o,s=i<=9?"0"+i:i,u=r<=9?"0"+r:r,c=String(n);return 1===c.length?c="00"+c:2===c.length&&(c="0"+c),t+a+":"+s+":"+u+"."+c}}],(t=null)&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},4864:function(e,t,n){var r=n(3724),i=n(4576),o=n(9504),a=n(2796),s=n(3167),u=n(6699),c=n(2360),l=n(8480).f,d=n(1625),f=n(788),h=n(655),v=n(1034),p=n(8429),y=n(1056),g=n(6840),E=n(9039),S=n(9297),m=n(1181).enforce,b=n(7633),_=n(8227),A=n(3635),N=n(8814),R=_("match"),O=i.RegExp,T=O.prototype,w=i.SyntaxError,I=o(T.exec),D=o("".charAt),k=o("".replace),P=o("".indexOf),M=o("".slice),C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,L=/a/g,U=/a/g,x=new O(L)!==L,j=p.MISSED_STICKY,B=p.UNSUPPORTED_Y,V=r&&(!x||j||A||N||E((function(){return U[R]=!1,O(L)!==L||O(U)===U||"/a/i"!==String(O(L,"i"))})));if(a("RegExp",V)){for(var H=function(e,t){var n,r,i,o,a,l,p=d(T,this),y=f(e),g=void 0===t,E=[],b=e;if(!p&&y&&g&&e.constructor===H)return e;if((y||d(T,e))&&(e=e.source,g&&(t=v(b))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),b=e,A&&"dotAll"in L&&(r=!!t&&P(t,"s")>-1)&&(t=k(t,/s/g,"")),n=t,j&&"sticky"in L&&(i=!!t&&P(t,"y")>-1)&&B&&(t=k(t,/y/g,"")),N&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a=c(null),s=!1,u=!1,l=0,d="";r<=n;r++){if("\\"===(t=D(e,r)))t+=D(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:if(i+=t,"?:"===M(e,r+1,r+3))continue;I(C,M(e,r+1))&&(r+=2,u=!0),l++;continue;case">"===t&&u:if(""===d||S(a,d))throw new w("Invalid capture group name");a[d]=!0,o[o.length]=[d,l],u=!1,d="";continue}u?d+=t:i+=t}return[i,o]}(e),e=o[0],E=o[1]),a=s(O(e,t),p?this:T,H),(r||i||E.length)&&(l=m(a),r&&(l.dotAll=!0,l.raw=H(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=D(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+D(e,++r);return i}(e),n)),i&&(l.sticky=!0),E.length&&(l.groups=E)),e!==b)try{u(a,"source",""===b?"(?:)":b)}catch(e){}return a},F=l(O),G=0;F.length>G;)y(H,O,F[G++]);T.constructor=H,H.prototype=T,g(i,"RegExp",H,{constructor:!0})}b("RegExp")},4901:function(e){var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4913:function(e,t,n){var r=n(3724),i=n(5917),o=n(8686),a=n(8551),s=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var r=l(e,t);r&&r[h]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5031:function(e,t,n){var r=n(7751),i=n(9504),o=n(8480),a=n(3717),s=n(8551),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},5166:function(e,t,n){n.d(t,{S:function(){return s}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7495),n(7764),n(1761),n(2762),n(2953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"url",void 0),o(this,"errorCode",void 0),o(this,"detailedErrorCode",void 0),o(this,"detailedErrorMessage",void 0),o(this,"nanoCDNUsed",void 0),o(this,"nanoCDNDescr",void 0),this.url=t,this.errorCode=n,this.detailedErrorMessage=r.trim();var i=r.match("^([0-9]+).*");null!==i&&void 0!==i[1]?this.detailedErrorCode=parseInt(i[1],10):""===this.detailedErrorMessage?this.detailedErrorCode=e.RESULT_NO_DETAILED_ERROR:this.detailedErrorCode=e.RESULT_DETAILED_ERROR_PARSING_ERROR,this.nanoCDNUsed=!1,this.nanoCDNDescr=void 0}return t=e,r=[{key:"success",value:function(t){return new e(t,e.RESULT_NO_ERROR)}},{key:"error",value:function(t){return new e("",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}},{key:"getErrorMessage",value:function(t){switch(t){case e.RESULT_NO_ERROR:return"Result success. The session has been created.";case e.RESULT_NO_STREAMING_URL_FOUND:return"Request error. No streaming URL has been found. Default error when requesting the CDN (BkM/uCDN).";case e.RESULT_CDN_RESPONSE_UNREADABLE:return"Request error. The CDN response is unreadable (timeout error, CORS error, connection error).";case e.RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN:return"Request error. Content not found on the CDN (error 4XX).";case e.RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN:return"Request error. Content not found on the nanoCDN (error 404, timeout error, CORS error or connection error).";case e.RESULT_REQUESTED_URL_CDN_ERROR:return"Request error. The CDN returned an unknown error (error 5XX).";case e.RESULT_NANOCDN_SESSION_LIMIT_REACHED:return"nanoCDN error. All nanoCDN on the network responded with session limit reached error.";case e.RESULT_NANOCDN_SESSION_LIMIT_REACHED_ON_REQUESTED_CHANNEL:return"nanoCDN error. All nanoCDN on the network responded with session limit reached error for the requested channel.";case e.RESULT_NANOCDN_SERVICE_UNAVAILABLE:return"nanoCDN error. All nanoCDN on the network have their service unavailable.";case e.RESULT_NANOCDN_CHANNEL_UNAVAILABLE:return"nanoCDN error. The requested channel is unavailable on all nanoCDN of the network.";case e.RESULT_NANOCDN_REQUEST_LOCAL_IF_CONNECTED_TO_WIFI_NOT_ALLOWED:return"nanoCDN error. A nanoCDN on 127.0.0.1 has been found and is connected to Wi-Fi but it is not allowed.";case e.RESULT_API_PARAMETER_FORMAT_ERROR:return"Api error. A method parameter does not have the right format.";case e.RESULT_API_NOT_INITIALIZED:return"Api error. SmartLib init not called";case e.RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST:return"Workflow error. The session has been stopped during request.";case e.RESULT_REQUEST_ALREADY_DONE:return"Workflow error. The request has already been done for that session."}return"No error message for the error code "+t}}],(n=[{key:"getURL",value:function(){return this.url}},{key:"isError",value:function(){return this.errorCode!==e.RESULT_NO_ERROR}},{key:"getErrorCode",value:function(){return this.errorCode}},{key:"getErrorMessage",value:function(){return e.getErrorMessage(this.errorCode)}},{key:"getDetailedErrorCode",value:function(){return this.detailedErrorCode}},{key:"getDetailedErrorMessage",value:function(){return this.detailedErrorMessage}},{key:"isNanoCDNUsed",value:function(){return this.nanoCDNUsed}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();o(s,"RESULT_NO_ERROR",0),o(s,"RESULT_NO_STREAMING_URL_FOUND",3100),o(s,"RESULT_CDN_RESPONSE_UNREADABLE",3101),o(s,"RESULT_REQUESTED_URL_NOT_FOUND_ON_CDN",3102),o(s,"RESULT_REQUESTED_URL_NOT_FOUND_ON_NANOCDN",3103),o(s,"RESULT_REQUESTED_URL_CDN_ERROR",3104),o(s,"RESULT_NANOCDN_SESSION_LIMIT_REACHED",3201),o(s,"RESULT_NANOCDN_SESSION_LIMIT_REACHED_ON_REQUESTED_CHANNEL",3202),o(s,"RESULT_NANOCDN_SERVICE_UNAVAILABLE",3203),o(s,"RESULT_NANOCDN_CHANNEL_UNAVAILABLE",3204),o(s,"RESULT_NANOCDN_REQUEST_LOCAL_IF_CONNECTED_TO_WIFI_NOT_ALLOWED",3205),o(s,"RESULT_NANOCDN_RESPONSE_UNREADABLE",3206),o(s,"RESULT_API_PARAMETER_FORMAT_ERROR",3400),o(s,"RESULT_API_NOT_INITIALIZED",3401),o(s,"RESULT_SESSION_HAS_BEEN_STOPPED_DURING_REQUEST",3402),o(s,"RESULT_REQUEST_ALREADY_DONE",3403),o(s,"RESULT_NO_DETAILED_ERROR",0),o(s,"RESULT_DETAILED_ERROR_PARSING_ERROR",-1)},5186:function(e,t,n){n.d(t,{A:function(){return u}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7495),n(7764),n(5440),n(2953);var r=n(3914);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var s="BpkValidator",u=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"typeParameter",value:function(e,t,n){return i(e)===t||(r.g.e(s,n),!1)}},{key:"typeOrUndefinedParameter",value:function(e,t,n){return i(e)===t||void 0===e||(r.g.e(s,n),!1)}},{key:"typeOrNullParameter",value:function(e,t,n){return i(e)===t||null===e||(r.g.e(s,n),!1)}},{key:"stringNonEmpty",value:function(e,t){return"string"==typeof e&&e.length>0||(r.g.e(s,t),!1)}},{key:"toBkAString",value:function(e){return void 0!==e&&"string"==typeof e?e.replace(/\n/g,"").replace(/\t/g,"").replace(/\r/g,""):e}}],(t=null)&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},5276:function(e,t,n){var r=n(6518),i=n(7476),o=n(9617).indexOf,a=n(4598),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:u||!a("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return u?s(this,e,t)||0:o(this,e,t)}})},5397:function(e,t,n){var r=n(7055),i=n(7750);e.exports=function(e){return r(i(e))}},5440:function(e,t,n){var r=n(8745),i=n(9565),o=n(9504),a=n(9228),s=n(9039),u=n(8551),c=n(4901),l=n(4117),d=n(1291),f=n(8014),h=n(655),v=n(7750),p=n(7829),y=n(5966),g=n(2478),E=n(6682),S=n(8227)("replace"),m=Math.max,b=Math.min,_=o([].concat),A=o([].push),N=o("".indexOf),R=o("".slice),O="$0"==="a".replace(/./,"$0"),T=!!/./[S]&&""===/./[S]("a","$0");a("replace",(function(e,t,n){var o=T?"$":"$0";return[function(e,n){var r=v(this),o=l(e)?void 0:y(e,S);return o?i(o,e,r,n):i(t,h(r),e,n)},function(e,i){var a=u(this),s=h(e);if("string"==typeof i&&-1===N(i,o)&&-1===N(i,"$<")){var l=n(t,a,s,i);if(l.done)return l.value}var v=c(i);v||(i=h(i));var y,S=a.global;S&&(y=a.unicode,a.lastIndex=0);for(var O,T=[];null!==(O=E(a,s))&&(A(T,O),S);){""===h(O[0])&&(a.lastIndex=p(s,f(a.lastIndex),y))}for(var w,I="",D=0,k=0;k<T.length;k++){for(var P,M=h((O=T[k])[0]),C=m(b(d(O.index),s.length),0),L=[],U=1;U<O.length;U++)A(L,void 0===(w=O[U])?w:String(w));var x=O.groups;if(v){var j=_([M],L,C,s);void 0!==x&&A(j,x),P=h(r(i,void 0,j))}else P=g(M,s,C,L,x,i);C>=D&&(I+=R(s,D,C)+P,D=C+M.length)}return I+R(s,D)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||T)},5548:function(e,t,n){var r=n(3517),i=n(6823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},5610:function(e,t,n){var r=n(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},5652:function(e,t,n){var r=n(9039);e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},5700:function(e,t,n){var r=n(511),i=n(8242);r("toPrimitive"),i()},5745:function(e,t,n){var r=n(7629);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},5746:function(e,t,n){var r,i=n(2744),o=n(4576),a=n(9504),s=n(6279),u=n(3451),c=n(6468),l=n(4006),d=n(34),f=n(1181).enforce,h=n(9039),v=n(8622),p=Object,y=Array.isArray,g=p.isExtensible,E=p.isFrozen,S=p.isSealed,m=p.freeze,b=p.seal,_=!o.ActiveXObject&&"ActiveXObject"in o,A=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},N=c("WeakMap",A,l),R=N.prototype,O=a(R.set);if(v)if(_){r=l.getConstructor(A,"WeakMap",!0),u.enable();var T=a(R.delete),w=a(R.has),I=a(R.get);s(R,{delete:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),T(this,e)||t.frozen.delete(e)}return T(this,e)},has:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),w(this,e)||t.frozen.has(e)}return w(this,e)},get:function(e){if(d(e)&&!g(e)){var t=f(this);return t.frozen||(t.frozen=new r),w(this,e)?I(this,e):t.frozen.get(e)}return I(this,e)},set:function(e,t){if(d(e)&&!g(e)){var n=f(this);n.frozen||(n.frozen=new r),w(this,e)?O(this,e,t):n.frozen.set(e,t)}else O(this,e,t);return this}})}else i&&h((function(){var e=m([]);return O(new N,e,1),!E(e)}))&&s(R,{set:function(e,t){var n;return y(e)&&(E(e)?n=m:S(e)&&(n=b)),O(this,e,t),n&&n(e),this}})},5749:function(e,t,n){var r=n(788),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},5917:function(e,t,n){var r=n(3724),i=n(9039),o=n(4055);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5966:function(e,t,n){var r=n(9306),i=n(4117);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},6043:function(e,t,n){var r=n(9306),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},6080:function(e,t,n){var r=n(7476),i=n(9306),o=n(616),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},6099:function(e,t,n){var r=n(2140),i=n(6840),o=n(3179);r||i(Object.prototype,"toString",o,{unsafe:!0})},6119:function(e,t,n){var r=n(5745),i=n(3392),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},6164:function(e,t,n){n.d(t,{A:function(){return p}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(875),n(6099),n(3362),n(825),n(7764),n(2953);var r=n(134),i=n(8636),o=n(3419),a=n(8140);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function c(e,t,n){return t=d(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(l=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var v="BpkProxySessionHandler",p=function(e){function t(e){var n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=c(this,t,[e,a]),r=n,o=void 0,(i=h(i="startCalled"))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,n.startCalled=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"getQuery",value:function(){var e,t=this,n=null===(e=this.smartLib.nanoCDNHostManager)||void 0===e?void 0:e.getCurrentNanoCDNDescr(),r=void 0!==n?"nanoCDN host: "+n.hostIP:"No nanoCDN found";i.gD.i(v,r+" ("+o.A+")",this.id),this.options.print(v,"",this.id),this.initPlayerAdapter(),this.initManagers(),this.notifyStart();var s="bk-ml=1";return void 0!==n?a.A.nanoCDNModule.NanoCDNRequestManager.getInstance().getQuery(n,this).then((function(e){return s+=e,i.gD.i(v,"getQuery result : "+s,t.id),s})):(i.gD.i(v,"getQuery result : "+s,this.id),Promise.resolve(s))}},{key:"start",value:function(e,t){if(this.startCalled)i.gD.e(v,"Implementation error: SmartLib.startStreamingSession(...) already called.",this.id);else{i.gD.i(v,"Starting streaming session...",this.id),this.startCalled=!0,this.sessionReport.startSessionDate=Date.now(),this.sessionReport.requestedURL=e,this.sessionReport.redirectedURL=t,this.sessionReport.precached=this.isPrecached(),this.sessionResult=i.Sy.success(t);var n=this.smartLib.getParameters(),r={broadpeakDomainNames:n.broadpeakDomainNames,forceTeardown:n.forceTeardown};this.handleRedirectedURL(r)}}}])&&u(n.prototype,r),s&&u(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(r.A)},6193:function(e,t,n){var r=n(4215);e.exports="NODE"===r},6198:function(e,t,n){var r=n(8014);e.exports=function(e){return r(e.length)}},6269:function(e){e.exports={}},6279:function(e,t,n){var r=n(6840);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},6319:function(e,t,n){var r=n(8551),i=n(9539);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},6395:function(e){e.exports=!1},6468:function(e,t,n){var r=n(6518),i=n(4576),o=n(9504),a=n(2796),s=n(6840),u=n(3451),c=n(2652),l=n(679),d=n(4901),f=n(4117),h=n(34),v=n(9039),p=n(4428),y=n(687),g=n(3167);e.exports=function(e,t,n){var E=-1!==e.indexOf("Map"),S=-1!==e.indexOf("Weak"),m=E?"set":"add",b=i[e],_=b&&b.prototype,A=b,N={},R=function(e){var t=o(_[e]);s(_,e,"add"===e?function(e){return t(this,0===e?0:e),this}:"delete"===e?function(e){return!(S&&!h(e))&&t(this,0===e?0:e)}:"get"===e?function(e){return S&&!h(e)?void 0:t(this,0===e?0:e)}:"has"===e?function(e){return!(S&&!h(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(b)||!(S||_.forEach&&!v((function(){(new b).entries().next()})))))A=n.getConstructor(t,e,E,m),u.enable();else if(a(e,!0)){var O=new A,T=O[m](S?{}:-0,1)!==O,w=v((function(){O.has(1)})),I=p((function(e){new b(e)})),D=!S&&v((function(){for(var e=new b,t=5;t--;)e[m](t,t);return!e.has(-0)}));I||((A=t((function(e,t){l(e,_);var n=g(new b,e,A);return f(t)||c(t,n[m],{that:n,AS_ENTRIES:E}),n}))).prototype=_,_.constructor=A),(w||D)&&(R("delete"),R("has"),E&&R("get")),(D||T)&&R(m),S&&_.clear&&delete _.clear}return N[e]=A,r({global:!0,constructor:!0,forced:A!==b},N),y(A,e),S||n.setStrong(A,e,E),A}},6469:function(e,t,n){var r=n(8227),i=n(2360),o=n(4913).f,a=r("unscopables"),s=Array.prototype;void 0===s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},6499:function(e,t,n){var r=n(6518),i=n(9565),o=n(9306),a=n(6043),s=n(1103),u=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{all:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=o(t.resolve),a=[],s=0,l=1;u(e,(function(e){var o=s++,u=!1;l++,i(n,t,e).then((function(e){u||(u=!0,a[o]=e,--l||r(a))}),c)})),--l||r(a)}));return l.error&&c(l.value),n.promise}})},6518:function(e,t,n){var r=n(4576),i=n(7347).f,o=n(6699),a=n(6840),s=n(9433),u=n(7740),c=n(2796);e.exports=function(e,t){var n,l,d,f,h,v=e.target,p=e.global,y=e.stat;if(n=p?r:y?r[v]||s(v,{}):r[v]&&r[v].prototype)for(l in t){if(f=t[l],d=e.dontCallGetSet?(h=i(n,l))&&h.value:n[l],!c(p?l:v+(y?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},6578:function(e,t,n){n.d(t,{A:function(){return g}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7764),n(2953);var r=n(3914),i=(n(3362),n(977));function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function s(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var c="BpkAdPalSessionRequest",l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"active",void 0),s(this,"timeout",void 0),s(this,"adPalManager",void 0),s(this,"adPalSession",void 0),s(this,"generating",void 0),s(this,"waitNonceResolveCallback",void 0),this.active=!0,this.timeout=!1,this.adPalManager=t,this.generating=!1}return t=e,(n=[{key:"setAdPalSession",value:function(e){this.adPalSession=e,this.active=!1}},{key:"generateAdPalSession",value:function(){var t=this,n=function(){r.g.d(c,"Nonce generation timeout"),t.timeout=!0,void 0!==t.waitNonceResolveCallback&&(t.setAdPalSession(void 0),t.waitNonceResolveCallback(void 0))};this.generating=!0,i.A.getInstance().asyncNonce(e.TIMEOUT_DELAY,(function(e){var n=e.adPalSession;r.g.d(c,"AdPalSession async nonce="+(null==n?void 0:n.getNonce())),t.setAdPalSession(n)}),n,(function(){var i=setTimeout(n,e.TIMEOUT_DELAY);t.adPalManager.generateAdPalSession((function(e){clearTimeout(i),r.g.d(c,"AdPalSession nonce="+(null==e?void 0:e.getNonce())),t.setAdPalSession(e),void 0!==t.waitNonceResolveCallback&&!1===t.timeout?t.waitNonceResolveCallback(e):void 0!==t.waitNonceResolveCallback&&!0===t.timeout&&t.waitNonceResolveCallback(void 0)}))}))}},{key:"getAdPalSession",value:function(){var t=this;return void 0===this.adPalSession&&!0===this.active?new Promise((function(n,o){i.A.getInstance().waitNonce(e.TIMEOUT_DELAY,(function(e){var i=e.adPalSession;r.g.d(c,"AdPalSession nonce="+(null==i?void 0:i.getNonce())),t.setAdPalSession(i),n(t.adPalSession)}),(function(){t.active=!1,t.timeout=!0,t.waitNonceResolveCallback=void 0,n(t.adPalSession)}),(function(){!0===t.generating?t.waitNonceResolveCallback=n:(t.waitNonceResolveCallback=n,t.generateAdPalSession())}))})):new Promise((function(e,n){e(t.adPalSession)}))}}])&&a(t.prototype,n),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();s(l,"TIMEOUT_DELAY",5e3);var d=n(1942);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function v(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var y="BpkInternalAdMgr",g=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"smartLib",void 0),v(this,"initialized",void 0),v(this,"adPalManager",void 0),v(this,"omPartnerName",void 0),v(this,"omPartnerVersion",void 0),v(this,"firstAdPalSessionRequest",void 0),v(this,"palSessionEnabled",!1),v(this,"adSession",void 0),v(this,"eventCallbackEnabled",void 0),v(this,"adEventsListener",void 0),this.initialized=!1,this.palSessionEnabled=!1,this.adSession=new d.A,this.eventCallbackEnabled=!0,this.adEventsListener=void 0},(t=[{key:"init",value:function(e){this.smartLib=e,this.initialized||(this.initialized=!0,this.adSession=new d.A,this.eventCallbackEnabled=!0,this.adEventsListener=void 0,this.omPartnerName="Broadpeak_tv",this.omPartnerVersion=e.adManager.getVersion(),r.g.d(y,"Ad manager version: "+this.omPartnerVersion),r.g.d(y,"Ad manager loaded"))}},{key:"setPalManager",value:function(e){r.g.d(y,"Native PAL manager registered"),this.adPalManager=e}},{key:"requestAdPalSession",value:function(){var e=this.firstAdPalSessionRequest;return void 0!==e&&void 0===e.adPalSession&&!0===e.active&&!1===e.timeout?(r.g.d(y,"Using first nonce request..."),this.firstAdPalSessionRequest=void 0,e):(this.firstAdPalSessionRequest=void 0,e=new l(this.adPalManager),this.initialized&&this.palSessionEnabled?(r.g.d(y,"Generating nonce..."),e.generateAdPalSession(),void 0===this.adPalManager&&e.setAdPalSession(void 0)):e.setAdPalSession(void 0),e)}},{key:"release",value:function(){this.initialized=!1,this.palSessionEnabled=!1,this.adSession=new d.A,this.eventCallbackEnabled=!0,this.adEventsListener=void 0,void 0!==this.firstAdPalSessionRequest&&(this.firstAdPalSessionRequest.setAdPalSession(void 0),this.firstAdPalSessionRequest=void 0),void 0!==this.adPalManager&&this.adPalManager.reset()}},{key:"setConsentSettings",value:function(e){var t;null===(t=this.adPalManager)||void 0===t||t.setConsentSettings(e)}},{key:"setPalParameters",value:function(e,t,n,i,o,a,s,u,c,d,f){void 0!==this.adPalManager&&(void 0!==e&&this.adPalManager.setDescriptionURL(e),void 0!==t&&void 0!==n&&this.adPalManager.setOmidPartner(t,n),void 0!==i&&this.adPalManager.setOmidVersion(i),void 0!==o&&this.adPalManager.setPlayerType(o),void 0!==a&&this.adPalManager.setPlayerVersion(a),void 0!==s&&this.adPalManager.setPpid(s),0!==u&&this.adPalManager.setVideoPlayerHeight(u),0!==c&&this.adPalManager.setVideoPlayerWidth(c),this.adPalManager.setWillAdAutoPlay(d),this.adPalManager.setWillAdPlayMuted(f),this.palSessionEnabled||(this.palSessionEnabled=!0,r.g.d(y,"Generating first nonce..."),this.firstAdPalSessionRequest=new l(this.adPalManager),this.firstAdPalSessionRequest.generateAdPalSession()))}}])&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();v(g,"AD_NONCE_QUERY_PARAMETER","paln")},6682:function(e,t,n){var r=n(9565),i=n(8551),o=n(4901),a=n(2195),s=n(7323),u=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=r(n,e,t);return null!==c&&i(c),c}if("RegExp"===a(e))return r(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},6699:function(e,t,n){var r=n(3724),i=n(4913),o=n(6980);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},6706:function(e,t,n){var r=n(9504),i=n(9306);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},6761:function(e,t,n){var r=n(6518),i=n(4576),o=n(9565),a=n(9504),s=n(6395),u=n(3724),c=n(4495),l=n(9039),d=n(9297),f=n(1625),h=n(8551),v=n(5397),p=n(6969),y=n(655),g=n(6980),E=n(2360),S=n(1072),m=n(8480),b=n(298),_=n(3717),A=n(7347),N=n(4913),R=n(6801),O=n(8773),T=n(6840),w=n(2106),I=n(5745),D=n(6119),k=n(421),P=n(3392),M=n(8227),C=n(1951),L=n(511),U=n(8242),x=n(687),j=n(1181),B=n(9213).forEach,V=D("hidden"),H="Symbol",F="prototype",G=j.set,W=j.getterFor(H),q=Object[F],Y=i.Symbol,K=Y&&Y[F],Q=i.RangeError,z=i.TypeError,X=i.QObject,$=A.f,J=N.f,Z=b.f,ee=O.f,te=a([].push),ne=I("symbols"),re=I("op-symbols"),ie=I("wks"),oe=!X||!X[F]||!X[F].findChild,ae=function(e,t,n){var r=$(q,t);r&&delete q[t],J(e,t,n),r&&e!==q&&J(q,t,r)},se=u&&l((function(){return 7!==E(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?ae:J,ue=function(e,t){var n=ne[e]=E(K);return G(n,{type:H,tag:e,description:t}),u||(n.description=t),n},ce=function(e,t,n){e===q&&ce(re,t,n),h(e);var r=p(t);return h(n),d(ne,r)?(n.enumerable?(d(e,V)&&e[V][r]&&(e[V][r]=!1),n=E(n,{enumerable:g(0,!1)})):(d(e,V)||J(e,V,g(1,E(null))),e[V][r]=!0),se(e,r,n)):J(e,r,n)},le=function(e,t){h(e);var n=v(t),r=S(n).concat(ve(n));return B(r,(function(t){u&&!o(de,n,t)||ce(e,t,n[t])})),e},de=function(e){var t=p(e),n=o(ee,this,t);return!(this===q&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,V)&&this[V][t])||n)},fe=function(e,t){var n=v(e),r=p(t);if(n!==q||!d(ne,r)||d(re,r)){var i=$(n,r);return!i||!d(ne,r)||d(n,V)&&n[V][r]||(i.enumerable=!0),i}},he=function(e){var t=Z(v(e)),n=[];return B(t,(function(e){d(ne,e)||d(k,e)||te(n,e)})),n},ve=function(e){var t=e===q,n=Z(t?re:v(e)),r=[];return B(n,(function(e){!d(ne,e)||t&&!d(q,e)||te(r,ne[e])})),r};c||(Y=function(){if(f(K,this))throw new z("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=P(e),n=function(e){var r=void 0===this?i:this;r===q&&o(n,re,e),d(r,V)&&d(r[V],t)&&(r[V][t]=!1);var a=g(1,e);try{se(r,t,a)}catch(e){if(!(e instanceof Q))throw e;ae(r,t,a)}};return u&&oe&&se(q,t,{configurable:!0,set:n}),ue(t,e)},T(K=Y[F],"toString",(function(){return W(this).tag})),T(Y,"withoutSetter",(function(e){return ue(P(e),e)})),O.f=de,N.f=ce,R.f=le,A.f=fe,m.f=b.f=he,_.f=ve,C.f=function(e){return ue(M(e),e)},u&&(w(K,"description",{configurable:!0,get:function(){return W(this).description}}),s||T(q,"propertyIsEnumerable",de,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),B(S(ie),(function(e){L(e)})),r({target:H,stat:!0,forced:!c},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(e,t){return void 0===t?E(e):le(E(e),t)},defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he}),U(),x(Y,H),k[V]=!0},6801:function(e,t,n){var r=n(3724),i=n(8686),o=n(4913),a=n(8551),s=n(5397),u=n(1072);t.f=r&&!i?Object.defineProperties:function(e,t){a(e);for(var n,r=s(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,n=i[l++],r[n]);return e}},6823:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6837:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},6840:function(e,t,n){var r=n(4901),i=n(4913),o=n(283),a=n(9433);e.exports=function(e,t,n,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)u?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6910:function(e,t,n){var r=n(6518),i=n(9504),o=n(9306),a=n(8981),s=n(6198),u=n(4606),c=n(655),l=n(9039),d=n(4488),f=n(4598),h=n(3709),v=n(3763),p=n(9519),y=n(3607),g=[],E=i(g.sort),S=i(g.push),m=l((function(){g.sort(void 0)})),b=l((function(){g.sort(null)})),_=f("sort"),A=!l((function(){if(p)return p<70;if(!(h&&h>3)){if(v)return!0;if(y)return y<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:m||!b||!_||!A},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(A)return void 0===e?E(t):E(t,e);var n,r,i=[],l=s(t);for(r=0;r<l;r++)r in t&&S(i,t[r]);for(d(i,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:c(t)>c(n)?1:-1}}(e)),n=s(i),r=0;r<n;)t[r]=i[r++];for(;r<l;)u(t,r++);return t}})},6933:function(e,t,n){var r=n(9504),i=n(4376),o=n(4901),a=n(2195),s=n(655),u=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var c=e[r];"string"==typeof c?u(n,c):"number"!=typeof c&&"Number"!==a(c)&&"String"!==a(c)||u(n,s(c))}var l=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},6955:function(e,t,n){var r=n(2140),i=n(4901),o=n(2195),a=n(8227)("toStringTag"),s=Object,u="Arguments"===o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},6969:function(e,t,n){var r=n(2777),i=n(757);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},6980:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7040:function(e,t,n){var r=n(4495);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(e,t,n){var r=n(9504),i=n(9039),o=n(2195),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},7058:function(e,t,n){n.d(t,{A:function(){return c}});n(2675),n(9463),n(2259),n(5700),n(5276),n(3792),n(4782),n(9572),n(2892),n(6099),n(4864),n(7495),n(7745),n(8781),n(7764),n(5440),n(2953);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var a,s,u,c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,r=[{key:"randomIntFromInterval",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"bufferToBase64Lookup",value:function(e){return e<26?String.fromCharCode(e+"A".charCodeAt(0)):e<52?String.fromCharCode(e-26+"a".charCodeAt(0)):e<62?String.fromCharCode(e-52+"0".charCodeAt(0)):62===e?"-":63===e?"_":""}},{key:"bufferToBase64",value:function(t){var n,r=t.data(),i=t.length(),o="";for(n=0;n<i;n+=3){var a=[void 0,void 0,void 0,void 0];a[0]=r[n]>>2,a[1]=(3&r[n])<<4,i>n+1&&(a[1]|=r[n+1]>>4,a[2]=(15&r[n+1])<<2),i>n+2&&(a[2]|=r[n+2]>>6,a[3]=63&r[n+2]);for(var s=0;s<a.length;s++)void 0===a[s]||(o+=e.bufferToBase64Lookup(a[s]))}return o}},{key:"stringToBase64",value:function(t){var n="",r="",i=t.length%3;if(i>0)for(;i<3;i++)r+="=",t+="\0";for(i=0;i<t.length;i+=3){var o=(t.charCodeAt(i)<<16)+(t.charCodeAt(i+1)<<8)+t.charCodeAt(i+2);o=[o>>>18&63,o>>>12&63,o>>>6&63,63&o],n+=e.BASE64_CHARS[o[0]]+e.BASE64_CHARS[o[1]]+e.BASE64_CHARS[o[2]]+e.BASE64_CHARS[o[3]]}return n.substring(0,n.length-r.length)+r}},{key:"base64ToString",value:function(t){var n="="===(t=t.replace(new RegExp("[^"+e.BASE64_CHARS.split("")+"=]","g"),"")).charAt(t.length-1)?"="===t.charAt(t.length-2)?"AA":"A":"",r="";t=t.substr(0,t.length-n.length)+n;for(var i=0;i<t.length;i+=4){var o=(e.BASE64_CHARS.indexOf(t.charAt(i))<<18)+(e.BASE64_CHARS.indexOf(t.charAt(i+1))<<12)+(e.BASE64_CHARS.indexOf(t.charAt(i+2))<<6)+e.BASE64_CHARS.indexOf(t.charAt(i+3));r+=String.fromCharCode(o>>>16&255,o>>>8&255,255&o)}return r.substring(0,r.length-n.length)}},{key:"floor",value:function(e){return e>>>0}},{key:"bufferToString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n="[0x",r=0;r<t;r++){var i=e[r];n+=("00"+Number(i).toString(16)).slice(-2),r<t-1&&(n+=",0x")}return n+="] (capacity:"+e.length+")"}}],(n=null)&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();a=c,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",(s=o(s="BASE64_CHARS"))in a?Object.defineProperty(a,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[s]=u},7270:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function nativeRequire(lib){return eval("require")(lib)}function nativeMainRequire(lib){return eval("require").main.require(lib)}__webpack_require__.d(__webpack_exports__,{C:function(){return nativeMainRequire},t:function(){return nativeRequire}})},7323:function(e,t,n){var r,i,o=n(9565),a=n(9504),s=n(655),u=n(7979),c=n(8429),l=n(5745),d=n(2360),f=n(1181).get,h=n(3635),v=n(8814),p=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,E=a("".charAt),S=a("".indexOf),m=a("".replace),b=a("".slice),_=(i=/b*/g,o(y,r=/a/,"a"),o(y,i,"a"),0!==r.lastIndex||0!==i.lastIndex),A=c.BROKEN_CARET,N=void 0!==/()??/.exec("")[1];(_||N||A||h||v)&&(g=function(e){var t,n,r,i,a,c,l,h=this,v=f(h),R=s(e),O=v.raw;if(O)return O.lastIndex=h.lastIndex,t=o(g,O,R),h.lastIndex=O.lastIndex,t;var T=v.groups,w=A&&h.sticky,I=o(u,h),D=h.source,k=0,P=R;if(w&&(I=m(I,"y",""),-1===S(I,"g")&&(I+="g"),P=b(R,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==E(R,h.lastIndex-1))&&(D="(?: "+D+")",P=" "+P,k++),n=new RegExp("^(?:"+D+")",I)),N&&(n=new RegExp("^"+D+"$(?!\\s)",I)),_&&(r=h.lastIndex),i=o(y,w?n:h,P),w?i?(i.input=b(i.input,k),i[0]=b(i[0],k),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:_&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),N&&i&&i.length>1&&o(p,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&T)for(i.groups=c=d(null),a=0;a<T.length;a++)c[(l=T[a])[0]]=i[l[1]];return i}),e.exports=g},7347:function(e,t,n){var r=n(3724),i=n(9565),o=n(8773),a=n(6980),s=n(5397),u=n(6969),c=n(9297),l=n(5917),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},7400:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7433:function(e,t,n){var r=n(4376),i=n(3517),o=n(34),a=n(8227)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(i(t)&&(t===s||r(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},7452:function(e){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},7476:function(e,t,n){var r=n(2195),i=n(9504);e.exports=function(e){if("Function"===r(e))return i(e)}},7495:function(e,t,n){var r=n(6518),i=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7565:function(e,t,n){n.d(t,{E:function(){return E},q:function(){return S}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(875),n(6099),n(825),n(7764),n(2762),n(2953);var r=n(2913),i=n(3914),o=n(977),a=n(213);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t,n){return t=l(t),function(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var g="BpkKeepAliveMgr",E=function(){return v((function e(t){f(this,e),p(this,"handler",void 0),p(this,"active",void 0),p(this,"delay",void 0),p(this,"job",void 0),this.handler=t,this.active=!0,this.delay=t.options.get(a.H.SESSION_KEEPALIVE_FREQUENCY)}),[{key:"start",value:function(){var e=this;this.job=o.A.getInstance().asyncDelay(this.delay,(function(){e.process()}))}},{key:"callback",value:function(e){i.g.e(g,"callback method should be overridden")}},{key:"process",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.active){this.handler.notifyKeepaliveSessionReportRequested(this.handler.sessionReport),this.handler.sessionReport.keepaliveRequestDate=Date.now();var t={userAgent:this.handler.smartLib.getParameters().userAgent};this.callback(t,e)}}},{key:"next",value:function(){var e=this;this.job=o.A.getInstance().asyncDelay(this.delay,(function(){e.process()}))}},{key:"stop",value:function(){this.active=!1,o.A.getInstance().cancel(this.job)}},{key:"isActive",value:function(){return this.active}}])}(),S=function(e){function t(e){var n;return f(this,t),p(n=u(this,t,[e]),"method",void 0),n.method="POST",i.g.d(g,"Using Broadpeak CDN keepalive manager...",n.handler.id),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),v(t,[{key:"callback",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.A.getInstance().keepalive(this.handler,e,this.method).then((function(e){if(t.method=e.method,e.httpStatus>0&&(e.httpStatus<200||e.httpStatus>=300))i.g.d(g,"Stopping keepalive...",t.handler.id),t.stop();else{var r="";try{r=JSON.parse(e.body.trim())}catch(t){r=e.body.trim()}t.handler.notifyKeepaliveRequestEnded(e.httpStatus,r),!0===n&&t.next()}}))}}])}(E)},7588:function(e,t,n){var r=n(6518),i=n(2652),o=n(9306),a=n(8551),s=n(1767);r({target:"Iterator",proto:!0,real:!0},{forEach:function(e){a(this),o(e);var t=s(this),n=0;i(t,(function(t){e(t,n++)}),{IS_RECORD:!0})}})},7604:function(e,t,n){n.d(t,{A:function(){return c}});n(2675),n(9463),n(2259),n(5700),n(4423),n(5276),n(3792),n(4554),n(9572),n(2892),n(6099),n(1699),n(7764),n(8992),n(3949),n(3500),n(2953);var r=n(8636);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var u="BpkAppStateMgr",c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"smartLib",void 0),a(this,"listeners",void 0),a(this,"bound",void 0),a(this,"networkAvailable",void 0),a(this,"appInBackground",void 0),a(this,"networkType",99),a(this,"mute",0),a(this,"osName",""),a(this,"osVersion",""),a(this,"deviceType",""),this.bound=!1,this.release()}return t=e,i=[{key:"getInstance",value:function(){return l._||(l._=new e),l._}}],(n=[{key:"init",value:function(e){r.gD.d(u,"Initializing core app state manager..."),this.smartLib=e,!1===this.bound?(this.networkAvailable=!0,this.appInBackground=!1):r.gD.d(u,"Core app state manager is bound to the target, skipping default values..."),this.release()}},{key:"release",value:function(){this.listeners=[]}},{key:"setDeviceInfo",value:function(e,t,n){this.osName=e,this.osVersion=t,this.deviceType=n}},{key:"bind",value:function(){r.gD.i(u,"Device:osName="+this.osName+", osVersion="+this.osVersion),r.gD.i(u,"Device:type="+this.deviceType),this.bound=!0}},{key:"isConnectedToWifi",value:function(){return this.networkType>=10&&this.networkType<=12}},{key:"addListener",value:function(e){void 0===e||this.listeners.includes(e)||this.listeners.push(e)}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}},{key:"notifyEvent",value:function(e,t,n,r){"function"==typeof e[t]&&e[t](n,r)}},{key:"notifyForeground",value:function(){var e=this;r.gD.d(u,"App is in foreground"),this.appInBackground=!1,this.listeners.forEach((function(t){e.notifyEvent(t,"onForeground")}))}},{key:"notifyBackground",value:function(){var e=this;r.gD.d(u,"App is in background"),this.appInBackground=!0,this.listeners.forEach((function(t){e.notifyEvent(t,"onBackground")}))}},{key:"notifyNetworkAvailable",value:function(e){var t=this;void 0===e?(r.gD.d(u,"Network is available (networkType:"+e+")"),this.networkAvailable=!0,this.listeners.forEach((function(e){t.notifyEvent(e,"onNetworkAvailable",99)}))):this.networkType!==e&&(r.gD.d(u,"Network is available (networkType:"+e+")"),this.networkAvailable=!0,this.networkType=e,this.listeners.forEach((function(n){t.notifyEvent(n,"onNetworkAvailable",e)})))}},{key:"notifyNetworkLost",value:function(){var e=this;!1!==this.networkAvailable&&(r.gD.d(u,"Network is unavailable"),this.networkAvailable=!1,this.networkType=0,this.listeners.forEach((function(t){e.notifyEvent(t,"onNetworkLost")})))}},{key:"notifyMute",value:function(){var e=this;r.gD.d(u,"Volume is muted"),this.mute=1,this.listeners.forEach((function(t){e.notifyEvent(t,"onMute")}))}},{key:"notifyUnmute",value:function(){var e=this;r.gD.d(u,"Volume is unmuted"),this.mute=0,this.listeners.forEach((function(t){e.notifyEvent(t,"onUnmute")}))}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}(),l={_:void 0}},7629:function(e,t,n){var r=n(6395),i=n(4576),o=n(9433),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.41.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:function(e,t,n){var r=n(7751),i=n(2106),o=n(8227),a=n(3724),s=o("species");e.exports=function(e){var t=r(e);a&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},7657:function(e,t,n){var r,i,o,a=n(9039),s=n(4901),u=n(34),c=n(2360),l=n(2787),d=n(6840),f=n(8227),h=n(6395),v=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(r=i):p=!0),!u(r)||a((function(){var e={};return r[v].call(e)!==e}))?r={}:h&&(r=c(r)),s(r[v])||d(r,v,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},7680:function(e,t,n){var r=n(9504);e.exports=r([].slice)},7740:function(e,t,n){var r=n(9297),i=n(5031),o=n(7347),a=n(4913);e.exports=function(e,t,n){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var d=s[l];r(e,d)||n&&r(n,d)||u(e,d,c(t,d))}}},7743:function(e,t,n){var r=n(6518),i=n(9565),o=n(9306),a=n(6043),s=n(1103),u=n(2652);r({target:"Promise",stat:!0,forced:n(537)},{race:function(e){var t=this,n=a.f(t),r=n.reject,c=s((function(){var a=o(t.resolve);u(e,(function(e){i(a,t,e).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},7745:function(e,t,n){var r=n(3724),i=n(8429).MISSED_STICKY,o=n(2195),a=n(2106),s=n(1181).get,u=RegExp.prototype,c=TypeError;r&&i&&a(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!s(this).sticky;throw new c("Incompatible receiver, RegExp required")}}})},7750:function(e,t,n){var r=n(4117),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},7751:function(e,t,n){var r=n(4576),i=n(4901);e.exports=function(e,t){return arguments.length<2?(n=r[e],i(n)?n:void 0):r[e]&&r[e][t];var n}},7764:function(e,t,n){var r=n(8183).charAt,i=n(655),o=n(1181),a=n(1088),s=n(2529),u="String Iterator",c=o.set,l=o.getterFor(u);a(String,"String",(function(e){c(this,{type:u,string:i(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))}))},7812:function(e,t,n){var r=n(6518),i=n(9297),o=n(757),a=n(6823),s=n(5745),u=n(1296),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!u},{keyFor:function(e){if(!o(e))throw new TypeError(a(e)+" is not a symbol");if(i(c,e))return c[e]}})},7829:function(e,t,n){var r=n(8183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},7860:function(e,t,n){var r=n(2839);e.exports=/web0s(?!.*chrome)/i.test(r)},7916:function(e,t,n){var r=n(6080),i=n(9565),o=n(8981),a=n(6319),s=n(4209),u=n(3517),c=n(6198),l=n(4659),d=n(81),f=n(851),h=Array;e.exports=function(e){var t=o(e),n=u(this),v=arguments.length,p=v>1?arguments[1]:void 0,y=void 0!==p;y&&(p=r(p,v>2?arguments[2]:void 0));var g,E,S,m,b,_,A=f(t),N=0;if(!A||this===h&&s(A))for(g=c(t),E=n?new this(g):h(g);g>N;N++)_=y?p(t[N],N):t[N],l(E,N,_);else for(E=n?new this:[],b=(m=d(t,A)).next;!(S=i(b,m)).done;N++)_=y?a(m,p,[S.value,N],!0):S.value,l(E,N,_);return E.length=N,E}},7979:function(e,t,n){var r=n(8551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8014:function(e,t,n){var r=n(1291),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},8111:function(e,t,n){var r=n(6518),i=n(4576),o=n(679),a=n(8551),s=n(4901),u=n(2787),c=n(2106),l=n(4659),d=n(9039),f=n(9297),h=n(8227),v=n(7657).IteratorPrototype,p=n(3724),y=n(6395),g="constructor",E="Iterator",S=h("toStringTag"),m=TypeError,b=i[E],_=y||!s(b)||b.prototype!==v||!d((function(){b({})})),A=function(){if(o(this,v),u(this)===v)throw new m("Abstract class Iterator not directly constructable")},N=function(e,t){p?c(v,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===v)throw new m("You can't redefine this property");f(this,e)?this[e]=t:l(this,e,t)}}):v[e]=t};f(v,S)||N(S,E),!_&&f(v,g)&&v[g]!==Object||N(g,A),A.prototype=v,r({global:!0,constructor:!0,forced:_},{Iterator:A})},8140:function(e,t,n){n.d(t,{A:function(){return j}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(3362),n(7495),n(7764),n(5440),n(3772),n(2953);var r=n(3914),i=n(2913),o=n(3419),a=n(5186),s=(n(4554),n(8992),n(3949),n(3500),n(134)),u=n(6164),c=n(213),l=n(491),d=n(8636),f=n(7058);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var g="BpkSessionMgr",E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p(this,"smartLib",void 0),p(this,"sessions",void 0)}return t=e,n=[{key:"init",value:function(e){this.smartLib=e,this.sessions=[]}},{key:"createStreamingSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.cleanFinishedSessions();var n=new l.f(this.smartLib,c.H.create(e,t));return this.sessions.push(n),this.sessions.length>10&&d.gD.w(g,"There are "+this.sessions.length+" active sessions. Use session.stopStreamingSession() to free up memory."),n}},{key:"createAnalyticsSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.cleanFinishedSessions();var n=new j.analyticsModule.AnalyticsSession(this.smartLib,c.H.create(e,t));return this.sessions.push(n),this.sessions.length>10&&d.gD.w(g,"There are "+this.sessions.length+" active sessions. Use session.stopStreamingSession() to free up memory."),n}},{key:"cleanFinishedSessions",value:function(){for(var t=this.sessions.length-1;t>=0;t--){var n,r,i,o=this.sessions[t];void 0===o.handler&&Date.now()-o.date>e.UNSTARTED_SESSION_MAX_DURATION?(null===(r=o.playerAdapter)||void 0===r||r.detachPlayer(),null===(i=o.simidControllerAdapter)||void 0===i||i.detachSimidController(),this.sessions.splice(t,1)):(!0===(null===(n=o.handler)||void 0===n?void 0:n.stopped)||!0===o.stopped)&&this.sessions.splice(t,1)}}},{key:"createSessionHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new s.A(this.smartLib,e);return void 0!==e?(t.id=e.id,t.options=e.options,t.playerAdapter=e.playerAdapter):(t.id="main-"+f.A.randomIntFromInterval(10,99),t.options=new c.H),t}},{key:"createProxySessionHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=new u.A(this.smartLib,e);return void 0!==e?(t.id=e.id,t.options=e.options,t.playerAdapter=e.playerAdapter):(t.id="main-"+f.A.randomIntFromInterval(10,99),t.options=new c.H),t}},{key:"release",value:function(){this.cleanFinishedSessions(),this.sessions.forEach((function(e){void 0!==j.analyticsModule&&e instanceof j.analyticsModule.AnalyticsSession?e.stopAnalyticsSession():e.stopStreamingSession()})),this.sessions=[]}}],n&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();p(E,"UNSTARTED_SESSION_MAX_DURATION",36e4);var S=n(7604),m=n(9637),b=n(6578),_=n(1942);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function R(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function O(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}function w(e,t){return e.get(D(e,t))}function I(e,t,n){return e.set(D(e,t),n),n}function D(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var k="BpkSmartLib",P=new WeakMap,M=new WeakMap,C=new WeakMap,L=new WeakMap,U=new WeakMap,x=new WeakMap,j=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,P,void 0),R(this,M,void 0),R(this,C,void 0),O(this,"options",void 0),O(this,"sessionManager",void 0),O(this,"nanoCDNHostManager",void 0),O(this,"adManager",void 0),O(this,"internalAdManager",void 0),O(this,"monitoringManager",void 0),O(this,"handler",void 0),O(this,"nanoCDNReceiver",void 0),O(this,"nanoCDNHttpsEnabled",void 0),R(this,L,(function(e){null!=e&&0!==e.length?w(C,t).analyticsAddress=e:w(C,t).analyticsAddress=""})),R(this,U,(function(n){null!=n&&0!==n.length?(void 0===e.nanoCDNModule&&r.g.w(k,"Warning: nanoCDNHost is set while the module is not loaded."),w(C,t).nanoCDNHost=n.replace(/\s/g,"")):w(C,t).nanoCDNHost=""})),R(this,x,(function(e){null!=e&&0!==e.length?w(C,t).broadpeakDomainNames=e.replace(/\s/g,""):w(C,t).broadpeakDomainNames=""})),I(P,this,!1),I(M,this,!1),I(C,this,{analyticsAddress:"",nanoCDNHost:"",broadpeakDomainNames:"",forceTeardown:e.FORCE_TEARDOWN_DEFAULT,uuid:"",userAgent:void 0,deviceType:"",customParameters:{}}),this.options=new c.H,this.sessionManager=new E,this.adManager=new m.X2,this.internalAdManager=new b.A}return t=e,s=[{key:"getInstance",value:function(){return B._||(B._=new e),B._}}],(n=[{key:"init",value:function(t,n,s,u){var c,l,d,f,h,v,p,y;return r.g.i(k,"Init SmartLib..."),r.g.i(k,"Version: "+o.A),w(P,this)||w(M,this)?(r.g.e(k,"Error: SmartLib already initialized, please use SmartLib.release() before initializing."),!1):void 0!==u?(r.g.e(k,"Error: this init method has been removed, please use SmartLib.init(analyticsAddress, nanoCDNHost, broadpeakDomainNames) instead."),!1):a.A.typeOrNullParameter(t,"string","Error: analyticsAddress should be a string or null")&&a.A.typeOrNullParameter(n,"string","Error: nanoCDNHost should be a string or null")&&a.A.typeOrNullParameter(s,"string","Error: broadpeakDomainNames should be a string or null")?(w(L,this).call(this,t),w(U,this).call(this,n),w(x,this).call(this,s),this.setForceTeardown(e.FORCE_TEARDOWN_DEFAULT),r.g.i(k,"Parameters:analyticsAddress="+t+", nanoCDNHost="+n+", broadpeakDomainNames="+s),void 0!==e.nanoCDNModule&&void 0===this.nanoCDNHostManager&&(this.nanoCDNHostManager=new e.nanoCDNModule.NanoCDNHostManager,void 0!==this.nanoCDNReceiver&&(this.nanoCDNHostManager.registerNanoCDNReceiver(this.nanoCDNReceiver),this.nanoCDNReceiver=void 0),void 0!==this.nanoCDNHttpsEnabled&&(this.nanoCDNHostManager.setNanoCDNHttpsEnabled(this.nanoCDNHttpsEnabled),this.nanoCDNHttpsEnabled=void 0)),this.sessionManager.init(this),null===(c=this.nanoCDNHostManager)||void 0===c||c.init(this,n),this.adManager.init(this),this.internalAdManager.init(this),void 0!==e.monitoringModule&&(this.monitoringManager=new e.monitoringModule.RealTimeMonitoringManager(this)),i.A.getInstance().attachInstance(this),null===(l=e.analyticsModule)||void 0===l||l.CacheManager.getInstance().attachInstance(this),null===(d=e.analyticsModule)||void 0===d||d.PlayerManager.getInstance().attachInstance(this),null===(f=e.nanoCDNModule)||void 0===f||f.MdnsManager.getInstance().attachInstance(this),null===(h=e.diversityModule)||void 0===h||h.DiversityPluginManager.getInstance().attachInstance(this),null===(v=e.adModule)||void 0===v||v.OMSDKManager.getInstance().attachInstance(this),null===(p=e.simidModule)||void 0===p||p.SimidControllerManager.getInstance().attachInstance(this),S.A.getInstance().init(this),S.A.getInstance().addListener(this.nanoCDNHostManager),null===(y=e.analyticsModule)||void 0===y||y.CacheManager.getInstance().clean(),I(P,this,!0),!0):(r.g.e(k,"Error: initialization aborted"),!1)}},{key:"initAnalytics",value:function(t){var n,s,u,l,d;return r.g.i(k,"Init SmartLib analytics..."),r.g.i(k,"Version: "+o.A),w(M,this)||w(P,this)?(r.g.e(k,"Error: SmartLib analytics already initialized, please use SmartLib.release() before initializing."),!1):void 0===e.analyticsModule?(r.g.e(k,"Error: Analytics module not loaded, please import it."),!1):a.A.typeOrNullParameter(t,"string","Error: analyticsAddress should be a string or null")?(w(L,this).call(this,t),this.options=new c.H,r.g.i(k,"Parameters:analyticsAddress="+t),this.sessionManager.init(this),this.adManager.init(this),this.internalAdManager.init(this),void 0!==e.monitoringModule&&(this.monitoringManager=new e.monitoringModule.RealTimeMonitoringManager(this)),i.A.getInstance().attachInstance(this),null===(n=e.analyticsModule)||void 0===n||n.CacheManager.getInstance().attachInstance(this),null===(s=e.analyticsModule)||void 0===s||s.PlayerManager.getInstance().attachInstance(this),null===(u=e.adModule)||void 0===u||u.OMSDKManager.getInstance().attachInstance(this),null===(l=e.simidModule)||void 0===l||l.SimidControllerManager.getInstance().attachInstance(this),S.A.getInstance().init(this),null===(d=e.analyticsModule)||void 0===d||d.CacheManager.getInstance().clean(),I(M,this,!0),!0):(r.g.e(k,"Error: initialization aborted"),!1)}},{key:"getURL",value:function(t,n){var i,o,s;return void 0!==this.handler&&(r.g.e(k,"Exception: A session is already running, please use SmartLib.stopStreamingSession(...) before. Stopping the current one...",this.handler.id),this.stopStreamingSession()),r.g.i(k,"getURL with "+t,null===(i=this.handler)||void 0===i?void 0:i.id),void 0===n&&(n=function(){}),a.A.typeParameter(n,"function","Error: callback should be a function")?w(P,this)?a.A.typeParameter(t,"string","Error: requestedURL should be a string")&&a.A.stringNonEmpty(t,"Error: requestedURL is empty")?(this.handler=this.sessionManager.createSessionHandler(),this.handler.options=c.H.create(this.options),this.handler.playerAdapter=null===(o=e.analyticsModule)||void 0===o?void 0:o.PlayerManager.getInstance().getPlayerAdapter(),this.handler.adSession=this.internalAdManager.adSession,void 0!==this.internalAdManager.adSession&&(this.internalAdManager.adSession.handler=this.handler),this.internalAdManager.adSession=new _.A,this.internalAdManager.adSession.setEventCallbackEnabled(this.internalAdManager.eventCallbackEnabled),this.internalAdManager.adSession.setAdEventsListener(this.internalAdManager.adEventsListener),this.handler.start(t,n)):(n(""),Promise.resolve("")):(r.g.e(k,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.getURL(...)",null===(s=this.handler)||void 0===s?void 0:s.id),n(""),Promise.resolve("")):Promise.resolve("")}},{key:"getQuery",value:function(){var t;return void 0!==this.handler&&(r.g.e(k,"Exception: A session is already running, please use SmartLib.stopStreamingSession(...) before. Stopping the current one..."),this.stopStreamingSession()),r.g.i(k,"getQuery"),w(P,this)?(this.handler=this.sessionManager.createProxySessionHandler(),this.handler.options=c.H.create(this.options),this.handler.playerAdapter=null===(t=e.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter(),this.handler.getQuery()):(r.g.e(k,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.getQuery(...)"),"")}},{key:"startStreamingSession",value:function(e,t){var n,i,o,s;return r.g.i(k,"startStreamingSession with "+e+" and "+t,null===(n=this.handler)||void 0===n?void 0:n.id),w(P,this)?!(!a.A.typeParameter(e,"string","Error: contentURL should be a string")||!a.A.typeParameter(t,"string","Error: redirectedURL should be a string")||(void 0===this.handler?(r.g.e(k,"Exception: Implementation error, SmartLib.getQuery() should be called prior to SmartLib.startStreamingSession(...)",null===(o=this.handler)||void 0===o?void 0:o.id),1):this.handler instanceof u.A?(this.handler.start(e,t),0):(r.g.e(k,"Exception: Implementation error, SmartLib.startStreamingSession(...) cannot be called with SmartLib.getURL(...)",null===(s=this.handler)||void 0===s?void 0:s.id),1))):(r.g.e(k,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.startStreamingSession(...)",null===(i=this.handler)||void 0===i?void 0:i.id),!1)}},{key:"stopStreamingSession",value:function(e){var t,n;void 0!==e?r.g.i(k,"Stopping streaming session with statusCode "+e+"...",null===(t=this.handler)||void 0===t?void 0:t.id):r.g.i(k,"Stopping streaming session...",null===(n=this.handler)||void 0===n?void 0:n.id);var i=this.handler;return void 0!==this.handler?(this.handler.stop(e),this.handler=void 0):r.g.d(k,"Stopping streaming session aborted, no session started"),i}},{key:"createStreamingSession",value:function(e){if(w(P,this)){var t=void 0===e;t&&(e=this.options);var n=this.sessionManager.createStreamingSession(this.options,e);return t?r.g.i(k,"Creating streaming session...",n.id):(r.g.i(k,"Creating streaming session with options...",n.id),e.printUpdates(k,"",n.id)),n}r.g.e(k,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.createStreamingSession(...)")}},{key:"createAnalyticsSession",value:function(e){if(w(M,this)){var t=void 0===e;t&&(e=this.options);var n=this.sessionManager.createAnalyticsSession(this.options,e);return t?r.g.i(k,"Creating analytics session...",n.id):(r.g.i(k,"Creating analytics session with options...",n.id),e.printUpdates(k,"",n.id)),n}r.g.e(k,"Exception: Implementation error, SmartLib.initAnalytics(...) should be called prior to SmartLib.createAnalyticsSession(...)")}},{key:"release",value:function(){var t,n,o,a,s,u,l,d,f,h,v,p,y;w(P,this)&&(r.g.i(k,"Releasing SmartLib..."),this.stopStreamingSession(),this.internalAdManager.release(),this.adManager.release(),null===(t=this.nanoCDNHostManager)||void 0===t||t.release(),this.sessionManager.release(),null===(n=this.monitoringManager)||void 0===n||n.release(),S.A.getInstance().release(),null===(o=e.nanoCDNModule)||void 0===o||o.MdnsManager.getInstance().release(),null===(a=e.analyticsModule)||void 0===a||a.PlayerManager.getInstance().release(),null===(s=e.analyticsModule)||void 0===s||s.CacheManager.getInstance().release(),i.A.getInstance().release(),null===(u=e.diversityModule)||void 0===u||u.DiversityPluginManager.getInstance().release(),null===(l=e.adModule)||void 0===l||l.OMSDKManager.getInstance().release(this),null===(d=e.simidModule)||void 0===d||d.SimidControllerManager.getInstance().release(),I(P,this,!1)),w(M,this)&&(r.g.i(k,"Releasing SmartLib analytics..."),this.stopStreamingSession(),this.internalAdManager.release(),this.adManager.release(),this.sessionManager.release(),null===(f=this.monitoringManager)||void 0===f||f.release(),S.A.getInstance().release(),null===(h=e.analyticsModule)||void 0===h||h.PlayerManager.getInstance().release(),null===(v=e.analyticsModule)||void 0===v||v.CacheManager.getInstance().release(),i.A.getInstance().release(),null===(p=e.adModule)||void 0===p||p.OMSDKManager.getInstance().release(this),null===(y=e.simidModule)||void 0===y||y.SimidControllerManager.getInstance().release(),I(M,this,!1)),this.options=new c.H,w(L,this).call(this,""),w(U,this).call(this,""),w(x,this).call(this,"")}},{key:"attachPlayer",value:function(t,n){var i,o,a;void 0!==t?(null===(i=e.analyticsModule)||void 0===i||i.PlayerManager.getInstance().setPlayerAdapter(t),void 0!==this.handler&&r.g.e(k,"Exception: You cannot attach a player when a session is running, this player will be used for the next session.",this.handler.id)):void 0===e.analyticsModule?r.g.w(k,"Try to attach a player, but analytics module not loaded",null===(o=this.handler)||void 0===o?void 0:o.id):r.g.w(k,"Try to attach a player, but it is not recognized",null===(a=this.handler)||void 0===a?void 0:a.id)}},{key:"detachPlayer",value:function(){var t;return void 0!==this.handler?(r.g.e(k,"Exception: You cannot detach the player when a session is running",this.handler.id),!1):(null===(t=e.analyticsModule)||void 0===t||t.PlayerManager.getInstance().setPlayerAdapter(void 0),!0)}},{key:"isInitialized",value:function(){return w(P,this)}},{key:"isAnalyticsInitialized",value:function(){return w(M,this)}},{key:"getMetricsManager",value:function(){if(void 0!==this.handler)return this.handler.metricsManager}},{key:"getListener",value:function(){var t;return null===(t=e.analyticsModule)||void 0===t?void 0:t.PlayerManager.getInstance().getPlayerAdapter()}},{key:"getVersion",value:function(){return o.A}},{key:"getParameters",value:function(){return w(C,this)}},{key:"setUUID",value:function(e){a.A.typeParameter(e,"string","Error: uuid should be a string")&&(e.length>36?w(C,this).uuid=e.substring(0,36):w(C,this).uuid=e)}},{key:"setUserAgent",value:function(e){a.A.typeOrUndefinedParameter(e,"string","Error: userAgent should be a string")&&(w(C,this).userAgent=e)}},{key:"setDeviceType",value:function(e){a.A.typeParameter(e,"string","Error: deviceType should be a string")&&(w(C,this).deviceType=e,S.A.getInstance().deviceType=e)}},{key:"setCustomParameter",value:function(e,t){"string"==typeof e?w(C,this).customParameters[e]=a.A.toBkAString(String(t)):r.g.e(k,"Error: Only string values are accepted for custom parameters")}},{key:"resetCustomParameters",value:function(){w(C,this).customParameters={}}},{key:"setForceTeardown",value:function(t){"number"==typeof t?w(C,this).forceTeardown=t>=1?e.FORCE_TEARDOWN_ENABLED:t<=-1?e.FORCE_TEARDOWN_DISABLED:e.FORCE_TEARDOWN_DEFAULT:r.g.e(k,"Exception: parameter forceTeardown must be SmartLib.FORCE_TEARDOWN_DISABLED, SmartLib.FORCE_TEARDOWN_DEFAULT or SmartLib.FORCE_TEARDOWN_ENABLED")}},{key:"setNanoCDNResolvingRetryDelay",value:function(e){var t;void 0!==this.nanoCDNHostManager?(r.g.v(k,"Updating nanoCDN resolving retry asyncDelay to "+e+"ms"),null===(t=this.nanoCDNHostManager)||void 0===t||t.setNanoCDNResolvingRetryDelay(e)):r.g.e(k,"Exception: Implementation error, SmartLib.init(...) should be called prior to SmartLib.setNanoCDNResolvingRetryDelay(...)")}},{key:"registerNanoCDNReceiver",value:function(e){void 0!==this.nanoCDNHostManager?(this.nanoCDNReceiver=void 0,this.nanoCDNHostManager.registerNanoCDNReceiver(e)):this.nanoCDNReceiver=e}},{key:"setNanoCDNHttpsEnabled",value:function(e){r.g.v(k,"Updating nanoCDN https enabled to "+e),void 0!==this.nanoCDNHostManager?(this.nanoCDNHttpsEnabled=void 0,this.nanoCDNHostManager.setNanoCDNHttpsEnabled(e)):this.nanoCDNHttpsEnabled=e}},{key:"restartNanoCDNResolving",value:function(){var e;null===(e=this.nanoCDNHostManager)||void 0===e||e.restartNanoCDNResolving()}},{key:"setOption",value:function(e,t){r.g.d(k,"Setting global option "+c.H.optionToString(e)+" to "+c.H.valueToString(e,t)),this.options.set(e,t)}}])&&N(t.prototype,n),s&&N(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,s}(),B={_:void 0};O(j,"FORCE_TEARDOWN_DISABLED",-1),O(j,"FORCE_TEARDOWN_DEFAULT",0),O(j,"FORCE_TEARDOWN_ENABLED",1),O(j,"BPSessionEndsNormally",200),O(j,"BPFormatNotSupportedError",3001),O(j,"BPDecodingError",3002),O(j,"BPNetworkingError",3003),O(j,"BPAccessRightError",3004),O(j,"BPUnspecifiedError",3005),O(j,"analyticsModule",void 0),O(j,"adModule",void 0),O(j,"nanoCDNModule",void 0),O(j,"diversityModule",void 0),O(j,"monitoringModule",void 0)},8183:function(e,t,n){var r=n(9504),i=n(1291),o=n(655),a=n(7750),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=o(a(t)),f=i(n),h=d.length;return f<0||f>=h?e?"":void 0:(r=u(d,f))<55296||r>56319||f+1===h||(l=u(d,f+1))<56320||l>57343?e?s(d,f):r:e?c(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},8227:function(e,t,n){var r=n(4576),i=n(5745),o=n(9297),a=n(3392),s=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),d=u?c.for||c:c&&c.withoutSetter||a;e.exports=function(e){return o(l,e)||(l[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),l[e]}},8242:function(e,t,n){var r=n(9565),i=n(7751),o=n(8227),a=n(6840);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,s=o("toPrimitive");t&&!t[s]&&a(t,s,(function(e){return r(n,this)}),{arity:1})}},8265:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},8379:function(e,t,n){var r=n(8745),i=n(5397),o=n(1291),a=n(6198),s=n(4598),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=l||!d;e.exports=f?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=a(t);if(0===n)return-1;var s=n-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},8429:function(e,t,n){var r=n(9039),i=n(4576).RegExp,o=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=o||r((function(){return!i("a","y").sticky})),s=o||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},8480:function(e,t,n){var r=n(1828),i=n(8727).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},8551:function(e,t,n){var r=n(34),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},8622:function(e,t,n){var r=n(4576),i=n(4901),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8636:function(e,t,n){n.d(t,{X2:function(){return s.X2},GM:function(){return f},r2:function(){return g},CE:function(){return a.A},Em:function(){return b.A},$b:function(){return o.$},gD:function(){return o.g},Je:function(){return i.A},x6:function(){return r.A},fF:function(){return E.f},H1:function(){return S.H},Sy:function(){return m.S}});var r=n(8140),i=n(2913),o=n(3914),a=(n(977),n(7604)),s=n(9637);n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7764),n(2953);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var d="BpkAdPalMgr",f=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"setConsentSettings",value:function(e){o.g.e(d,"setConsentSettings not implemented")}},{key:"registerPalManagerCallback",value:function(e){o.g.e(d,"registerPalManagerCallback not implemented")}},{key:"unregisterPalManagerCallback",value:function(){o.g.e(d,"unregisterPalManagerCallback not implemented")}},{key:"generateAdPalSession",value:function(e){o.g.e(d,"generateAdPalSession not implemented")}},{key:"reset",value:function(){o.g.e(d,"reset not implemented")}},{key:"release",value:function(){}},{key:"setValue",value:function(e,t,n){o.g.e(d,"setValue not implemented")}},{key:"setDescriptionURL",value:function(e){this.setValue("setDescriptionURL",e)}},{key:"setOmidPartner",value:function(e,t){this.setValue("setOmidPartner",e,t)}},{key:"setOmidVersion",value:function(e){this.setValue("setOmidVersion",e)}},{key:"setPlayerType",value:function(e){this.setValue("setPlayerType",e)}},{key:"setPlayerVersion",value:function(e){this.setValue("setPlayerVersion",e)}},{key:"setPpid",value:function(e){this.setValue("setPpid",e)}},{key:"setVideoPlayerHeight",value:function(e){this.setValue("setVideoPlayerHeight",e)}},{key:"setVideoPlayerWidth",value:function(e){this.setValue("setVideoPlayerWidth",e)}},{key:"setWillAdAutoPlay",value:function(e){this.setValue("setWillAdAutoPlay",e)}},{key:"setWillAdPlayMuted",value:function(e){this.setValue("setWillAdPlayMuted",e)}}])&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var y="BpkAdPalSession",g=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},(t=[{key:"getNonce",value:function(){return o.g.e(y,"getNonce not implemented"),""}},{key:"sendAdClick",value:function(){o.g.e(y,"sendAdClick not implemented")}},{key:"sendAdImpression",value:function(){o.g.e(y,"sendAdImpression not implemented")}},{key:"sendPlaybackStart",value:function(){o.g.e(y,"sendPlaybackStart not implemented")}},{key:"sendPlaybackEnd",value:function(){o.g.e(y,"sendPlaybackEnd not implemented")}},{key:"sendTouch",value:function(e){o.g.e(y,"sendTouch not implemented")}},{key:"setAdView",value:function(e){}}])&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),E=n(491),S=n(213),m=n(5166),b=n(4836)},8686:function(e,t,n){var r=n(3724),i=n(9039);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8706:function(e,t,n){var r=n(6518),i=n(9039),o=n(4376),a=n(34),s=n(8981),u=n(6198),c=n(6837),l=n(4659),d=n(1469),f=n(597),h=n(8227),v=n(9519),p=h("isConcatSpreadable"),y=v>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),g=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,arity:1,forced:!y||!f("concat")},{concat:function(e){var t,n,r,i,o,a=s(this),f=d(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(g(o=-1===t?a:arguments[t]))for(i=u(o),c(h+i),n=0;n<i;n++,h++)n in o&&l(f,h,o[n]);else c(h+1),l(f,h++,o);return f.length=h,f}})},8727:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(e,t,n){var r=n(616),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},8773:function(e,t){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},8781:function(e,t,n){var r=n(350).PROPER,i=n(6840),o=n(8551),a=n(655),s=n(9039),u=n(1034),c="toString",l=RegExp.prototype,d=l[c],f=s((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),h=r&&d.name!==c;(f||h)&&i(l,c,(function(){var e=o(this);return"/"+a(e.source)+"/"+a(u(e))}),{unsafe:!0})},8814:function(e,t,n){var r=n(9039),i=n(4576).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},8921:function(e,t,n){var r=n(6518),i=n(8379);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},8981:function(e,t,n){var r=n(7750),i=Object;e.exports=function(e){return i(r(e))}},8992:function(e,t,n){n(8111)},9039:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},9085:function(e,t,n){var r=n(6518),i=n(4213);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9167:function(e,t,n){var r=n(4576);e.exports=r},9213:function(e,t,n){var r=n(6080),i=n(9504),o=n(7055),a=n(8981),s=n(6198),u=n(1469),c=i([].push),l=function(e){var t=1===e,n=2===e,i=3===e,l=4===e,d=6===e,f=7===e,h=5===e||d;return function(v,p,y,g){for(var E,S,m=a(v),b=o(m),_=s(b),A=r(p,y),N=0,R=g||u,O=t?R(v,_):n||f?R(v,0):void 0;_>N;N++)if((h||N in b)&&(S=A(E=b[N],N,m),e))if(t)O[N]=S;else if(S)switch(e){case 3:return!0;case 5:return E;case 6:return N;case 2:c(O,E)}else switch(e){case 4:return!1;case 7:c(O,E)}return d?-1:i||l?l:O}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9225:function(e,t,n){var r,i,o,a,s=n(4576),u=n(8745),c=n(6080),l=n(4901),d=n(9297),f=n(9039),h=n(397),v=n(7680),p=n(4055),y=n(2812),g=n(9544),E=n(6193),S=s.setImmediate,m=s.clearImmediate,b=s.process,_=s.Dispatch,A=s.Function,N=s.MessageChannel,R=s.String,O=0,T={},w="onreadystatechange";f((function(){r=s.location}));var I=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},D=function(e){return function(){I(e)}},k=function(e){I(e.data)},P=function(e){s.postMessage(R(e),r.protocol+"//"+r.host)};S&&m||(S=function(e){y(arguments.length,1);var t=l(e)?e:A(e),n=v(arguments,1);return T[++O]=function(){u(t,void 0,n)},i(O),O},m=function(e){delete T[e]},E?i=function(e){b.nextTick(D(e))}:_&&_.now?i=function(e){_.now(D(e))}:N&&!g?(a=(o=new N).port2,o.port1.onmessage=k,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(P)?(i=P,s.addEventListener("message",k,!1)):i=w in p("script")?function(e){h.appendChild(p("script"))[w]=function(){h.removeChild(this),I(e)}}:function(e){setTimeout(D(e),0)}),e.exports={set:S,clear:m}},9228:function(e,t,n){n(7495);var r=n(9565),i=n(6840),o=n(7323),a=n(9039),s=n(8227),u=n(6699),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),h=!a((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),v=h&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!h||!v||n){var p=/./[f],y=t(f,""[e],(function(e,t,n,i,a){var s=t.exec;return s===o||s===l.exec?h&&!a?{done:!0,value:r(p,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,y[0]),i(l,f,y[1])}d&&u(l[f],"sham",!0)}},9296:function(e,t,n){var r=n(4055)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},9297:function(e,t,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},9306:function(e,t,n){var r=n(4901),i=n(6823),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},9433:function(e,t,n){var r=n(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9449:function(e,t,n){var r,i=n(6518),o=n(7476),a=n(7347).f,s=n(8014),u=n(655),c=n(5749),l=n(7750),d=n(1436),f=n(6395),h=o("".slice),v=Math.min,p=d("endsWith");i({target:"String",proto:!0,forced:!!(f||p||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!p},{endsWith:function(e){var t=u(l(this));c(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,i=void 0===n?r:v(s(n),r),o=u(e);return h(t,i-o.length,i)===o}})},9462:function(e,t,n){var r=n(9565),i=n(2360),o=n(6699),a=n(6279),s=n(8227),u=n(1181),c=n(5966),l=n(7657).IteratorPrototype,d=n(2529),f=n(9539),h=s("toStringTag"),v="IteratorHelper",p="WrapForValidIterator",y=u.set,g=function(e){var t=u.getterFor(e?p:v);return a(i(l),{next:function(){var n=t(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var r=n.nextHandler();return n.returnHandlerResult?r:d(r,n.done)}catch(e){throw n.done=!0,e}},return:function(){var n=t(this),i=n.iterator;if(n.done=!0,e){var o=c(i,"return");return o?r(o,i):d(void 0,!0)}if(n.inner)try{f(n.inner.iterator,"normal")}catch(e){return f(i,"throw",e)}return i&&f(i,"normal"),d(void 0,!0)}})},E=g(!0),S=g(!1);o(S,h,"Iterator Helper"),e.exports=function(e,t,n){var r=function(r,i){i?(i.iterator=r.iterator,i.next=r.next):i=r,i.type=t?p:v,i.returnHandlerResult=!!n,i.nextHandler=e,i.counter=0,i.done=!1,y(this,i)};return r.prototype=t?E:S,r}},9463:function(e,t,n){var r=n(6518),i=n(3724),o=n(4576),a=n(9504),s=n(9297),u=n(4901),c=n(1625),l=n(655),d=n(2106),f=n(7740),h=o.Symbol,v=h&&h.prototype;if(i&&u(h)&&(!("description"in v)||void 0!==h().description)){var p={},y=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(v,this)?new h(e):void 0===e?h():h(e);return""===e&&(p[t]=!0),t};f(y,h),y.prototype=v,v.constructor=y;var g="Symbol(description detection)"===String(h("description detection")),E=a(v.valueOf),S=a(v.toString),m=/^Symbol\((.*)\)[^)]+$/,b=a("".replace),_=a("".slice);d(v,"description",{configurable:!0,get:function(){var e=E(this);if(s(p,e))return"";var t=S(e),n=g?_(t,7,-1):b(t,m,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:y})}},9504:function(e,t,n){var r=n(616),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},9519:function(e,t,n){var r,i,o=n(4576),a=n(2839),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},9539:function(e,t,n){var r=n(9565),i=n(8551),o=n(5966);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},9544:function(e,t,n){var r=n(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},9565:function(e,t,n){var r=n(616),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9572:function(e,t,n){var r=n(9297),i=n(6840),o=n(3640),a=n(8227)("toPrimitive"),s=Date.prototype;r(s,a)||i(s,a,o)},9617:function(e,t,n){var r=n(5397),i=n(5610),o=n(6198),a=function(e){return function(t,n,a){var s=r(t),u=o(s);if(0===u)return!e&&-1;var c,l=i(a,u);if(e&&n!=n){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},9637:function(e,t,n){n.d(t,{D6:function(){return h},X2:function(){return y},eQ:function(){return v},up:function(){return d}});n(2675),n(9463),n(2259),n(5700),n(3792),n(9572),n(2892),n(6099),n(7764),n(2953);var r=n(8140),i=n(3914);function o(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var d=function(){function e(){s(this,e)}return c(e,null,[{key:"isAdViewState",value:function(t){switch(t){case e.MINIMIZED:case e.COLLAPSED:case e.NORMAL:case e.EXPANDED:case e.FULLSCREEN:return!0}return!1}}])}();o(d,"MINIMIZED","minimized"),o(d,"COLLAPSED","collapsed"),o(d,"NORMAL","normal"),o(d,"EXPANDED","expanded"),o(d,"FULLSCREEN","fullscreen");var f=c((function e(){s(this,e)}));o(f,"CLICK","click"),o(f,"INVITATION_ACCEPTED","invitationAccept");var h=function(){return c((function e(){s(this,e)}),null,[{key:"isAdFriendlyObstructionPurpose",value:function(e){return e>=0&&e<=3}}])}();o(h,"VIDEO_CONTROLS",0),o(h,"CLOSE_AD",1),o(h,"NOT_VISIBLE",2),o(h,"OTHER",3);var v=function(){return c((function e(){s(this,e)}),null,[{key:"getAdType",value:function(e){switch(e){case this.AD_LINEAR:case this.AD_NON_LINEAR:case this.AD_LINEAR_AND_NON_LINEAR:return e;case void 0:return this.AD_LINEAR;default:return this.UNSUPPORTED}}}])}();o(v,"AD_LINEAR","linear"),o(v,"AD_NON_LINEAR","nonlinear"),o(v,"AD_LINEAR_AND_NON_LINEAR","linear_and_nonlinear"),o(v,"UNSUPPORTED","unsupported");var p="BpkAdMgr",y=function(){return c((function e(){s(this,e),o(this,"smartLib",void 0),o(this,"palSDK",void 0)}),[{key:"init",value:function(e){this.smartLib=e}},{key:"release",value:function(){}},{key:"getVersion",value:function(){return"04.05.00"}},{key:"attachPALSDK",value:function(e){"object"===a(e.pal)?(i.g.d(p,"PAL SDK attached"),this.palSDK=e):i.g.e(p,"Try to attach PAL SDK, but it is not recognized")}},{key:"setConsentSettings",value:function(e){this.smartLib.internalAdManager.setConsentSettings(e)}},{key:"setPalParameters",value:function(e,t,n,r,i,o,a,s,u,c,l){this.smartLib.internalAdManager.setPalParameters(e,t,n,r,i,o,a,s,u,c,l)}},{key:"activateAdvertising",value:function(){this.smartLib.internalAdManager.adSession.activateAdvertising()}},{key:"setAdParameter",value:function(e,t){this.smartLib.internalAdManager.adSession.setAdParameter(e,t)}},{key:"setEventCallbackEnabled",value:function(e){this.smartLib.internalAdManager.eventCallbackEnabled=e,this.smartLib.internalAdManager.adSession.setEventCallbackEnabled(e)}},{key:"setAdEventsListener",value:function(e){this.smartLib.internalAdManager.adEventsListener=e,this.smartLib.internalAdManager.adSession.setAdEventsListener(e)}}],[{key:"getInstance",value:function(){return r.A.getInstance().adManager}}])}()},9773:function(e,t,n){var r=n(6518),i=n(4495),o=n(9039),a=n(3717),s=n(8981);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(e){var t=a.f;return t?t(s(e)):[]}})}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=function(e,t,n,r){if(!t){var i=1/0;for(u=0;u<deferred.length;u++){t=deferred[u][0],n=deferred[u][1],r=deferred[u][2];for(var o=!0,a=0;a<t.length;a++)(!1&r||i>=r)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](t[a])}))?t.splice(a--,1):(o=!1,r<i&&(i=r));if(o){deferred.splice(u--,1);var s=n();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=deferred.length;u>0&&deferred[u-1][2]>r;u--)deferred[u]=deferred[u-1];deferred[u]=[t,n,r]},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={152:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(s)var c=s(__webpack_require__)}for(t&&t(n);u<o.length;u++)i=o[u],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(c)},n=("undefined"!=typeof self?self:global).webpackChunkSmartLibModule=("undefined"!=typeof self?self:global).webpackChunkSmartLibModule||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AdInteractionType:function(){return core__WEBPACK_IMPORTED_MODULE_0__.AdInteractionType},AdManager:function(){return core__WEBPACK_IMPORTED_MODULE_0__.X2},LoggerManager:function(){return core__WEBPACK_IMPORTED_MODULE_0__.gD},RequestManager:function(){return core__WEBPACK_IMPORTED_MODULE_0__.Je},SmartLib:function(){return core__WEBPACK_IMPORTED_MODULE_0__.x6},StreamingSession:function(){return core__WEBPACK_IMPORTED_MODULE_0__.fF},StreamingSessionOptions:function(){return core__WEBPACK_IMPORTED_MODULE_0__.H1},StreamingSessionResult:function(){return core__WEBPACK_IMPORTED_MODULE_0__.Sy}});var core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8636),_engine_CoreEngine__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3557);return _engine_CoreEngine__WEBPACK_IMPORTED_MODULE_1__.A.getInstance().init(),__webpack_exports__=__webpack_require__.O(__webpack_exports__),__webpack_exports__}()}));